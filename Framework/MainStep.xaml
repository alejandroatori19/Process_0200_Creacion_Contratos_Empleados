<Activity mc:Ignorable="sap sap2010" x:Class="MainStep" xmlns="http://schemas.microsoft.com/netfx/2009/xaml/activities" xmlns:av="http://schemas.microsoft.com/winfx/2006/xaml/presentation" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:mg="clr-namespace:Microsoft.Graph;assembly=Microsoft.Graph" xmlns:s="clr-namespace:System;assembly=System.Private.CoreLib" xmlns:sap="http://schemas.microsoft.com/netfx/2009/xaml/activities/presentation" xmlns:sap2010="http://schemas.microsoft.com/netfx/2010/xaml/activities/presentation" xmlns:sc="clr-namespace:System.ComponentModel;assembly=System.ComponentModel.TypeConverter" xmlns:scg="clr-namespace:System.Collections.Generic;assembly=System.Private.CoreLib" xmlns:sco="clr-namespace:System.Collections.ObjectModel;assembly=System.Private.CoreLib" xmlns:si="clr-namespace:System.IO;assembly=System.Private.CoreLib" xmlns:ui="http://schemas.uipath.com/workflow/activities" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
  <x:Members>
    <x:Property Name="in_config" Type="InArgument(scg:Dictionary(x:String, scg:Dictionary(x:String, x:String)))" />
    <x:Property Name="in_stepCode" Type="InArgument(x:String)" />
  </x:Members>
  <VisualBasic.Settings>
    <x:Null />
  </VisualBasic.Settings>
  <sap:VirtualizedContainerService.HintSize>900,852</sap:VirtualizedContainerService.HintSize>
  <sap2010:WorkflowViewState.IdRef>Main2_1</sap2010:WorkflowViewState.IdRef>
  <TextExpression.NamespacesForImplementation>
    <scg:List x:TypeArguments="x:String" Capacity="104">
      <x:String>CoE_Functions_Activities</x:String>
      <x:String>CoE_Logs_Activities</x:String>
      <x:String>CoE_MicrosoftOffice365_Activities.Outlook</x:String>
      <x:String>CoE_Utilities_Activities</x:String>
      <x:String>CoE_Utilities_Activities.Orchestrator</x:String>
      <x:String>Microsoft.Graph</x:String>
      <x:String>Microsoft.VisualBasic</x:String>
      <x:String>Microsoft.VisualBasic.Activities</x:String>
      <x:String>Microsoft.VisualBasic.CompilerServices</x:String>
      <x:String>Newtonsoft.Json</x:String>
      <x:String>Newtonsoft.Json.Linq</x:String>
      <x:String>System</x:String>
      <x:String>System.Activities</x:String>
      <x:String>System.Activities.Expressions</x:String>
      <x:String>System.Activities.Runtime.Collections</x:String>
      <x:String>System.Activities.Statements</x:String>
      <x:String>System.Activities.Validation</x:String>
      <x:String>System.Activities.XamlIntegration</x:String>
      <x:String>System.Collections</x:String>
      <x:String>System.Collections.Generic</x:String>
      <x:String>System.Collections.ObjectModel</x:String>
      <x:String>System.Collections.Specialized</x:String>
      <x:String>System.ComponentModel</x:String>
      <x:String>System.Data</x:String>
      <x:String>System.Diagnostics</x:String>
      <x:String>System.Drawing</x:String>
      <x:String>System.Dynamic</x:String>
      <x:String>System.IO</x:String>
      <x:String>System.Linq</x:String>
      <x:String>System.Net</x:String>
      <x:String>System.Net.Mail</x:String>
      <x:String>System.Reflection</x:String>
      <x:String>System.Runtime.InteropServices</x:String>
      <x:String>System.Runtime.Serialization</x:String>
      <x:String>System.Security</x:String>
      <x:String>System.Windows.Markup</x:String>
      <x:String>System.Xml</x:String>
      <x:String>System.Xml.Linq</x:String>
      <x:String>System.Xml.Serialization</x:String>
      <x:String>UiPath.Activities.System.Arrays</x:String>
      <x:String>UiPath.Activities.System.Collections</x:String>
      <x:String>UiPath.Core</x:String>
      <x:String>UiPath.Core.Activities</x:String>
      <x:String>UiPath.Core.Activities.Orchestrator</x:String>
      <x:String>UiPath.Database</x:String>
      <x:String>UiPath.Database.Activities</x:String>
      <x:String>UiPath.DataTableUtilities</x:String>
      <x:String>UiPath.Excel</x:String>
      <x:String>UiPath.Excel.Activities</x:String>
      <x:String>UiPath.MicrosoftOffice365.Activities</x:String>
      <x:String>UiPath.MicrosoftOffice365.Activities.Excel</x:String>
      <x:String>UiPath.MicrosoftOffice365.Activities.Files</x:String>
      <x:String>UiPath.MicrosoftOffice365.Activities.Files.Contracts</x:String>
      <x:String>UiPath.MicrosoftOffice365.Activities.Mail</x:String>
      <x:String>UiPath.MicrosoftOffice365.Enums</x:String>
      <x:String>UiPath.Orchestrator.Client.Models</x:String>
      <x:String>UiPath.Platform.ResourceHandling</x:String>
      <x:String>UiPath.Shared.Activities</x:String>
      <x:String>UiPath.Shared.Activities.ConnectionService.Contracts</x:String>
      <x:String>UiPath.UIAutomationCore.Contracts</x:String>
      <x:String>UiPath.Web.Activities</x:String>
      <x:String>CoE_MicrosoftOffice365_Activities.SharePoint.Files</x:String>
      <x:String>UiPath.MicrosoftOffice365.Activities.Files.Enums</x:String>
      <x:String>UiPath.Shared.Activities.Utils</x:String>
      <x:String>UiPath.MicrosoftOffice365.Files.Models</x:String>
      <x:String>UiPath.MicrosoftOffice365.Activities.Excel.Enums</x:String>
      <x:String>UiPath.MicrosoftOffice365.Activities.Contracts</x:String>
      <x:String>System.Linq.Expressions</x:String>
      <x:String>System.Numerics</x:String>
      <x:String>UiPath.Platform.SyncObjects</x:String>
      <x:String>GlobalVariablesNamespace</x:String>
      <x:String>GlobalConstantsNamespace</x:String>
      <x:String>UiPath.Shared.Activities.Business</x:String>
    </scg:List>
  </TextExpression.NamespacesForImplementation>
  <TextExpression.ReferencesForImplementation>
    <sco:Collection x:TypeArguments="AssemblyReference">
      <AssemblyReference>CoE Logs Activities</AssemblyReference>
      <AssemblyReference>CoE Logs Activities.ViewModels</AssemblyReference>
      <AssemblyReference>CoE MicrosoftOffice365 Activities</AssemblyReference>
      <AssemblyReference>CoE Utilities Activities</AssemblyReference>
      <AssemblyReference>Microsoft.Bcl.AsyncInterfaces</AssemblyReference>
      <AssemblyReference>Microsoft.Graph</AssemblyReference>
      <AssemblyReference>Microsoft.Graph.Core</AssemblyReference>
      <AssemblyReference>Microsoft.VisualBasic</AssemblyReference>
      <AssemblyReference>Microsoft.VisualBasic.Core</AssemblyReference>
      <AssemblyReference>Microsoft.VisualBasic.Forms</AssemblyReference>
      <AssemblyReference>Microsoft.Win32.Primitives</AssemblyReference>
      <AssemblyReference>mscorlib</AssemblyReference>
      <AssemblyReference>netstandard</AssemblyReference>
      <AssemblyReference>Newtonsoft.Json</AssemblyReference>
      <AssemblyReference>NPOI</AssemblyReference>
      <AssemblyReference>PresentationCore</AssemblyReference>
      <AssemblyReference>PresentationFramework</AssemblyReference>
      <AssemblyReference>System</AssemblyReference>
      <AssemblyReference>System.Activities</AssemblyReference>
      <AssemblyReference>System.CodeDom</AssemblyReference>
      <AssemblyReference>System.Collections</AssemblyReference>
      <AssemblyReference>System.Collections.Immutable</AssemblyReference>
      <AssemblyReference>System.Collections.NonGeneric</AssemblyReference>
      <AssemblyReference>System.Collections.Specialized</AssemblyReference>
      <AssemblyReference>System.ComponentModel</AssemblyReference>
      <AssemblyReference>System.ComponentModel.Composition</AssemblyReference>
      <AssemblyReference>System.ComponentModel.EventBasedAsync</AssemblyReference>
      <AssemblyReference>System.ComponentModel.Primitives</AssemblyReference>
      <AssemblyReference>System.ComponentModel.TypeConverter</AssemblyReference>
      <AssemblyReference>System.Configuration.ConfigurationManager</AssemblyReference>
      <AssemblyReference>System.Console</AssemblyReference>
      <AssemblyReference>System.Core</AssemblyReference>
      <AssemblyReference>System.Data</AssemblyReference>
      <AssemblyReference>System.Data.Common</AssemblyReference>
      <AssemblyReference>System.Data.DataSetExtensions</AssemblyReference>
      <AssemblyReference>System.Data.SqlClient</AssemblyReference>
      <AssemblyReference>System.Drawing</AssemblyReference>
      <AssemblyReference>System.Linq</AssemblyReference>
      <AssemblyReference>System.Linq.Async</AssemblyReference>
      <AssemblyReference>System.Linq.Async.Queryable</AssemblyReference>
      <AssemblyReference>System.Linq.Expressions</AssemblyReference>
      <AssemblyReference>System.Linq.Parallel</AssemblyReference>
      <AssemblyReference>System.Linq.Queryable</AssemblyReference>
      <AssemblyReference>System.Memory</AssemblyReference>
      <AssemblyReference>System.Memory.Data</AssemblyReference>
      <AssemblyReference>System.ObjectModel</AssemblyReference>
      <AssemblyReference>System.Private.CoreLib</AssemblyReference>
      <AssemblyReference>System.Private.ServiceModel</AssemblyReference>
      <AssemblyReference>System.Private.Uri</AssemblyReference>
      <AssemblyReference>System.Private.Xml</AssemblyReference>
      <AssemblyReference>System.Reflection.Metadata</AssemblyReference>
      <AssemblyReference>System.Runtime.Serialization</AssemblyReference>
      <AssemblyReference>System.Security.Permissions</AssemblyReference>
      <AssemblyReference>System.ServiceModel</AssemblyReference>
      <AssemblyReference>System.ValueTuple</AssemblyReference>
      <AssemblyReference>System.Xaml</AssemblyReference>
      <AssemblyReference>System.Xml</AssemblyReference>
      <AssemblyReference>System.Xml.Linq</AssemblyReference>
      <AssemblyReference>UiPath.Database</AssemblyReference>
      <AssemblyReference>UiPath.Database.Activities</AssemblyReference>
      <AssemblyReference>UiPath.Excel</AssemblyReference>
      <AssemblyReference>UiPath.Excel.Activities</AssemblyReference>
      <AssemblyReference>UiPath.Excel.Activities.Design</AssemblyReference>
      <AssemblyReference>UiPath.FTP.Activities</AssemblyReference>
      <AssemblyReference>UiPath.MicrosoftOffice365</AssemblyReference>
      <AssemblyReference>UiPath.MicrosoftOffice365.Activities</AssemblyReference>
      <AssemblyReference>UiPath.OCR.Activities</AssemblyReference>
      <AssemblyReference>UiPath.OCR.Activities.Design</AssemblyReference>
      <AssemblyReference>UiPath.OrchestratorClient</AssemblyReference>
      <AssemblyReference>UiPath.Platform</AssemblyReference>
      <AssemblyReference>UiPath.Studio.Constants</AssemblyReference>
      <AssemblyReference>UiPath.System.Activities</AssemblyReference>
      <AssemblyReference>UiPath.System.Activities.Design</AssemblyReference>
      <AssemblyReference>UiPath.System.Activities.ViewModels</AssemblyReference>
      <AssemblyReference>UiPath.UiAutomation.Activities</AssemblyReference>
      <AssemblyReference>UiPath.UIAutomationCore</AssemblyReference>
      <AssemblyReference>UiPath.Web.Activities</AssemblyReference>
      <AssemblyReference>UiPath.Workflow</AssemblyReference>
      <AssemblyReference>UiPath_CustomActivities_CoE</AssemblyReference>
      <AssemblyReference>WindowsBase</AssemblyReference>
      <AssemblyReference>CoE MicrosoftOffice365 Activities.ViewModels</AssemblyReference>
      <AssemblyReference>System.IO.FileSystem.Watcher</AssemblyReference>
      <AssemblyReference>System.IO.Packaging</AssemblyReference>
      <AssemblyReference>System.IO.FileSystem.AccessControl</AssemblyReference>
      <AssemblyReference>System.IO.FileSystem.DriveInfo</AssemblyReference>
      <AssemblyReference>System.Private.DataContractSerialization</AssemblyReference>
      <AssemblyReference>System.Runtime.Serialization.Formatters</AssemblyReference>
      <AssemblyReference>System.Runtime.Serialization.Primitives</AssemblyReference>
      <AssemblyReference>NPOI.Core</AssemblyReference>
      <AssemblyReference>System.Runtime.Numerics</AssemblyReference>
      <AssemblyReference>System.Reflection.DispatchProxy</AssemblyReference>
      <AssemblyReference>System.Reflection.TypeExtensions</AssemblyReference>
      <AssemblyReference>UiPath.UIAutomationNext.Activities</AssemblyReference>
    </sco:Collection>
  </TextExpression.ReferencesForImplementation>
  <sap:WorkflowViewStateService.ViewState>
    <scg:Dictionary x:TypeArguments="x:String, x:Object">
      <x:Boolean x:Key="ShouldExpandAll">False</x:Boolean>
    </scg:Dictionary>
  </sap:WorkflowViewStateService.ViewState>
  <StateMachine InitialState="{x:Reference __ReferenceID3}" sap2010:Annotation.AnnotationText="Through the different states and transitions, the processing of the TransactionItems contained in the defined work queue will be carried out." DisplayName="State Machine - Main Step" sap:VirtualizedContainerService.HintSize="926.4000000000001,353.6" sap2010:WorkflowViewState.IdRef="StateMachine_1">
    <sap:WorkflowViewStateService.ViewState>
      <scg:Dictionary x:TypeArguments="x:String, x:Object">
        <x:Boolean x:Key="IsExpanded">True</x:Boolean>
        <av:Point x:Key="ShapeLocation">245,75</av:Point>
        <x:Double x:Key="StateContainerWidth">961</x:Double>
        <x:Double x:Key="StateContainerHeight">710</x:Double>
        <av:PointCollection x:Key="ConnectorLocation">294.6,99.8 324.6,99.8 324.6,126.04 458,126.04</av:PointCollection>
        <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
      </scg:Dictionary>
    </sap:WorkflowViewStateService.ViewState>
    <State x:Name="__ReferenceID0" sap2010:Annotation.AnnotationText="Inicializa las variables de excepción y elemento de transacción.&#xA;Comprueba las condiciones iniciales (acerca de la hora, activos, aplicaciones y orquestador).&#xA;Recupera un nuevo elemento de transacción.&#xA;Flujo de trabajo &quot;InitAllApplications&quot;." DisplayName="State - Get Transaction Data" sap:VirtualizedContainerService.HintSize="667.2,9628.8" sap2010:WorkflowViewState.IdRef="State_4">
      <State.Entry>
        <TryCatch sap2010:Annotation.AnnotationText="Inicializa las variables de excepción y elemento de transacción.&#xA;Comprueba las condiciones iniciales (acerca de la hora, activos, aplicaciones y orquestador).&#xA;Recupera un nuevo elemento de transacción.&#xA;Flujo de trabajo &quot;InitAllApplications&quot;." DisplayName="Try Catch - Get Transaction Data" sap:VirtualizedContainerService.HintSize="622.4,9162.4" sap2010:WorkflowViewState.IdRef="TryCatch_10">
          <sap:WorkflowViewStateService.ViewState>
            <scg:Dictionary x:TypeArguments="x:String, x:Object">
              <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
              <x:Boolean x:Key="IsExpanded">True</x:Boolean>
              <x:Boolean x:Key="IsPinned">False</x:Boolean>
            </scg:Dictionary>
          </sap:WorkflowViewStateService.ViewState>
          <TryCatch.Try>
            <Sequence sap2010:Annotation.AnnotationText="Inicializa las variables de excepción y elemento de transacción.&#xA;Comprueba las condiciones iniciales (acerca de la hora, activos, aplicaciones y orquestador).&#xA;Recupera un nuevo elemento de transacción.&#xA;Flujo de trabajo &quot;InitAllApplications&quot;." DisplayName="Sequence - Get Transaction Data" sap:VirtualizedContainerService.HintSize="620.8,8132.8" sap2010:WorkflowViewState.IdRef="Sequence_487">
              <Sequence.Variables>
                <Variable x:TypeArguments="x:String" Name="datetime_startProcessingTransactionItemTime" />
              </Sequence.Variables>
              <sap:WorkflowViewStateService.ViewState>
                <scg:Dictionary x:TypeArguments="x:String, x:Object">
                  <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                  <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                  <x:Boolean x:Key="IsPinned">False</x:Boolean>
                </scg:Dictionary>
              </sap:WorkflowViewStateService.ViewState>
              <ui:LogMessage DisplayName="Log Message - Init State - Get Transaction Data" sap:VirtualizedContainerService.HintSize="587.2,174.4" sap2010:WorkflowViewState.IdRef="LogMessage_59" Level="Info" Message="[&quot;Iniciamos Stado 'Get Transaction Data'&quot;]">
                <sap:WorkflowViewStateService.ViewState>
                  <scg:Dictionary x:TypeArguments="x:String, x:Object">
                    <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                    <x:Boolean x:Key="IsPinned">False</x:Boolean>
                  </scg:Dictionary>
                </sap:WorkflowViewStateService.ViewState>
              </ui:LogMessage>
              <Sequence sap2010:Annotation.AnnotationText="Inicializar las variables Exception y TransactionItem.&#xA;Comprobar si el proceso debe detenerse desde Orchestrator.&#xA;Comprobar si el proceso debe detenerse desde los activos booleanos.&#xA;Comprobar si las aplicaciones definidas en el archivo de configuración están disponibles." DisplayName="Sequence - Initialize Variables - Check Initials Conditions" sap:VirtualizedContainerService.HintSize="587.2,3367.2" sap2010:WorkflowViewState.IdRef="Sequence_565">
                <sap:WorkflowViewStateService.ViewState>
                  <scg:Dictionary x:TypeArguments="x:String, x:Object">
                    <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                    <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                    <x:Boolean x:Key="IsPinned">False</x:Boolean>
                  </scg:Dictionary>
                </sap:WorkflowViewStateService.ViewState>
                <ui:MultipleAssign DisplayName="Assigns - Initialize Exception variables" sap:VirtualizedContainerService.HintSize="551.2,274.4" sap2010:WorkflowViewState.IdRef="MultipleAssign_71">
                  <ui:MultipleAssign.AssignOperations>
                    <scg:List x:TypeArguments="ui:AssignOperation" Capacity="8">
                      <ui:AssignOperation sap2010:WorkflowViewState.IdRef="AssignOperation_171">
                        <ui:AssignOperation.To>
                          <OutArgument x:TypeArguments="s:Exception">[ex_Exception]</OutArgument>
                        </ui:AssignOperation.To>
                        <ui:AssignOperation.Value>
                          <InArgument x:TypeArguments="s:Exception">[Nothing]</InArgument>
                        </ui:AssignOperation.Value>
                      </ui:AssignOperation>
                      <ui:AssignOperation sap2010:WorkflowViewState.IdRef="AssignOperation_172">
                        <ui:AssignOperation.To>
                          <OutArgument x:TypeArguments="s:SystemException">[ex_SystemException]</OutArgument>
                        </ui:AssignOperation.To>
                        <ui:AssignOperation.Value>
                          <InArgument x:TypeArguments="s:SystemException">[Nothing]</InArgument>
                        </ui:AssignOperation.Value>
                      </ui:AssignOperation>
                      <ui:AssignOperation sap2010:WorkflowViewState.IdRef="AssignOperation_173">
                        <ui:AssignOperation.To>
                          <OutArgument x:TypeArguments="ui:BusinessRuleException">[ex_businessException]</OutArgument>
                        </ui:AssignOperation.To>
                        <ui:AssignOperation.Value>
                          <InArgument x:TypeArguments="ui:BusinessRuleException">[Nothing]</InArgument>
                        </ui:AssignOperation.Value>
                      </ui:AssignOperation>
                      <ui:AssignOperation sap2010:WorkflowViewState.IdRef="AssignOperation_174">
                        <ui:AssignOperation.To>
                          <OutArgument x:TypeArguments="s:ArgumentException">[ex_ArgumentException]</OutArgument>
                        </ui:AssignOperation.To>
                        <ui:AssignOperation.Value>
                          <InArgument x:TypeArguments="s:ArgumentException">[Nothing]</InArgument>
                        </ui:AssignOperation.Value>
                      </ui:AssignOperation>
                      <ui:AssignOperation sap2010:WorkflowViewState.IdRef="AssignOperation_175">
                        <ui:AssignOperation.To>
                          <OutArgument x:TypeArguments="ui:SelectorNotFoundException">[ex_SelectorNotFoundException]</OutArgument>
                        </ui:AssignOperation.To>
                        <ui:AssignOperation.Value>
                          <InArgument x:TypeArguments="ui:SelectorNotFoundException">[Nothing]</InArgument>
                        </ui:AssignOperation.Value>
                      </ui:AssignOperation>
                    </scg:List>
                  </ui:MultipleAssign.AssignOperations>
                  <sap:WorkflowViewStateService.ViewState>
                    <scg:Dictionary x:TypeArguments="x:String, x:Object">
                      <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                      <x:Boolean x:Key="IsPinned">False</x:Boolean>
                    </scg:Dictionary>
                  </sap:WorkflowViewStateService.ViewState>
                </ui:MultipleAssign>
                <ui:MultipleAssign DisplayName="Assigns - Initialize TransactionItem variables" sap:VirtualizedContainerService.HintSize="551.2,212" sap2010:WorkflowViewState.IdRef="MultipleAssign_53">
                  <ui:MultipleAssign.AssignOperations>
                    <scg:List x:TypeArguments="ui:AssignOperation" Capacity="8">
                      <ui:AssignOperation sap2010:WorkflowViewState.IdRef="AssignOperation_126">
                        <ui:AssignOperation.To>
                          <OutArgument x:TypeArguments="ui:QueueItem">[queueItem_TransactionItem]</OutArgument>
                        </ui:AssignOperation.To>
                        <ui:AssignOperation.Value>
                          <InArgument x:TypeArguments="ui:QueueItem">[Nothing]</InArgument>
                        </ui:AssignOperation.Value>
                      </ui:AssignOperation>
                      <ui:AssignOperation sap2010:WorkflowViewState.IdRef="AssignOperation_127">
                        <ui:AssignOperation.To>
                          <OutArgument x:TypeArguments="scg:Dictionary(x:String, x:Object)">[dic_queueParameters]</OutArgument>
                        </ui:AssignOperation.To>
                        <ui:AssignOperation.Value>
                          <InArgument x:TypeArguments="scg:Dictionary(x:String, x:Object)">[Nothing]</InArgument>
                        </ui:AssignOperation.Value>
                      </ui:AssignOperation>
                      <ui:AssignOperation sap2010:WorkflowViewState.IdRef="AssignOperation_128">
                        <ui:AssignOperation.To>
                          <OutArgument x:TypeArguments="scg:Dictionary(x:String, x:Object)">[dic_queueParameters]</OutArgument>
                        </ui:AssignOperation.To>
                        <ui:AssignOperation.Value>
                          <InArgument x:TypeArguments="scg:Dictionary(x:String, x:Object)">[New Dictionary(Of String, Object)()]</InArgument>
                        </ui:AssignOperation.Value>
                      </ui:AssignOperation>
                    </scg:List>
                  </ui:MultipleAssign.AssignOperations>
                  <sap:WorkflowViewStateService.ViewState>
                    <scg:Dictionary x:TypeArguments="x:String, x:Object">
                      <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                      <x:Boolean x:Key="IsPinned">False</x:Boolean>
                    </scg:Dictionary>
                  </sap:WorkflowViewStateService.ViewState>
                </ui:MultipleAssign>
                <Sequence sap2010:Annotation.AnnotationText="Comprueba si el proceso debe detenerse desde Orchestrator.&#xA;Comprueba si el proceso debe detenerse desde los activos booleanos.&#xA;Comprueba si las aplicaciones definidas en el archivo de configuración están disponibles." DisplayName="Sequence - Checks Initial Conditions" sap:VirtualizedContainerService.HintSize="551.2,1952.8" sap2010:WorkflowViewState.IdRef="Sequence_64">
                  <sap:WorkflowViewStateService.ViewState>
                    <scg:Dictionary x:TypeArguments="x:String, x:Object">
                      <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                      <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                      <x:Boolean x:Key="IsPinned">False</x:Boolean>
                    </scg:Dictionary>
                  </sap:WorkflowViewStateService.ViewState>
                  <ui:ShouldStop sap2010:Annotation.AnnotationText="Comprueba si el proceso debe detenerse desde Orchestrator" DisplayName="Check Stop Signal" sap:VirtualizedContainerService.HintSize="517.6,167.2" sap2010:WorkflowViewState.IdRef="ShouldStop_2" Result="[bool_shouldStop]">
                    <sap:WorkflowViewStateService.ViewState>
                      <scg:Dictionary x:TypeArguments="x:String, x:Object">
                        <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                        <x:Boolean x:Key="IsPinned">False</x:Boolean>
                        <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                      </scg:Dictionary>
                    </sap:WorkflowViewStateService.ViewState>
                  </ui:ShouldStop>
                  <Sequence sap2010:Annotation.AnnotationText="Recurso booleano [a nivel de proceso] que indica si este proceso tiene permiso de ejecución. &#xA;Recurso booleano [a nivel de carpeta de orquestador] que indica si este proceso tiene permiso de ejecución." DisplayName="Sequence - Get Asset - Allow Execution" sap:VirtualizedContainerService.HintSize="517.6,1090.4" sap2010:WorkflowViewState.IdRef="Sequence_557">
                    <sap:WorkflowViewStateService.ViewState>
                      <scg:Dictionary x:TypeArguments="x:String, x:Object">
                        <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                        <x:Boolean x:Key="IsPinned">False</x:Boolean>
                        <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                      </scg:Dictionary>
                    </sap:WorkflowViewStateService.ViewState>
                    <ui:RetryScope LogRetriedExceptions="{x:Null}" RetriedExceptionsLogLevel="{x:Null}" sap2010:Annotation.AnnotationText="Activo booleano [a nivel de proceso] que indica si este proceso tiene permiso de ejecución" DisplayName="Retry Scope - Get Asset - Allow Process Execution" sap:VirtualizedContainerService.HintSize="416,464.8" sap2010:WorkflowViewState.IdRef="RetryScope_50" NumberOfRetries="3" RetryInterval="00:00:03">
                      <ui:RetryScope.ActivityBody>
                        <ActivityAction>
                          <ui:GetRobotAsset TimeoutMS="{x:Null}" AssetName="[in_config(&quot;Settings&quot;)(&quot;PermitirEjecucionProceso&quot;).ToString]" CacheStrategy="None" DisplayName="Get Asset - PermissEjec" FolderPath="[in_config(&quot;Settings&quot;)(&quot;RutaCarpetaOrquestador&quot;).ToString]" sap:VirtualizedContainerService.HintSize="336,143.2" sap2010:WorkflowViewState.IdRef="GetRobotAsset_3">
                            <ui:GetRobotAsset.Value>
                              <OutArgument x:TypeArguments="x:Boolean">[bool_allowProcessExecution]</OutArgument>
                            </ui:GetRobotAsset.Value>
                            <sap:WorkflowViewStateService.ViewState>
                              <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                <x:Boolean x:Key="IsPinned">False</x:Boolean>
                              </scg:Dictionary>
                            </sap:WorkflowViewStateService.ViewState>
                          </ui:GetRobotAsset>
                        </ActivityAction>
                      </ui:RetryScope.ActivityBody>
                      <ui:RetryScope.Condition>
                        <ActivityFunc x:TypeArguments="x:Boolean" />
                      </ui:RetryScope.Condition>
                      <sap:WorkflowViewStateService.ViewState>
                        <scg:Dictionary x:TypeArguments="x:String, x:Object">
                          <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                          <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                          <x:Boolean x:Key="IsPinned">False</x:Boolean>
                        </scg:Dictionary>
                      </sap:WorkflowViewStateService.ViewState>
                    </ui:RetryScope>
                    <ui:RetryScope LogRetriedExceptions="{x:Null}" RetriedExceptionsLogLevel="{x:Null}" sap2010:Annotation.AnnotationText="Activo booleano [en el nivel de OrchestratorFolder] que indica si este proceso tiene permiso de ejecución" DisplayName="Retry Scope - Get Asset - Allow All Processes Execution" sap:VirtualizedContainerService.HintSize="416,456" sap2010:WorkflowViewState.IdRef="RetryScope_51" NumberOfRetries="3" RetryInterval="00:00:03">
                      <ui:RetryScope.ActivityBody>
                        <ActivityAction>
                          <ui:GetRobotAsset TimeoutMS="{x:Null}" AssetName="[in_config(&quot;Settings&quot;)(&quot;PermitirEjecucionTodosProcesos&quot;).ToString]" CacheStrategy="None" DisplayName="Get Asset - Allow All Processes Execution" FolderPath="[in_config(&quot;Settings&quot;)(&quot;RutaCarpetaOrquestador&quot;).ToString]" sap:VirtualizedContainerService.HintSize="334.4,143.2" sap2010:WorkflowViewState.IdRef="GetRobotAsset_4">
                            <ui:GetRobotAsset.Value>
                              <OutArgument x:TypeArguments="x:Boolean">[bool_allowAllProcessesExecution]</OutArgument>
                            </ui:GetRobotAsset.Value>
                            <sap:WorkflowViewStateService.ViewState>
                              <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                <x:Boolean x:Key="IsPinned">False</x:Boolean>
                              </scg:Dictionary>
                            </sap:WorkflowViewStateService.ViewState>
                          </ui:GetRobotAsset>
                        </ActivityAction>
                      </ui:RetryScope.ActivityBody>
                      <ui:RetryScope.Condition>
                        <ActivityFunc x:TypeArguments="x:Boolean" />
                      </ui:RetryScope.Condition>
                      <sap:WorkflowViewStateService.ViewState>
                        <scg:Dictionary x:TypeArguments="x:String, x:Object">
                          <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                          <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                          <x:Boolean x:Key="IsPinned">False</x:Boolean>
                        </scg:Dictionary>
                      </sap:WorkflowViewStateService.ViewState>
                    </ui:RetryScope>
                  </Sequence>
                  <Sequence sap2010:Annotation.AnnotationText="Comprueba si el tiempo desde que se inició el proceso es mayor al tiempo configurado." DisplayName="Sequence - Time Exceeded" sap:VirtualizedContainerService.HintSize="517.6,542.4" sap2010:WorkflowViewState.IdRef="Sequence_87">
                    <sap:WorkflowViewStateService.ViewState>
                      <scg:Dictionary x:TypeArguments="x:String, x:Object">
                        <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                        <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                        <x:Boolean x:Key="IsPinned">False</x:Boolean>
                      </scg:Dictionary>
                    </sap:WorkflowViewStateService.ViewState>
                    <Assign DisplayName="Assign - Current Time" sap:VirtualizedContainerService.HintSize="484,113.6" sap2010:WorkflowViewState.IdRef="Assign_38">
                      <Assign.To>
                        <OutArgument x:TypeArguments="s:DateTime">[datetime_currentTime]</OutArgument>
                      </Assign.To>
                      <Assign.Value>
                        <InArgument x:TypeArguments="s:DateTime">[Date.Now]</InArgument>
                      </Assign.Value>
                    </Assign>
                    <ui:IfElseIf DisplayName="Else If - Time Exceeded" sap:VirtualizedContainerService.HintSize="484,300.8" sap2010:WorkflowViewState.IdRef="IfElseIf_7">
                      <ui:IfElseIf.ConditionBlocks>
                        <sc:BindingList x:TypeArguments="ui:IfElseIfBlock" AllowEdit="True" AllowNew="True" AllowRemove="True" RaiseListChangedEvents="True">
                          <ui:IfElseIfBlock BlockType="If" Condition="[datetime_currentTime&gt;datetime_maximumExecutionTimeProcessingTransactionItems]" sap2010:WorkflowViewState.IdRef="IfElseIfBlock_2">
                            <ui:IfElseIfBlock.Then>
                              <Assign DisplayName="Assign - Time Exceeded" sap:VirtualizedContainerService.HintSize="433.6,81.6" sap2010:WorkflowViewState.IdRef="Assign_78">
                                <Assign.To>
                                  <OutArgument x:TypeArguments="x:Boolean">[bool_timeExceeded]</OutArgument>
                                </Assign.To>
                                <Assign.Value>
                                  <InArgument x:TypeArguments="x:Boolean">True</InArgument>
                                </Assign.Value>
                              </Assign>
                            </ui:IfElseIfBlock.Then>
                          </ui:IfElseIfBlock>
                        </sc:BindingList>
                      </ui:IfElseIf.ConditionBlocks>
                    </ui:IfElseIf>
                  </Sequence>
                </Sequence>
                <ui:LogMessage DisplayName="Log Message - Info About Transactions Processed" sap:VirtualizedContainerService.HintSize="551.2,174.4" sap2010:WorkflowViewState.IdRef="LogMessage_60" Level="Info" Message="[&quot;Informacion Sobre TransactionItems&quot; + chr(10) + &#xA;&quot;- TransactionItems a Procesar: &quot; + in_config(in_stepCode)(&quot;maximumTransactionItemsToProcess&quot;).ToString + chr(10) + &#xA;&quot;- TransactionItems Procesadas: &quot; + int_transactionsItemsProcessed.ToString + chr(10) + &#xA;&quot;- TransactionItems con BusinessException: &quot; + int_businessExceptionsNumber.ToString + chr(10) +&#xA;&quot;- TransactionItems con SystemException: &quot; +int_systemExceptionsNumber.ToString + chr(10) +  &#xA;&quot;- Asset 'AllowProcessExecution' valor: &quot; + bool_allowProcessExecution.ToString + chr(10) + &#xA;&quot;- Asset 'AllowAllProcessesExecution' valor: &quot; + bool_allowAllProcessesExecution.ToString + chr(10) + &#xA;&quot;- Tiempo Excedido: &quot; + bool_timeExceeded.ToString]">
                  <sap:WorkflowViewStateService.ViewState>
                    <scg:Dictionary x:TypeArguments="x:String, x:Object">
                      <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                      <x:Boolean x:Key="IsPinned">False</x:Boolean>
                    </scg:Dictionary>
                  </sap:WorkflowViewStateService.ViewState>
                </ui:LogMessage>
                <ui:IfElseIf sap2010:Annotation.AnnotationText="Si algunas condiciones no son aprobadas para continuar con la ejecución de este Paso, se procederá mediante una BusinessException." DisplayName="Else If - Checks Initial Conditions" sap:VirtualizedContainerService.HintSize="551.2,584" sap2010:WorkflowViewState.IdRef="IfElseIf_14">
                  <ui:IfElseIf.ConditionBlocks>
                    <sc:BindingList x:TypeArguments="ui:IfElseIfBlock" AllowEdit="True" AllowNew="True" AllowRemove="True" RaiseListChangedEvents="True">
                      <ui:IfElseIfBlock BlockType="If" Condition="[bool_ShouldStop Or &#xA;bool_timeExceeded Or&#xA;Not bool_stateApps Or &#xA;Not bool_allowProcessExecution Or&#xA;Not bool_allowAllProcessesExecution Or&#xA;int_transactionsItemsProcessed=CInt(in_config(in_stepCode)(&quot;maximumTransactionItemsToProcess&quot;).ToString) Or &#xA;int_businessExceptionsNumber&gt;CInt(in_config(in_stepCode)(&quot;maximumBusinessExceptions&quot;)) Or &#xA;int_systemExceptionsNumber&gt;CInt(in_config(in_stepCode)(&quot;maximumSystemExceptions&quot;))]" sap2010:WorkflowViewState.IdRef="IfElseIfBlock_3">
                        <ui:IfElseIfBlock.Then>
                          <Sequence sap2010:Annotation.AnnotationText="Comprueba cuál era la condición para finalizar el Paso" DisplayName="Sequence - BusinessRuleException" sap:VirtualizedContainerService.HintSize="496,318.4" sap2010:WorkflowViewState.IdRef="Sequence_563">
                            <sap:WorkflowViewStateService.ViewState>
                              <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                <x:Boolean x:Key="IsPinned">False</x:Boolean>
                                <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                              </scg:Dictionary>
                            </sap:WorkflowViewStateService.ViewState>
                            <Assign DisplayName="Assign - Work Done" sap:VirtualizedContainerService.HintSize="462.4,113.6" sap2010:WorkflowViewState.IdRef="Assign_143">
                              <Assign.To>
                                <OutArgument x:TypeArguments="x:Boolean">[bool_workDone]</OutArgument>
                              </Assign.To>
                              <Assign.Value>
                                <InArgument x:TypeArguments="x:Boolean">True</InArgument>
                              </Assign.Value>
                            </Assign>
                            <Throw DisplayName="Check Initials Conditions" Exception="[New BusinessRuleException(If(bool_shouldStop, &quot;Se ha detectado una detención del proceso desde Orchestrator&quot;,&#xA;If(bool_timeExceeded, &quot;Se ha alcanzado el tiempo máximo de ejecución&quot;,&#xA;If(CInt(in_config(in_stepCode)(&quot;maximumTransactionItemsToProcess&quot;).ToString)=int_transactionsItemsProcessed, &quot;Se ha alcanzado el número máximo de TransactionItems definidos en el archivo de configuración para procesar&quot;,&#xA;If(Not bool_stateApps, &quot;Las aplicaciones no están disponibles&quot;,&#xA;If(int_businessExceptionsNumber&gt;CInt(in_config(in_stepCode)(&quot;maximumBusinessExceptions&quot;)),&quot;Se ha alcanzado el número máximo de TransactionItems con estado BusinessException&quot;,&#xA;If(int_systemExceptionsNumber&gt;CInt(in_config(in_stepCode)(&quot;maximumSystemExceptions&quot;)), &quot;Se ha alcanzado el número máximo de TransactionItems con estado SystemException&quot;,&#xA;If(Not CBool(bool_allowProcessExecution), &quot;El activo que indica si el proceso se puede ejecutar (a nivel de proceso) es Falso&quot;,&#xA;&quot;El activo que indica si se puede ejecutar el proceso (a nivel de carpeta del orquestador) es Falso&quot;))))))))]" sap:VirtualizedContainerService.HintSize="462,114" sap2010:WorkflowViewState.IdRef="Throw_3">
                              <sap:WorkflowViewStateService.ViewState>
                                <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                  <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                  <x:Boolean x:Key="IsPinned">False</x:Boolean>
                                </scg:Dictionary>
                              </sap:WorkflowViewStateService.ViewState>
                            </Throw>
                          </Sequence>
                        </ui:IfElseIfBlock.Then>
                      </ui:IfElseIfBlock>
                    </sc:BindingList>
                  </ui:IfElseIf.ConditionBlocks>
                  <sap:WorkflowViewStateService.ViewState>
                    <scg:Dictionary x:TypeArguments="x:String, x:Object">
                      <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                      <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                      <x:Boolean x:Key="IsPinned">False</x:Boolean>
                    </scg:Dictionary>
                  </sap:WorkflowViewStateService.ViewState>
                </ui:IfElseIf>
              </Sequence>
              <Sequence sap2010:Annotation.AnnotationText="Recupera un nuevo Transaction Item de la cola definida" DisplayName="Sequence - Get Transaction Item" sap:VirtualizedContainerService.HintSize="587.2,1348.8" sap2010:WorkflowViewState.IdRef="Sequence_637">
                <sap:WorkflowViewStateService.ViewState>
                  <scg:Dictionary x:TypeArguments="x:String, x:Object">
                    <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                    <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                  </scg:Dictionary>
                </sap:WorkflowViewStateService.ViewState>
                <ui:GetQueueItem ContinueOnError="{x:Null}" TimeoutMS="{x:Null}" DisplayName="Get Transaction Item" FolderPath="[in_config(&quot;Settings&quot;)(&quot;RutaCarpetaOrquestador&quot;).ToString]" sap:VirtualizedContainerService.HintSize="504,175.2" sap2010:WorkflowViewState.IdRef="GetQueueItem_1" QueueType="[in_config(in_stepCode)(&quot;queueName&quot;).ToString]" TransactionItem="[queueitem_transactionItem]" />
                <If Condition="[queueitem_transactionItem IsNot Nothing]" sap:VirtualizedContainerService.HintSize="504,1050.4" sap2010:WorkflowViewState.IdRef="If_213">
                  <If.Then>
                    <Sequence DisplayName="Then" sap:VirtualizedContainerService.HintSize="502.4,695.2" sap2010:WorkflowViewState.IdRef="Sequence_638">
                      <sap:WorkflowViewStateService.ViewState>
                        <scg:Dictionary x:TypeArguments="x:String, x:Object">
                          <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                        </scg:Dictionary>
                      </sap:WorkflowViewStateService.ViewState>
                      <ui:LogMessage DisplayName="Log Message" sap:VirtualizedContainerService.HintSize="468.8,174.4" sap2010:WorkflowViewState.IdRef="LogMessage_111" Level="Info" Message="[&quot;Se ha recuperado un Nuevo TransactionItem&quot;]" />
                      <ui:ForEach x:TypeArguments="x:Object" CurrentIndex="{x:Null}" DisplayName="For Each Item" sap:VirtualizedContainerService.HintSize="468.8,295.2" sap2010:WorkflowViewState.IdRef="ForEach`1_14" Values="[queueitem_transactionItem.SpecificContent.Keys]">
                        <ui:ForEach.Body>
                          <ActivityAction x:TypeArguments="x:Object">
                            <ActivityAction.Argument>
                              <DelegateInArgument x:TypeArguments="x:Object" Name="Item" />
                            </ActivityAction.Argument>
                            <Sequence DisplayName="Body" sap:VirtualizedContainerService.HintSize="467.2,164.8" sap2010:WorkflowViewState.IdRef="Sequence_639">
                              <sap:WorkflowViewStateService.ViewState>
                                <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                  <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                </scg:Dictionary>
                              </sap:WorkflowViewStateService.ViewState>
                              <Assign sap:VirtualizedContainerService.HintSize="433.6,104.8" sap2010:WorkflowViewState.IdRef="Assign_157">
                                <Assign.To>
                                  <OutArgument x:TypeArguments="x:Object">[dic_queueParameters(Item.ToString)]</OutArgument>
                                </Assign.To>
                                <Assign.Value>
                                  <InArgument x:TypeArguments="x:Object">[queueitem_transactionItem.SpecificContent(Item.ToString).ToString]</InArgument>
                                </Assign.Value>
                              </Assign>
                            </Sequence>
                          </ActivityAction>
                        </ui:ForEach.Body>
                      </ui:ForEach>
                      <ui:LogMessage DisplayName="Log Message" sap:VirtualizedContainerService.HintSize="468.8,165.6" sap2010:WorkflowViewState.IdRef="LogMessage_113" Level="Info" Message="[&quot;Leyendo todos los parametros de SpecificContent del Item&quot;]" />
                    </Sequence>
                  </If.Then>
                  <If.Else>
                    <Sequence DisplayName="Else" sap:VirtualizedContainerService.HintSize="502.4,225.6" sap2010:WorkflowViewState.IdRef="Sequence_640">
                      <sap:WorkflowViewStateService.ViewState>
                        <scg:Dictionary x:TypeArguments="x:String, x:Object">
                          <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                        </scg:Dictionary>
                      </sap:WorkflowViewStateService.ViewState>
                      <ui:LogMessage DisplayName="Log Message" sap:VirtualizedContainerService.HintSize="468.8,165.6" sap2010:WorkflowViewState.IdRef="LogMessage_112" Level="Warn" Message="[&quot;No se recupero el TransactionItem&quot;]" />
                    </Sequence>
                  </If.Else>
                </If>
              </Sequence>
              <ui:IfElseIf sap2010:Annotation.AnnotationText="Comprueba si TransactionItem Is Nothing" DisplayName="Else If - TransactionItem" sap:VirtualizedContainerService.HintSize="587.2,577.6" sap2010:WorkflowViewState.IdRef="IfElseIf_15">
                <ui:IfElseIf.ConditionBlocks>
                  <sc:BindingList x:TypeArguments="ui:IfElseIfBlock" AllowEdit="True" AllowNew="True" AllowRemove="True" RaiseListChangedEvents="True">
                    <ui:IfElseIfBlock BlockType="If" Condition="[queueItem_TransactionItem Is Nothing]" sap2010:WorkflowViewState.IdRef="IfElseIfBlock_4">
                      <ui:IfElseIfBlock.Then>
                        <Sequence sap2010:Annotation.AnnotationText="Throw a BusinessRuleException" DisplayName="Sequence - Get Transaction Data KO" sap:VirtualizedContainerService.HintSize="496,318.4" sap2010:WorkflowViewState.IdRef="Sequence_564">
                          <sap:WorkflowViewStateService.ViewState>
                            <scg:Dictionary x:TypeArguments="x:String, x:Object">
                              <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                              <x:Boolean x:Key="IsPinned">False</x:Boolean>
                              <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                            </scg:Dictionary>
                          </sap:WorkflowViewStateService.ViewState>
                          <Assign DisplayName="Assign - WorkDone" sap:VirtualizedContainerService.HintSize="462.4,113.6" sap2010:WorkflowViewState.IdRef="Assign_144">
                            <Assign.To>
                              <OutArgument x:TypeArguments="x:Boolean">[bool_workDone]</OutArgument>
                            </Assign.To>
                            <Assign.Value>
                              <InArgument x:TypeArguments="x:Boolean">True</InArgument>
                            </Assign.Value>
                          </Assign>
                          <Throw DisplayName="All TransactionItems processed" Exception="[New BusinessRuleException(&quot;No hay más TransactionItems para procesar&quot;)]" sap:VirtualizedContainerService.HintSize="462,114" sap2010:WorkflowViewState.IdRef="Throw_4">
                            <sap:WorkflowViewStateService.ViewState>
                              <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                <x:Boolean x:Key="IsPinned">False</x:Boolean>
                              </scg:Dictionary>
                            </sap:WorkflowViewStateService.ViewState>
                          </Throw>
                        </Sequence>
                      </ui:IfElseIfBlock.Then>
                    </ui:IfElseIfBlock>
                  </sc:BindingList>
                </ui:IfElseIf.ConditionBlocks>
                <sap:WorkflowViewStateService.ViewState>
                  <scg:Dictionary x:TypeArguments="x:String, x:Object">
                    <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                    <x:Boolean x:Key="IsPinned">False</x:Boolean>
                    <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                  </scg:Dictionary>
                </sap:WorkflowViewStateService.ViewState>
              </ui:IfElseIf>
              <TryCatch sap2010:Annotation.AnnotationText="Verificar reintentos de TransactionItem&#xA;Inicializar registro de  Start Step&#xA;Mostrar parámetros de TransactionItem&#xA;InitAllApplications" DisplayName="Try Cath - TransactionItem - InitAllApplications" sap:VirtualizedContainerService.HintSize="587.2,2361.6" sap2010:WorkflowViewState.IdRef="TryCatch_27">
                <sap:WorkflowViewStateService.ViewState>
                  <scg:Dictionary x:TypeArguments="x:String, x:Object">
                    <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                    <x:Boolean x:Key="IsPinned">False</x:Boolean>
                    <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                  </scg:Dictionary>
                </sap:WorkflowViewStateService.ViewState>
                <TryCatch.Try>
                  <Sequence sap2010:Annotation.AnnotationText="Verificar reintentos de TransactionItem&#xA;Inicializar registro de Start Step&#xA;Mostrar parámetros de TransactionItem&#xA;InitAllApplications" DisplayName="Sequence - TransactionItem - InitAllApplications" sap:VirtualizedContainerService.HintSize="518.4,1912.8" sap2010:WorkflowViewState.IdRef="Sequence_497">
                    <sap:WorkflowViewStateService.ViewState>
                      <scg:Dictionary x:TypeArguments="x:String, x:Object">
                        <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                        <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                        <x:Boolean x:Key="IsPinned">False</x:Boolean>
                      </scg:Dictionary>
                    </sap:WorkflowViewStateService.ViewState>
                    <If sap2010:Annotation.AnnotationText="Con la información contenida en el Item, se verifica cuántos reintentos ha tenido el Item." Condition="[dic_queueParameters.Keys.Contains(&quot;retryNumber&quot;)]" DisplayName="If - First Attempt" sap:VirtualizedContainerService.HintSize="484.8,512.8" sap2010:WorkflowViewState.IdRef="If_188">
                      <sap:WorkflowViewStateService.ViewState>
                        <scg:Dictionary x:TypeArguments="x:String, x:Object">
                          <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                          <x:Boolean x:Key="IsPinned">False</x:Boolean>
                          <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                        </scg:Dictionary>
                      </sap:WorkflowViewStateService.ViewState>
                      <If.Then>
                        <Sequence DisplayName="Then - First transaction Attempt" sap:VirtualizedContainerService.HintSize="467.2,164.8" sap2010:WorkflowViewState.IdRef="Sequence_493">
                          <sap:WorkflowViewStateService.ViewState>
                            <scg:Dictionary x:TypeArguments="x:String, x:Object">
                              <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                            </scg:Dictionary>
                          </sap:WorkflowViewStateService.ViewState>
                          <Assign DisplayName="Assign - Increase RetryNumber" sap:VirtualizedContainerService.HintSize="433.6,104.8" sap2010:WorkflowViewState.IdRef="Assign_124">
                            <Assign.To>
                              <OutArgument x:TypeArguments="x:Int32">[int_retryNumber]</OutArgument>
                            </Assign.To>
                            <Assign.Value>
                              <InArgument x:TypeArguments="x:Int32">[CInt(dic_queueParameters("retryNumber"))]</InArgument>
                            </Assign.Value>
                          </Assign>
                        </Sequence>
                      </If.Then>
                      <If.Else>
                        <Sequence DisplayName="Else - First transaction Attempt" sap:VirtualizedContainerService.HintSize="467.2,164.8" sap2010:WorkflowViewState.IdRef="Sequence_494">
                          <sap:WorkflowViewStateService.ViewState>
                            <scg:Dictionary x:TypeArguments="x:String, x:Object">
                              <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                            </scg:Dictionary>
                          </sap:WorkflowViewStateService.ViewState>
                          <Assign DisplayName="Assign - Initialize RetryNumber" sap:VirtualizedContainerService.HintSize="433.6,104.8" sap2010:WorkflowViewState.IdRef="Assign_125">
                            <Assign.To>
                              <OutArgument x:TypeArguments="x:Int32">[int_retryNumber]</OutArgument>
                            </Assign.To>
                            <Assign.Value>
                              <InArgument x:TypeArguments="x:Int32">0</InArgument>
                            </Assign.Value>
                          </Assign>
                        </Sequence>
                      </If.Else>
                    </If>
                    <Sequence sap2010:Annotation.AnnotationText="Mostrar los parámetros de TransactionItem" DisplayName="Sequence - Show TransactionItem Arguments" sap:VirtualizedContainerService.HintSize="484.8,1095.2" sap2010:WorkflowViewState.IdRef="Sequence_496">
                      <sap:WorkflowViewStateService.ViewState>
                        <scg:Dictionary x:TypeArguments="x:String, x:Object">
                          <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                          <x:Boolean x:Key="IsPinned">False</x:Boolean>
                          <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                        </scg:Dictionary>
                      </sap:WorkflowViewStateService.ViewState>
                      <Delay DisplayName="Delay - 0.5 Seconds" Duration="00:00:00.5000000" sap:VirtualizedContainerService.HintSize="451.2,122.4" sap2010:WorkflowViewState.IdRef="Delay_3">
                        <sap:WorkflowViewStateService.ViewState>
                          <scg:Dictionary x:TypeArguments="x:String, x:Object">
                            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                            <x:Boolean x:Key="IsPinned">False</x:Boolean>
                          </scg:Dictionary>
                        </sap:WorkflowViewStateService.ViewState>
                      </Delay>
                      <ui:LogMessage DisplayName="Log Message - Start TransactionItem Parameters" sap:VirtualizedContainerService.HintSize="451.2,174.4" sap2010:WorkflowViewState.IdRef="LogMessage_62" Level="Info" Message="[&quot;### - Start TransactionItem Parameters - ###&quot;]">
                        <sap:WorkflowViewStateService.ViewState>
                          <scg:Dictionary x:TypeArguments="x:String, x:Object">
                            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                            <x:Boolean x:Key="IsPinned">False</x:Boolean>
                          </scg:Dictionary>
                        </sap:WorkflowViewStateService.ViewState>
                      </ui:LogMessage>
                      <ui:ForEach x:TypeArguments="x:String" CurrentIndex="{x:Null}" sap2010:Annotation.AnnotationText="Mostrar todos los parámetros contenidos en el TransactionItem" DisplayName="For Each - Show TransactionItem Parameters" sap:VirtualizedContainerService.HintSize="451.2,387.2" sap2010:WorkflowViewState.IdRef="ForEach`1_3" Values="[dic_queueParameters.Keys]">
                        <ui:ForEach.Body>
                          <ActivityAction x:TypeArguments="x:String">
                            <ActivityAction.Argument>
                              <DelegateInArgument x:TypeArguments="x:String" Name="currentItem" />
                            </ActivityAction.Argument>
                            <Sequence DisplayName="Sequence - Show parameters queue" sap:VirtualizedContainerService.HintSize="449.6,225.6" sap2010:WorkflowViewState.IdRef="Sequence_495">
                              <sap:WorkflowViewStateService.ViewState>
                                <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                  <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                </scg:Dictionary>
                              </sap:WorkflowViewStateService.ViewState>
                              <ui:LogMessage DisplayName="Log Message - TransactionItem Parameter" sap:VirtualizedContainerService.HintSize="416,165.6" sap2010:WorkflowViewState.IdRef="LogMessage_64" Level="Info" Message="[&quot;Parametros del TransactionItem: &quot; + &quot;[&quot; + currentitem.tostring + &quot;|&quot; + dic_queueParameters(currentitem.tostring).tostring + &quot;]&quot;]" />
                            </Sequence>
                          </ActivityAction>
                        </ui:ForEach.Body>
                        <sap:WorkflowViewStateService.ViewState>
                          <scg:Dictionary x:TypeArguments="x:String, x:Object">
                            <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                            <x:Boolean x:Key="IsPinned">False</x:Boolean>
                          </scg:Dictionary>
                        </sap:WorkflowViewStateService.ViewState>
                      </ui:ForEach>
                      <ui:LogMessage DisplayName="Log Message - End TransactionItem Parameters" sap:VirtualizedContainerService.HintSize="451.2,174.4" sap2010:WorkflowViewState.IdRef="LogMessage_63" Level="Info" Message="[&quot;### - End TransactionItem Parameters - ###&quot;]">
                        <sap:WorkflowViewStateService.ViewState>
                          <scg:Dictionary x:TypeArguments="x:String, x:Object">
                            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                            <x:Boolean x:Key="IsPinned">False</x:Boolean>
                          </scg:Dictionary>
                        </sap:WorkflowViewStateService.ViewState>
                      </ui:LogMessage>
                      <Delay DisplayName="Delay - 0.5 Seconds" Duration="00:00:00.5000000" sap:VirtualizedContainerService.HintSize="451.2,113.6" sap2010:WorkflowViewState.IdRef="Delay_4">
                        <sap:WorkflowViewStateService.ViewState>
                          <scg:Dictionary x:TypeArguments="x:String, x:Object">
                            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                            <x:Boolean x:Key="IsPinned">False</x:Boolean>
                          </scg:Dictionary>
                        </sap:WorkflowViewStateService.ViewState>
                      </Delay>
                    </Sequence>
                    <ui:InvokeWorkflowFile ArgumentsVariable="{x:Null}" ContinueOnError="{x:Null}" DisplayName="Invoke InitAllApplications WorkFlow" sap:VirtualizedContainerService.HintSize="484.8,167.2" sap2010:WorkflowViewState.IdRef="InvokeWorkflowFile_33" UnSafe="False" WorkflowFileName="Custom\InitAllApplications.xaml">
                      <ui:InvokeWorkflowFile.Arguments>
                        <InArgument x:TypeArguments="scg:Dictionary(x:String, scg:Dictionary(x:String, x:String))" x:Key="in_config">[in_config]</InArgument>
                        <InOutArgument x:TypeArguments="scg:Dictionary(x:String, x:Object)" x:Key="io_logData">[dic_logData]</InOutArgument>
                      </ui:InvokeWorkflowFile.Arguments>
                      <sap:WorkflowViewStateService.ViewState>
                        <scg:Dictionary x:TypeArguments="x:String, x:Object">
                          <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                          <x:Boolean x:Key="IsPinned">False</x:Boolean>
                        </scg:Dictionary>
                      </sap:WorkflowViewStateService.ViewState>
                    </ui:InvokeWorkflowFile>
                  </Sequence>
                </TryCatch.Try>
                <TryCatch.Catches>
                  <Catch x:TypeArguments="s:Exception" sap:VirtualizedContainerService.HintSize="576,21" sap2010:WorkflowViewState.IdRef="Catch`1_29">
                    <sap:WorkflowViewStateService.ViewState>
                      <scg:Dictionary x:TypeArguments="x:String, x:Object">
                        <x:Boolean x:Key="IsExpanded">False</x:Boolean>
                        <x:Boolean x:Key="IsPinned">False</x:Boolean>
                      </scg:Dictionary>
                    </sap:WorkflowViewStateService.ViewState>
                    <ActivityAction x:TypeArguments="s:Exception">
                      <ActivityAction.Argument>
                        <DelegateInArgument x:TypeArguments="s:Exception" Name="exception" />
                      </ActivityAction.Argument>
                      <Sequence DisplayName="Sequence - Exception - Get Transaction Data" sap:VirtualizedContainerService.HintSize="518.4,108" sap2010:WorkflowViewState.IdRef="Sequence_498">
                        <sap:WorkflowViewStateService.ViewState>
                          <scg:Dictionary x:TypeArguments="x:String, x:Object">
                            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                          </scg:Dictionary>
                        </sap:WorkflowViewStateService.ViewState>
                        <Rethrow DisplayName="Rethrow - Get Transaction Data" sap:VirtualizedContainerService.HintSize="484.8,48" sap2010:WorkflowViewState.IdRef="Rethrow_1" />
                      </Sequence>
                    </ActivityAction>
                  </Catch>
                </TryCatch.Catches>
                <TryCatch.Finally>
                  <Sequence DisplayName="Finally" sap:VirtualizedContainerService.HintSize="518.4,89.6" sap2010:WorkflowViewState.IdRef="Sequence_621">
                    <sap:WorkflowViewStateService.ViewState>
                      <scg:Dictionary x:TypeArguments="x:String, x:Object">
                        <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                      </scg:Dictionary>
                    </sap:WorkflowViewStateService.ViewState>
                  </Sequence>
                </TryCatch.Finally>
              </TryCatch>
              <ui:LogMessage DisplayName="Log Message - End State - Get Transaction Data" sap:VirtualizedContainerService.HintSize="587.2,165.6" sap2010:WorkflowViewState.IdRef="LogMessage_61" Level="Info" Message="[&quot;Finalizamos Estado 'Get Transaction Data'&quot;]">
                <sap:WorkflowViewStateService.ViewState>
                  <scg:Dictionary x:TypeArguments="x:String, x:Object">
                    <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                    <x:Boolean x:Key="IsPinned">False</x:Boolean>
                  </scg:Dictionary>
                </sap:WorkflowViewStateService.ViewState>
              </ui:LogMessage>
            </Sequence>
          </TryCatch.Try>
          <TryCatch.Catches>
            <Catch x:TypeArguments="ui:BusinessRuleException" sap:VirtualizedContainerService.HintSize="737,21" sap2010:WorkflowViewState.IdRef="Catch`1_33">
              <sap:WorkflowViewStateService.ViewState>
                <scg:Dictionary x:TypeArguments="x:String, x:Object">
                  <x:Boolean x:Key="IsExpanded">False</x:Boolean>
                  <x:Boolean x:Key="IsPinned">False</x:Boolean>
                </scg:Dictionary>
              </sap:WorkflowViewStateService.ViewState>
              <ActivityAction x:TypeArguments="ui:BusinessRuleException">
                <ActivityAction.Argument>
                  <DelegateInArgument x:TypeArguments="ui:BusinessRuleException" Name="exception" />
                </ActivityAction.Argument>
                <Sequence DisplayName="Sequence - End State - Get Transaction Data - BusinessException" sap:VirtualizedContainerService.HintSize="621,341" sap2010:WorkflowViewState.IdRef="Sequence_556">
                  <sap:WorkflowViewStateService.ViewState>
                    <scg:Dictionary x:TypeArguments="x:String, x:Object">
                      <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                    </scg:Dictionary>
                  </sap:WorkflowViewStateService.ViewState>
                  <ui:LogMessage DisplayName="Log Message - End State - Get Transaction Data - BusinessException" sap:VirtualizedContainerService.HintSize="587,175" sap2010:WorkflowViewState.IdRef="LogMessage_95" Level="Warn" Message="[&quot;Ha ocurrido un error (State - Get Transaction Data - BusinessRuleException) en: &quot; + exception.Source + &quot;. Falló debido a: &quot; + exception.Message + &quot;. Tipo de error: &quot; + exception.GetType.ToString]" />
                  <Assign DisplayName="Assign - End State - Get Transaction Data - BusinessException" sap:VirtualizedContainerService.HintSize="587,106" sap2010:WorkflowViewState.IdRef="Assign_142">
                    <Assign.To>
                      <OutArgument x:TypeArguments="ui:BusinessRuleException">[ex_businessException]</OutArgument>
                    </Assign.To>
                    <Assign.Value>
                      <InArgument x:TypeArguments="ui:BusinessRuleException">[exception]</InArgument>
                    </Assign.Value>
                  </Assign>
                </Sequence>
              </ActivityAction>
            </Catch>
            <Catch x:TypeArguments="s:Exception" sap:VirtualizedContainerService.HintSize="737,21" sap2010:WorkflowViewState.IdRef="Catch`1_47">
              <sap:WorkflowViewStateService.ViewState>
                <scg:Dictionary x:TypeArguments="x:String, x:Object">
                  <x:Boolean x:Key="IsExpanded">False</x:Boolean>
                  <x:Boolean x:Key="IsPinned">False</x:Boolean>
                </scg:Dictionary>
              </sap:WorkflowViewStateService.ViewState>
              <ActivityAction x:TypeArguments="s:Exception">
                <ActivityAction.Argument>
                  <DelegateInArgument x:TypeArguments="s:Exception" Name="exception" />
                </ActivityAction.Argument>
                <Sequence DisplayName="Sequence - End State - Get Transaction Data - Exception" sap:VirtualizedContainerService.HintSize="621,341" sap2010:WorkflowViewState.IdRef="Sequence_616">
                  <sap:WorkflowViewStateService.ViewState>
                    <scg:Dictionary x:TypeArguments="x:String, x:Object">
                      <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                      <x:Boolean x:Key="IsPinned">False</x:Boolean>
                    </scg:Dictionary>
                  </sap:WorkflowViewStateService.ViewState>
                  <ui:LogMessage DisplayName="Log Message - End State - Get Transaction Data - Exception" sap:VirtualizedContainerService.HintSize="587,175" sap2010:WorkflowViewState.IdRef="LogMessage_106" Level="Error" Message="[&quot;Ha ocurrido un error (State - Get Transaction Data - Exception) en: &quot; + exception.Source + &quot;. Falló debido a: &quot; + exception.Message + &quot;. Tipo de error: &quot; + exception.GetType.ToString]" />
                  <Assign DisplayName="Assign - End State - Get Transaction Data - Exception" sap:VirtualizedContainerService.HintSize="587,106" sap2010:WorkflowViewState.IdRef="Assign_155">
                    <Assign.To>
                      <OutArgument x:TypeArguments="s:Exception">[ex_Exception]</OutArgument>
                    </Assign.To>
                    <Assign.Value>
                      <InArgument x:TypeArguments="s:Exception">[exception]</InArgument>
                    </Assign.Value>
                  </Assign>
                </Sequence>
              </ActivityAction>
            </Catch>
          </TryCatch.Catches>
          <TryCatch.Finally>
            <Sequence DisplayName="Finally" sap:VirtualizedContainerService.HintSize="621,90" sap2010:WorkflowViewState.IdRef="Sequence_622">
              <sap:WorkflowViewStateService.ViewState>
                <scg:Dictionary x:TypeArguments="x:String, x:Object">
                  <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                </scg:Dictionary>
              </sap:WorkflowViewStateService.ViewState>
            </Sequence>
          </TryCatch.Finally>
        </TryCatch>
      </State.Entry>
      <sap:WorkflowViewStateService.ViewState>
        <scg:Dictionary x:TypeArguments="x:String, x:Object">
          <av:Point x:Key="ShapeLocation">596,308</av:Point>
          <av:Size x:Key="ShapeSize">288,202.4</av:Size>
          <x:Boolean x:Key="IsPinned">False</x:Boolean>
          <x:Double x:Key="StateContainerWidth">276</x:Double>
          <x:Double x:Key="StateContainerHeight">29</x:Double>
          <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
        </scg:Dictionary>
      </sap:WorkflowViewStateService.ViewState>
      <State.Transitions>
        <Transition DisplayName="No Data" sap:VirtualizedContainerService.HintSize="693.6,8797.6" sap2010:WorkflowViewState.IdRef="Transition_22">
          <sap:WorkflowViewStateService.ViewState>
            <scg:Dictionary x:TypeArguments="x:String, x:Object">
              <x:Boolean x:Key="IsExpanded">True</x:Boolean>
              <av:PointCollection x:Key="ConnectorLocation">624.8,510.4 624.8,540.4 269.6,540.4 269.6,439.6</av:PointCollection>
              <x:Int32 x:Key="SrcConnectionPointIndex">7</x:Int32>
              <x:Int32 x:Key="DestConnectionPointIndex">7</x:Int32>
            </scg:Dictionary>
          </sap:WorkflowViewStateService.ViewState>
          <Transition.To>
            <State x:Name="__ReferenceID1" sap2010:Annotation.AnnotationText="Cerrar todas las aplicaciones&#xA;Enviar una notificación si se han procesado todos los elementos de transacción" DisplayName="State - End Process" sap:VirtualizedContainerService.HintSize="276,137.6" sap2010:WorkflowViewState.IdRef="State_1" IsFinal="True">
              <State.Entry>
                <TryCatch sap2010:Annotation.AnnotationText="Cerrar todas las aplicaciones&#xA;Enviar una notificación si se han procesado todos los elementos de transacción" DisplayName="Try Catch - State - End Process" sap:VirtualizedContainerService.HintSize="488,2329" sap2010:WorkflowViewState.IdRef="TryCatch_4">
                  <sap:WorkflowViewStateService.ViewState>
                    <scg:Dictionary x:TypeArguments="x:String, x:Object">
                      <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                    </scg:Dictionary>
                  </sap:WorkflowViewStateService.ViewState>
                  <TryCatch.Try>
                    <Sequence sap2010:Annotation.AnnotationText="Cerrar todas las aplicaciones&#xA;Enviar una notificación si se han procesado todos los elementos de transacción" DisplayName="Sequence - Init State - End Process" sap:VirtualizedContainerService.HintSize="486,1810" sap2010:WorkflowViewState.IdRef="Sequence_485">
                      <sap:WorkflowViewStateService.ViewState>
                        <scg:Dictionary x:TypeArguments="x:String, x:Object">
                          <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                          <x:Boolean x:Key="IsPinned">False</x:Boolean>
                          <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                        </scg:Dictionary>
                      </sap:WorkflowViewStateService.ViewState>
                      <ui:LogMessage DisplayName="Log Message - Init State - End Process" sap:VirtualizedContainerService.HintSize="452,175" sap2010:WorkflowViewState.IdRef="LogMessage_55" Level="Info" Message="[&quot;Iniciamos Estado 'End Process'&quot;]" />
                      <ui:ForEach x:TypeArguments="x:String" CurrentIndex="{x:Null}" DisplayName="For Each Close Applications" sap:VirtualizedContainerService.HintSize="452,524" sap2010:WorkflowViewState.IdRef="ForEach`1_12" Values="[(in_config(&quot;Settings&quot;)(&quot;AppCerrar&quot;).ToString).Split(&quot;,&quot;c)]">
                        <ui:ForEach.Body>
                          <ActivityAction x:TypeArguments="x:String">
                            <ActivityAction.Argument>
                              <DelegateInArgument x:TypeArguments="x:String" Name="currentText" />
                            </ActivityAction.Argument>
                            <Sequence DisplayName="Body" sap:VirtualizedContainerService.HintSize="450,393" sap2010:WorkflowViewState.IdRef="Sequence_631">
                              <sap:WorkflowViewStateService.ViewState>
                                <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                  <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                </scg:Dictionary>
                              </sap:WorkflowViewStateService.ViewState>
                              <ui:KillProcess AppliesTo="{x:Null}" ContinueOnError="{x:Null}" Process="{x:Null}" DisplayName="Kill Process" sap:VirtualizedContainerService.HintSize="416,167" sap2010:WorkflowViewState.IdRef="KillProcess_2" ProcessName="[currentText.ToString]" />
                              <ui:LogMessage DisplayName="Log Message" sap:VirtualizedContainerService.HintSize="416,166" sap2010:WorkflowViewState.IdRef="LogMessage_109" Level="Info" Message="[&quot;Cerramos Aplicacion: &quot; + currentText.ToString]" />
                            </Sequence>
                          </ActivityAction>
                        </ui:ForEach.Body>
                      </ui:ForEach>
                      <If Condition="[If(String.IsNullOrEmpty(in_config(&quot;SendReport&quot;)(&quot;EnvioReporteNegocio&quot;).ToString),False,CBool(in_config(&quot;SendReport&quot;)(&quot;EnvioReporteNegocio&quot;).ToString))]" DisplayName="If - Send Report" sap:VirtualizedContainerService.HintSize="452,649" sap2010:WorkflowViewState.IdRef="If_212">
                        <sap:WorkflowViewStateService.ViewState>
                          <scg:Dictionary x:TypeArguments="x:String, x:Object">
                            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                            <x:Boolean x:Key="IsPinned">False</x:Boolean>
                          </scg:Dictionary>
                        </sap:WorkflowViewStateService.ViewState>
                        <If.Then>
                          <Sequence DisplayName="Then" sap:VirtualizedContainerService.HintSize="450,420" sap2010:WorkflowViewState.IdRef="Sequence_603">
                            <sap:WorkflowViewStateService.ViewState>
                              <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                              </scg:Dictionary>
                            </sap:WorkflowViewStateService.ViewState>
                            <ui:InvokeWorkflowFile ArgumentsVariable="{x:Null}" ContinueOnError="{x:Null}" sap2010:Annotation.AnnotationText="** IMPORTANTE **&#xA;&#xA;Si el parámetro de configuración 'sendReportToBusiness' es Falso, no se reportarán los TransactionItems.&#xA;&#xA;Para todas las colas definidas, se verificará si existen TransactionItems con estado 'Nuevo' o 'Pendiente'.&#xA;Si se han procesado todos los TransactionItems, se creará el informe y se enviará a Negocio." DisplayName="SendReport.xaml - Invoke Workflow File" sap:VirtualizedContainerService.HintSize="416,360" sap2010:WorkflowViewState.IdRef="InvokeWorkflowFile_28" UnSafe="False" WorkflowFileName="Modules\SendReport.xaml">
                              <ui:InvokeWorkflowFile.Arguments>
                                <InArgument x:TypeArguments="scg:Dictionary(x:String, scg:Dictionary(x:String, x:String))" x:Key="in_config">[in_config]</InArgument>
                                <InArgument x:TypeArguments="x:Boolean" x:Key="in_bool_ExisteBD">[BaseBatosEnable]</InArgument>
                              </ui:InvokeWorkflowFile.Arguments>
                              <sap:WorkflowViewStateService.ViewState>
                                <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                  <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                                </scg:Dictionary>
                              </sap:WorkflowViewStateService.ViewState>
                            </ui:InvokeWorkflowFile>
                          </Sequence>
                        </If.Then>
                        <If.Else>
                          <Sequence DisplayName="Else" sap:VirtualizedContainerService.HintSize="450,90" sap2010:WorkflowViewState.IdRef="Sequence_604">
                            <sap:WorkflowViewStateService.ViewState>
                              <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                              </scg:Dictionary>
                            </sap:WorkflowViewStateService.ViewState>
                          </Sequence>
                        </If.Else>
                      </If>
                      <ui:LogMessage DisplayName="Log Message - End State - End Process" sap:VirtualizedContainerService.HintSize="452,175" sap2010:WorkflowViewState.IdRef="LogMessage_56" Level="Info" Message="[&quot;Finalizamos Estado 'End Process'&quot;]" />
                      <ui:LogMessage DisplayName="Log Message - End State - End Step" sap:VirtualizedContainerService.HintSize="452,166" sap2010:WorkflowViewState.IdRef="LogMessage_58" Level="Info" Message="[&quot;Finalizamos Step: &quot; + in_stepCode.ToString]" />
                    </Sequence>
                  </TryCatch.Try>
                  <TryCatch.Catches>
                    <Catch x:TypeArguments="s:Exception" sap:VirtualizedContainerService.HintSize="456,321" sap2010:WorkflowViewState.IdRef="Catch`1_5">
                      <sap:WorkflowViewStateService.ViewState>
                        <scg:Dictionary x:TypeArguments="x:String, x:Object">
                          <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                          <x:Boolean x:Key="IsPinned">False</x:Boolean>
                        </scg:Dictionary>
                      </sap:WorkflowViewStateService.ViewState>
                      <ActivityAction x:TypeArguments="s:Exception">
                        <ActivityAction.Argument>
                          <DelegateInArgument x:TypeArguments="s:Exception" Name="Exception" />
                        </ActivityAction.Argument>
                        <Sequence DisplayName="Sequence - End State - End Process - Exception" sap:VirtualizedContainerService.HintSize="486,226" sap2010:WorkflowViewState.IdRef="Sequence_26">
                          <sap:WorkflowViewStateService.ViewState>
                            <scg:Dictionary x:TypeArguments="x:String, x:Object">
                              <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                              <x:Boolean x:Key="IsPinned">False</x:Boolean>
                            </scg:Dictionary>
                          </sap:WorkflowViewStateService.ViewState>
                          <ui:LogMessage DisplayName="Log Message - End State - End Process - Exception" sap:VirtualizedContainerService.HintSize="452,166" sap2010:WorkflowViewState.IdRef="LogMessage_97" Level="[UiPath.Core.Activities.LogLevel.Error]" Message="[&quot;Se ha producido un error (End Process - Exception) in: &quot; + exception.Source + &quot;. Falló debido a: &quot; + exception.Message + &quot;. Tipo de error: &quot; + exception.GetType.ToString]">
                            <sap:WorkflowViewStateService.ViewState>
                              <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                <x:Boolean x:Key="IsPinned">False</x:Boolean>
                              </scg:Dictionary>
                            </sap:WorkflowViewStateService.ViewState>
                          </ui:LogMessage>
                        </Sequence>
                      </ActivityAction>
                    </Catch>
                  </TryCatch.Catches>
                  <TryCatch.Finally>
                    <Sequence DisplayName="Finally" sap:VirtualizedContainerService.HintSize="486,90" sap2010:WorkflowViewState.IdRef="Sequence_620">
                      <sap:WorkflowViewStateService.ViewState>
                        <scg:Dictionary x:TypeArguments="x:String, x:Object">
                          <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                        </scg:Dictionary>
                      </sap:WorkflowViewStateService.ViewState>
                    </Sequence>
                  </TryCatch.Finally>
                </TryCatch>
              </State.Entry>
              <sap:WorkflowViewStateService.ViewState>
                <scg:Dictionary x:TypeArguments="x:String, x:Object">
                  <av:Point x:Key="ShapeLocation">242,302</av:Point>
                  <av:Size x:Key="ShapeSize">276,137.6</av:Size>
                  <x:Boolean x:Key="IsPinned">False</x:Boolean>
                  <x:Double x:Key="StateContainerWidth">264</x:Double>
                  <x:Double x:Key="StateContainerHeight">29</x:Double>
                  <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                </scg:Dictionary>
              </sap:WorkflowViewStateService.ViewState>
            </State>
          </Transition.To>
          <Transition.Action>
            <Sequence sap2010:Annotation.AnnotationText="Comprueba si un TransactionItem está asignado (es posible que se haya producido un error durante la inicialización de la aplicación).&#xA;Si TransactionItem no está asignado, comprueba el motivo de la transición." DisplayName="Sequence - Transition - No Data" sap:VirtualizedContainerService.HintSize="593.6,8417.6" sap2010:WorkflowViewState.IdRef="Sequence_502">
              <Sequence.Variables>
                <Variable x:TypeArguments="x:String" Name="str_screenshotUrl" />
              </Sequence.Variables>
              <sap:WorkflowViewStateService.ViewState>
                <scg:Dictionary x:TypeArguments="x:String, x:Object">
                  <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                  <x:Boolean x:Key="IsPinned">False</x:Boolean>
                  <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                </scg:Dictionary>
              </sap:WorkflowViewStateService.ViewState>
              <ui:LogMessage DisplayName="Log Message - Transition - No Data" sap:VirtualizedContainerService.HintSize="560,175" sap2010:WorkflowViewState.IdRef="LogMessage_67" Level="Info" Message="[&quot;Transicion. de 'State - Get Transaction Data' a 'State - End Process' mediante 'No Data'&quot;]" />
              <If sap2010:Annotation.AnnotationText="Si se asigna un TransactionItem en esta Transición, irá a la rama 'Then'" Condition="[queueItem_TransactionItem IsNot Nothing]" DisplayName="If - TransactionItem" sap:VirtualizedContainerService.HintSize="560,8121.6" sap2010:WorkflowViewState.IdRef="If_190">
                <sap:WorkflowViewStateService.ViewState>
                  <scg:Dictionary x:TypeArguments="x:String, x:Object">
                    <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                    <x:Boolean x:Key="IsPinned">False</x:Boolean>
                    <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                  </scg:Dictionary>
                </sap:WorkflowViewStateService.ViewState>
                <If.Then>
                  <Sequence DisplayName="Then - item the queue" sap:VirtualizedContainerService.HintSize="558.4,5628.8" sap2010:WorkflowViewState.IdRef="Sequence_503">
                    <Sequence.Variables>
                      <Variable x:TypeArguments="mg:DriveItem" Name="driveItem_screenshot" />
                    </Sequence.Variables>
                    <sap:WorkflowViewStateService.ViewState>
                      <scg:Dictionary x:TypeArguments="x:String, x:Object">
                        <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                      </scg:Dictionary>
                    </sap:WorkflowViewStateService.ViewState>
                    <Assign DisplayName="Asignar - Retry Number" sap:VirtualizedContainerService.HintSize="524.8,113.6" sap2010:WorkflowViewState.IdRef="Assign_129">
                      <Assign.To>
                        <OutArgument x:TypeArguments="x:Object">[dic_queueParameters("retryNumber")]</OutArgument>
                      </Assign.To>
                      <Assign.Value>
                        <InArgument x:TypeArguments="x:Object">[int_retryNumber+1]</InArgument>
                      </Assign.Value>
                    </Assign>
                    <If sap2010:Annotation.AnnotationText="Si RetryNumber es menor que el número máximo de reintentos y Exception IsNot Nothing, irá a la rama 'Then'" Condition="[int_retryNumber&lt;int_maximumRetryNumber AndAlso ex_Exception IsNot Nothing]" DisplayName="If - Maximum Retries Reached" sap:VirtualizedContainerService.HintSize="524.8,1484.8" sap2010:WorkflowViewState.IdRef="If_191">
                      <sap:WorkflowViewStateService.ViewState>
                        <scg:Dictionary x:TypeArguments="x:String, x:Object">
                          <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                          <x:Boolean x:Key="IsPinned">False</x:Boolean>
                          <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                        </scg:Dictionary>
                      </sap:WorkflowViewStateService.ViewState>
                      <If.Then>
                        <Sequence DisplayName="Then - reintentos" sap:VirtualizedContainerService.HintSize="504,637.6" sap2010:WorkflowViewState.IdRef="Sequence_508">
                          <Sequence.Variables>
                            <Variable x:TypeArguments="s:DateTime" Name="datetime_transactionItemTimePostpone" />
                          </Sequence.Variables>
                          <sap:WorkflowViewStateService.ViewState>
                            <scg:Dictionary x:TypeArguments="x:String, x:Object">
                              <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                            </scg:Dictionary>
                          </sap:WorkflowViewStateService.ViewState>
                          <Assign DisplayName="Assign - Time Postpone" sap:VirtualizedContainerService.HintSize="470.4,113.6" sap2010:WorkflowViewState.IdRef="Assign_140">
                            <Assign.To>
                              <OutArgument x:TypeArguments="s:DateTime">[datetime_transactionItemTimePostpone]</OutArgument>
                            </Assign.To>
                            <Assign.Value>
                              <InArgument x:TypeArguments="s:DateTime">[DateTime.Now.AddMinutes(cint(in_config(in_stepCode)("transactionItemTimePostpone").ToString))]</InArgument>
                            </Assign.Value>
                          </Assign>
                          <ui:RetryScope LogRetriedExceptions="{x:Null}" RetriedExceptionsLogLevel="{x:Null}" DisplayName="Retry Item - Add Queue Item" sap:VirtualizedContainerService.HintSize="470,464" sap2010:WorkflowViewState.IdRef="RetryScope_47" NumberOfRetries="3" RetryInterval="00:00:20">
                            <ui:RetryScope.ActivityBody>
                              <ActivityAction>
                                <ui:AddQueueItem ServiceBaseAddress="{x:Null}" DeferDate="[datetime_transactionItemTimePostpone]" DisplayName="Add Queue Item" FolderPath="[in_config(&quot;Settings&quot;)(&quot;RutaCarpetaOrquestador&quot;).ToString]" sap:VirtualizedContainerService.HintSize="334,196" sap2010:WorkflowViewState.IdRef="AddQueueItem_6" ItemInformationCollection="[dic_queueParameters]" Priority="High" QueueType="[in_config(in_stepCode)(&quot;queueName&quot;).ToString]" Reference="[queueItem_TransactionItem.Reference]" TimeoutMS="60000">
                                  <ui:AddQueueItem.ItemInformation>
                                    <scg:Dictionary x:TypeArguments="x:String, InArgument" />
                                  </ui:AddQueueItem.ItemInformation>
                                  <sap:WorkflowViewStateService.ViewState>
                                    <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                      <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                      <x:Boolean x:Key="IsPinned">False</x:Boolean>
                                    </scg:Dictionary>
                                  </sap:WorkflowViewStateService.ViewState>
                                </ui:AddQueueItem>
                              </ActivityAction>
                            </ui:RetryScope.ActivityBody>
                            <ui:RetryScope.Condition>
                              <ActivityFunc x:TypeArguments="x:Boolean" />
                            </ui:RetryScope.Condition>
                            <sap:WorkflowViewStateService.ViewState>
                              <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                <x:Boolean x:Key="IsPinned">False</x:Boolean>
                              </scg:Dictionary>
                            </sap:WorkflowViewStateService.ViewState>
                          </ui:RetryScope>
                        </Sequence>
                      </If.Then>
                      <If.Else>
                        <Sequence DisplayName="Else - reintentos" sap:VirtualizedContainerService.HintSize="504,664" sap2010:WorkflowViewState.IdRef="Sequence_509">
                          <sap:WorkflowViewStateService.ViewState>
                            <scg:Dictionary x:TypeArguments="x:String, x:Object">
                              <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                            </scg:Dictionary>
                          </sap:WorkflowViewStateService.ViewState>
                          <ui:ForEach x:TypeArguments="x:String" CurrentIndex="{x:Null}" sap2010:Annotation.AnnotationText="Add parameters to DataLog dictionary" DisplayName="For Each - QueueParameters Key" sap:VirtualizedContainerService.HintSize="470.4,326.4" sap2010:WorkflowViewState.IdRef="ForEach`1_5" Values="[dic_queueParameters.Keys]">
                            <ui:ForEach.Body>
                              <ActivityAction x:TypeArguments="x:String">
                                <ActivityAction.Argument>
                                  <DelegateInArgument x:TypeArguments="x:String" Name="currentItem" />
                                </ActivityAction.Argument>
                                <Sequence DisplayName="Sequence - Show parameters queue" sap:VirtualizedContainerService.HintSize="467.2,164.8" sap2010:WorkflowViewState.IdRef="Sequence_610">
                                  <sap:WorkflowViewStateService.ViewState>
                                    <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                      <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                    </scg:Dictionary>
                                  </sap:WorkflowViewStateService.ViewState>
                                  <Assign DisplayName="Assign - Add DataLog Parameter" sap:VirtualizedContainerService.HintSize="433.6,104.8" sap2010:WorkflowViewState.IdRef="Assign_149">
                                    <Assign.To>
                                      <OutArgument x:TypeArguments="x:Object">[dic_dataLog(currentitem.tostring)]</OutArgument>
                                    </Assign.To>
                                    <Assign.Value>
                                      <InArgument x:TypeArguments="x:String">[dic_queueParameters(currentitem.tostring).tostring]</InArgument>
                                    </Assign.Value>
                                  </Assign>
                                </Sequence>
                              </ActivityAction>
                            </ui:ForEach.Body>
                            <sap:WorkflowViewStateService.ViewState>
                              <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                                <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                <x:Boolean x:Key="IsPinned">False</x:Boolean>
                              </scg:Dictionary>
                            </sap:WorkflowViewStateService.ViewState>
                          </ui:ForEach>
                          <ui:InvokeWorkflowFile ArgumentsVariable="{x:Null}" ContinueOnError="{x:Null}" sap2010:Annotation.AnnotationText="** IMPORTANT **&#xA;&#xA;If Config parameter 'monitorTransactionItems' is False, TransactionItems will not be updated in SQL&#xA;&#xA;Updates a record in SQL" DisplayName="Modules\UpdateRecord.xaml - Invoke Workflow File" sap:VirtualizedContainerService.HintSize="470.4,277.6" sap2010:WorkflowViewState.IdRef="InvokeWorkflowFile_29" UnSafe="False" WorkflowFileName="Modules\UpdateRecord.xaml">
                            <ui:InvokeWorkflowFile.Arguments>
                              <InArgument x:TypeArguments="scg:Dictionary(x:String, scg:Dictionary(x:String, x:String))" x:Key="in_config">[in_config]</InArgument>
                              <InArgument x:TypeArguments="x:String" x:Key="in_transactionItemReference">[queueitem_transactionItem.Reference]</InArgument>
                              <InArgument x:TypeArguments="scg:Dictionary(x:String, x:Object)" x:Key="in_queueParameters">[dic_queueParameters]</InArgument>
                              <InArgument x:TypeArguments="x:String" x:Key="in_processingTransactionItemStatus">[If(ex_Exception IsNot Nothing, "SystemException", "BusinessException")]</InArgument>
                              <InArgument x:TypeArguments="x:String" x:Key="in_processingTransactionItemRemarks">[If(ex_Exception IsNot Nothing, ex_Exception.Message.Replace("'","").Replace("'""","").Replace(vbNewLine," "), ex_businessException.Message.Replace("'","").Replace("'""","").Replace(vbNewLine," "))]</InArgument>
                              <InArgument x:TypeArguments="x:Boolean" x:Key="in_bool_ExisteBD">[BaseBatosEnable]</InArgument>
                            </ui:InvokeWorkflowFile.Arguments>
                            <sap:WorkflowViewStateService.ViewState>
                              <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                              </scg:Dictionary>
                            </sap:WorkflowViewStateService.ViewState>
                          </ui:InvokeWorkflowFile>
                        </Sequence>
                      </If.Else>
                    </If>
                    <Sequence DisplayName="Take Screenshot - Main - SystemException" sap:VirtualizedContainerService.HintSize="524,369" sap2010:WorkflowViewState.IdRef="Sequence_633">
                      <sap:WorkflowViewStateService.ViewState>
                        <scg:Dictionary x:TypeArguments="x:String, x:Object">
                          <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                        </scg:Dictionary>
                      </sap:WorkflowViewStateService.ViewState>
                      <ui:TakeScreenshot WaitBefore="{x:Null}" DisplayName="Take Screenshot" sap:VirtualizedContainerService.HintSize="416,119" sap2010:WorkflowViewState.IdRef="TakeScreenshot_2" Screenshot="[GlobalVariablesNamespace.GlobalVariables.ScreenShot]">
                        <ui:TakeScreenshot.Target>
                          <ui:Target ClippingRegion="{x:Null}" Element="{x:Null}" Selector="{x:Null}" Id="c88aa17c-2830-4d32-b1c0-b0757e415bb0">
                            <ui:Target.TimeoutMS>
                              <InArgument x:TypeArguments="x:Int32" />
                            </ui:Target.TimeoutMS>
                            <ui:Target.WaitForReady>
                              <InArgument x:TypeArguments="ui:WaitForReady" />
                            </ui:Target.WaitForReady>
                          </ui:Target>
                        </ui:TakeScreenshot.Target>
                        <sap:WorkflowViewStateService.ViewState>
                          <scg:Dictionary x:TypeArguments="x:String, x:Object">
                            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                            <x:Boolean x:Key="IsPinned">False</x:Boolean>
                          </scg:Dictionary>
                        </sap:WorkflowViewStateService.ViewState>
                      </ui:TakeScreenshot>
                      <ui:SaveImage DisplayName="Save Image" FileName="[in_config(&quot;Settings&quot;)(&quot;RutaScreenShot&quot;).ToString + &quot;ScreenShot_&quot; + Now.ToString(&quot;yyyyMMdd_HHmmss&quot;) + &quot;.png&quot;]" sap:VirtualizedContainerService.HintSize="416,158" sap2010:WorkflowViewState.IdRef="SaveImage_2" Image="[ScreenShot]" />
                    </Sequence>
                    <If Condition="[ex_Exception IsNot Nothing]" DisplayName="If - SystemException or BusinessException" sap:VirtualizedContainerService.HintSize="524,3602" sap2010:WorkflowViewState.IdRef="If_193">
                      <sap:WorkflowViewStateService.ViewState>
                        <scg:Dictionary x:TypeArguments="x:String, x:Object">
                          <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                          <x:Boolean x:Key="IsPinned">False</x:Boolean>
                        </scg:Dictionary>
                      </sap:WorkflowViewStateService.ViewState>
                      <If.Then>
                        <Sequence DisplayName="Sequence - then - system or business" sap:VirtualizedContainerService.HintSize="522,1736" sap2010:WorkflowViewState.IdRef="Sequence_561">
                          <sap:WorkflowViewStateService.ViewState>
                            <scg:Dictionary x:TypeArguments="x:String, x:Object">
                              <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                            </scg:Dictionary>
                          </sap:WorkflowViewStateService.ViewState>
                          <If sap2010:Annotation.AnnotationText="Comprueba si las notificaciones están habilitadas" Condition="[If(String.IsNullOrEmpty(in_config(&quot;Settings&quot;)(&quot;NotificarSystemException&quot;).ToString),False,CBool(in_config(&quot;Settings&quot;)(&quot;NotificarSystemException&quot;).ToString))]" DisplayName="If - Notify SystemException" sap:VirtualizedContainerService.HintSize="488,1214" sap2010:WorkflowViewState.IdRef="If_196">
                            <sap:WorkflowViewStateService.ViewState>
                              <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                                <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                <x:Boolean x:Key="IsPinned">False</x:Boolean>
                              </scg:Dictionary>
                            </sap:WorkflowViewStateService.ViewState>
                            <If.Then>
                              <Sequence DisplayName="Then" sap:VirtualizedContainerService.HintSize="486,954" sap2010:WorkflowViewState.IdRef="Sequence_571">
                                <sap:WorkflowViewStateService.ViewState>
                                  <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                    <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                  </scg:Dictionary>
                                </sap:WorkflowViewStateService.ViewState>
                                <TryCatch sap2010:Annotation.AnnotationText="Notificar excepción por correo electrónico" DisplayName="Try Catch - Send Mail - SystemException Notificacion" sap:VirtualizedContainerService.HintSize="452,894" sap2010:WorkflowViewState.IdRef="TryCatch_32">
                                  <sap:WorkflowViewStateService.ViewState>
                                    <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                      <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                                      <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                      <x:Boolean x:Key="IsPinned">False</x:Boolean>
                                    </scg:Dictionary>
                                  </sap:WorkflowViewStateService.ViewState>
                                  <TryCatch.Try>
                                    <Sequence DisplayName="Sequence - Send Mail - SystemException Notificacion" sap:VirtualizedContainerService.HintSize="450,435" sap2010:WorkflowViewState.IdRef="Sequence_606">
                                      <sap:WorkflowViewStateService.ViewState>
                                        <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                          <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                        </scg:Dictionary>
                                      </sap:WorkflowViewStateService.ViewState>
                                      <ui:RetryScope LogRetriedExceptions="{x:Null}" RetriedExceptionsLogLevel="{x:Null}" sap2010:Annotation.AnnotationText="Notificar excepción por correo electrónico" DisplayName="Retry Scope - Send Mail - SystemException Notificacion" sap:VirtualizedContainerService.HintSize="416,375" sap2010:WorkflowViewState.IdRef="RetryScope_54" NumberOfRetries="3" RetryInterval="00:00:05">
                                        <ui:RetryScope.ActivityBody>
                                          <ActivityAction>
                                            <ui:Comment sap:VirtualizedContainerService.HintSize="334,76" sap2010:WorkflowViewState.IdRef="Comment_2" Text="// Generar codigo para envio de notificacion SystenException" />
                                          </ActivityAction>
                                        </ui:RetryScope.ActivityBody>
                                        <ui:RetryScope.Condition>
                                          <ActivityFunc x:TypeArguments="x:Boolean" />
                                        </ui:RetryScope.Condition>
                                        <sap:WorkflowViewStateService.ViewState>
                                          <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                            <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                                            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                            <x:Boolean x:Key="IsPinned">False</x:Boolean>
                                          </scg:Dictionary>
                                        </sap:WorkflowViewStateService.ViewState>
                                      </ui:RetryScope>
                                    </Sequence>
                                  </TryCatch.Try>
                                  <TryCatch.Catches>
                                    <Catch x:TypeArguments="s:Exception" sap:VirtualizedContainerService.HintSize="454,21" sap2010:WorkflowViewState.IdRef="Catch`1_35">
                                      <sap:WorkflowViewStateService.ViewState>
                                        <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                          <x:Boolean x:Key="IsExpanded">False</x:Boolean>
                                          <x:Boolean x:Key="IsPinned">False</x:Boolean>
                                        </scg:Dictionary>
                                      </sap:WorkflowViewStateService.ViewState>
                                      <ActivityAction x:TypeArguments="s:Exception">
                                        <ActivityAction.Argument>
                                          <DelegateInArgument x:TypeArguments="s:Exception" Name="exception" />
                                        </ActivityAction.Argument>
                                        <ui:LogMessage DisplayName="Log Message - Notify Exception" sap:VirtualizedContainerService.HintSize="450,143" sap2010:WorkflowViewState.IdRef="LogMessage_100" Level="[UiPath.Core.Activities.LogLevel.Error]" Message="[&quot;Se ha producido un error (Transition - No Data - Notify Exception) en: &quot; + Exception.Source + &quot;. Error debido a: &quot; + Exception.Message]">
                                          <sap:WorkflowViewStateService.ViewState>
                                            <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                              <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                              <x:Boolean x:Key="IsPinned">False</x:Boolean>
                                            </scg:Dictionary>
                                          </sap:WorkflowViewStateService.ViewState>
                                        </ui:LogMessage>
                                      </ActivityAction>
                                    </Catch>
                                  </TryCatch.Catches>
                                  <TryCatch.Finally>
                                    <Sequence DisplayName="Finally" sap:VirtualizedContainerService.HintSize="450,90" sap2010:WorkflowViewState.IdRef="Sequence_623">
                                      <sap:WorkflowViewStateService.ViewState>
                                        <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                          <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                        </scg:Dictionary>
                                      </sap:WorkflowViewStateService.ViewState>
                                    </Sequence>
                                  </TryCatch.Finally>
                                </TryCatch>
                              </Sequence>
                            </If.Then>
                            <If.Else>
                              <Sequence DisplayName="Else" sap:VirtualizedContainerService.HintSize="486,90" sap2010:WorkflowViewState.IdRef="Sequence_572">
                                <sap:WorkflowViewStateService.ViewState>
                                  <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                    <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                  </scg:Dictionary>
                                </sap:WorkflowViewStateService.ViewState>
                              </Sequence>
                            </If.Else>
                          </If>
                          <ui:RetryScope LogRetriedExceptions="{x:Null}" RetriedExceptionsLogLevel="{x:Null}" DisplayName="Retry Scope - Set Transaction Status - Transition - No Data - Exception" sap:VirtualizedContainerService.HintSize="488,462" sap2010:WorkflowViewState.IdRef="RetryScope_52" NumberOfRetries="3" RetryInterval="00:00:20">
                            <ui:RetryScope.ActivityBody>
                              <ActivityAction>
                                <ui:SetTransactionStatus ContinueOnError="{x:Null}" FolderPath="{x:Null}" ServiceBaseAddress="{x:Null}" Details="[ex_Exception.Message]" DisplayName="Set Transaction Status - Transition - No Data - Exception" ErrorType="Application" sap:VirtualizedContainerService.HintSize="337,194" sap2010:WorkflowViewState.IdRef="SetTransactionStatus_17" Reason="Exception - Get Transaction Data" Status="Failed" TimeoutMS="60000" TransactionItem="[queueItem_TransactionItem]">
                                  <ui:SetTransactionStatus.Analytics>
                                    <InArgument x:TypeArguments="x:String" x:Key="Exception ScreenShot URL">[str_screenshotUrl]</InArgument>
                                  </ui:SetTransactionStatus.Analytics>
                                  <ui:SetTransactionStatus.Output>
                                    <InArgument x:TypeArguments="x:String" x:Key="QueueParameters">[JsonConvert.SerializeObject(dic_queueParameters).ToString]</InArgument>
                                  </ui:SetTransactionStatus.Output>
                                  <sap:WorkflowViewStateService.ViewState>
                                    <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                      <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                      <x:Boolean x:Key="IsPinned">False</x:Boolean>
                                    </scg:Dictionary>
                                  </sap:WorkflowViewStateService.ViewState>
                                </ui:SetTransactionStatus>
                              </ActivityAction>
                            </ui:RetryScope.ActivityBody>
                            <ui:RetryScope.Condition>
                              <ActivityFunc x:TypeArguments="x:Boolean" />
                            </ui:RetryScope.Condition>
                            <sap:WorkflowViewStateService.ViewState>
                              <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                <x:Boolean x:Key="IsPinned">False</x:Boolean>
                              </scg:Dictionary>
                            </sap:WorkflowViewStateService.ViewState>
                          </ui:RetryScope>
                        </Sequence>
                      </If.Then>
                      <If.Else>
                        <Sequence DisplayName="Sequence - Else - system or business" sap:VirtualizedContainerService.HintSize="522,1736" sap2010:WorkflowViewState.IdRef="Sequence_562">
                          <sap:WorkflowViewStateService.ViewState>
                            <scg:Dictionary x:TypeArguments="x:String, x:Object">
                              <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                            </scg:Dictionary>
                          </sap:WorkflowViewStateService.ViewState>
                          <If sap2010:Annotation.AnnotationText="Checks if notifications are enable" Condition="[If(String.IsNullOrEmpty(in_config(&quot;Settings&quot;)(&quot;NotificarBusinessException&quot;).ToString),False,CBool(in_config(&quot;Settings&quot;)(&quot;NotificarBusinessException&quot;).ToString))]" DisplayName="If - Notify BusinessException" sap:VirtualizedContainerService.HintSize="488,1214" sap2010:WorkflowViewState.IdRef="If_195">
                            <sap:WorkflowViewStateService.ViewState>
                              <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                                <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                <x:Boolean x:Key="IsPinned">False</x:Boolean>
                              </scg:Dictionary>
                            </sap:WorkflowViewStateService.ViewState>
                            <If.Then>
                              <Sequence DisplayName="Then" sap:VirtualizedContainerService.HintSize="486,954" sap2010:WorkflowViewState.IdRef="Sequence_568">
                                <sap:WorkflowViewStateService.ViewState>
                                  <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                    <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                  </scg:Dictionary>
                                </sap:WorkflowViewStateService.ViewState>
                                <TryCatch sap2010:Annotation.AnnotationText="Notify BusinessException via email" DisplayName="Try Catch - Send Mail - BusinessException Notificacion" sap:VirtualizedContainerService.HintSize="452,894" sap2010:WorkflowViewState.IdRef="TryCatch_31">
                                  <sap:WorkflowViewStateService.ViewState>
                                    <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                      <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                                      <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                      <x:Boolean x:Key="IsPinned">False</x:Boolean>
                                    </scg:Dictionary>
                                  </sap:WorkflowViewStateService.ViewState>
                                  <TryCatch.Try>
                                    <Sequence DisplayName="Sequence - Send Mail - BusinessException Notificacion" sap:VirtualizedContainerService.HintSize="450,435" sap2010:WorkflowViewState.IdRef="Sequence_605">
                                      <sap:WorkflowViewStateService.ViewState>
                                        <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                          <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                        </scg:Dictionary>
                                      </sap:WorkflowViewStateService.ViewState>
                                      <ui:RetryScope LogRetriedExceptions="{x:Null}" RetriedExceptionsLogLevel="{x:Null}" sap2010:Annotation.AnnotationText="Notify BusinessException via email" DisplayName="Retry Scope - Send Mail - BusinessException Notificacion" sap:VirtualizedContainerService.HintSize="416,375" sap2010:WorkflowViewState.IdRef="RetryScope_53" NumberOfRetries="3" RetryInterval="00:00:05">
                                        <ui:RetryScope.ActivityBody>
                                          <ActivityAction>
                                            <ui:Comment sap:VirtualizedContainerService.HintSize="334,76" sap2010:WorkflowViewState.IdRef="Comment_3" Text="// Generar codigo para envio de notificacion BusinessException" />
                                          </ActivityAction>
                                        </ui:RetryScope.ActivityBody>
                                        <ui:RetryScope.Condition>
                                          <ActivityFunc x:TypeArguments="x:Boolean" />
                                        </ui:RetryScope.Condition>
                                        <sap:WorkflowViewStateService.ViewState>
                                          <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                            <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                                            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                            <x:Boolean x:Key="IsPinned">False</x:Boolean>
                                          </scg:Dictionary>
                                        </sap:WorkflowViewStateService.ViewState>
                                      </ui:RetryScope>
                                    </Sequence>
                                  </TryCatch.Try>
                                  <TryCatch.Catches>
                                    <Catch x:TypeArguments="s:Exception" sap:VirtualizedContainerService.HintSize="454,21" sap2010:WorkflowViewState.IdRef="Catch`1_34">
                                      <sap:WorkflowViewStateService.ViewState>
                                        <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                          <x:Boolean x:Key="IsExpanded">False</x:Boolean>
                                          <x:Boolean x:Key="IsPinned">False</x:Boolean>
                                        </scg:Dictionary>
                                      </sap:WorkflowViewStateService.ViewState>
                                      <ActivityAction x:TypeArguments="s:Exception">
                                        <ActivityAction.Argument>
                                          <DelegateInArgument x:TypeArguments="s:Exception" Name="exception" />
                                        </ActivityAction.Argument>
                                        <ui:LogMessage DisplayName="Log Message - Notify BusinessException" sap:VirtualizedContainerService.HintSize="450,143" sap2010:WorkflowViewState.IdRef="LogMessage_101" Level="[UiPath.Core.Activities.LogLevel.Error]" Message="[&quot;Se ha producido un error (Transition - No Data - Notify BusinessException) en: &quot; + Exception.Source + &quot;. Error debido a: &quot; + Exception.Message]">
                                          <sap:WorkflowViewStateService.ViewState>
                                            <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                              <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                              <x:Boolean x:Key="IsPinned">False</x:Boolean>
                                            </scg:Dictionary>
                                          </sap:WorkflowViewStateService.ViewState>
                                        </ui:LogMessage>
                                      </ActivityAction>
                                    </Catch>
                                  </TryCatch.Catches>
                                  <TryCatch.Finally>
                                    <Sequence DisplayName="Finally" sap:VirtualizedContainerService.HintSize="450,90" sap2010:WorkflowViewState.IdRef="Sequence_624">
                                      <sap:WorkflowViewStateService.ViewState>
                                        <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                          <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                        </scg:Dictionary>
                                      </sap:WorkflowViewStateService.ViewState>
                                    </Sequence>
                                  </TryCatch.Finally>
                                </TryCatch>
                              </Sequence>
                            </If.Then>
                            <If.Else>
                              <Sequence DisplayName="Else" sap:VirtualizedContainerService.HintSize="486,90" sap2010:WorkflowViewState.IdRef="Sequence_569">
                                <sap:WorkflowViewStateService.ViewState>
                                  <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                    <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                  </scg:Dictionary>
                                </sap:WorkflowViewStateService.ViewState>
                              </Sequence>
                            </If.Else>
                          </If>
                          <ui:RetryScope LogRetriedExceptions="{x:Null}" RetriedExceptionsLogLevel="{x:Null}" DisplayName="Retry Scope - Set Transaction Status - Transition - No Data - BusinessException" sap:VirtualizedContainerService.HintSize="488,462" sap2010:WorkflowViewState.IdRef="RetryScope_48" NumberOfRetries="3" RetryInterval="00:00:20">
                            <ui:RetryScope.ActivityBody>
                              <ActivityAction>
                                <ui:SetTransactionStatus ContinueOnError="{x:Null}" FolderPath="{x:Null}" ServiceBaseAddress="{x:Null}" Details="[ex_businessException.Message]" DisplayName="Set Transaction Status - Transition - No Data - BusinessException" ErrorType="Business" sap:VirtualizedContainerService.HintSize="337,194" sap2010:WorkflowViewState.IdRef="SetTransactionStatus_14" Reason="BusinessException - Get Transaction Data" Status="Failed" TimeoutMS="60000" TransactionItem="[queueItem_TransactionItem]">
                                  <ui:SetTransactionStatus.Analytics>
                                    <InArgument x:TypeArguments="x:String" x:Key="Exception ScreenShot URL">[str_screenshotUrl]</InArgument>
                                  </ui:SetTransactionStatus.Analytics>
                                  <ui:SetTransactionStatus.Output>
                                    <InArgument x:TypeArguments="x:String" x:Key="QueueParameters">[JsonConvert.SerializeObject(dic_queueParameters).ToString]</InArgument>
                                  </ui:SetTransactionStatus.Output>
                                </ui:SetTransactionStatus>
                              </ActivityAction>
                            </ui:RetryScope.ActivityBody>
                            <ui:RetryScope.Condition>
                              <ActivityFunc x:TypeArguments="x:Boolean" />
                            </ui:RetryScope.Condition>
                            <sap:WorkflowViewStateService.ViewState>
                              <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                <x:Boolean x:Key="IsPinned">False</x:Boolean>
                              </scg:Dictionary>
                            </sap:WorkflowViewStateService.ViewState>
                          </ui:RetryScope>
                        </Sequence>
                      </If.Else>
                    </If>
                  </Sequence>
                </If.Then>
                <If.Else>
                  <Sequence DisplayName="Else - item the queue" sap:VirtualizedContainerService.HintSize="558,2332" sap2010:WorkflowViewState.IdRef="Sequence_504">
                    <sap:WorkflowViewStateService.ViewState>
                      <scg:Dictionary x:TypeArguments="x:String, x:Object">
                        <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                      </scg:Dictionary>
                    </sap:WorkflowViewStateService.ViewState>
                    <ui:IfElseIf DisplayName="Else If - Allow Process Execution" sap:VirtualizedContainerService.HintSize="524,457" sap2010:WorkflowViewState.IdRef="IfElseIf_13">
                      <ui:IfElseIf.ConditionBlocks>
                        <sc:BindingList x:TypeArguments="ui:IfElseIfBlock" AllowEdit="True" AllowNew="True" AllowRemove="True" RaiseListChangedEvents="True">
                          <ui:IfElseIfBlock BlockType="If" Condition="[CBool(bool_allowProcessExecution) = False OrElse&#xA;CBool(bool_allowAllProcessesExecution) = False]" sap2010:WorkflowViewState.IdRef="IfElseIfBlock_5">
                            <ui:IfElseIfBlock.Then>
                              <Sequence DisplayName="Sequence - Allow Process Execution" sap:VirtualizedContainerService.HintSize="450,226" sap2010:WorkflowViewState.IdRef="Sequence_558">
                                <sap:WorkflowViewStateService.ViewState>
                                  <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                    <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                    <x:Boolean x:Key="IsPinned">False</x:Boolean>
                                  </scg:Dictionary>
                                </sap:WorkflowViewStateService.ViewState>
                                <ui:LogMessage DisplayName="Log Message - Transition - No Data" sap:VirtualizedContainerService.HintSize="416,166" sap2010:WorkflowViewState.IdRef="LogMessage_96" Level="Warn" Message="[If(bool_allowProcessExecution, &quot;Todos los procesos contenidos en la carpeta Orchestrator se han detenido a través de 'Asset'&quot;,&quot;No se permite ejecutar el proceso a través de 'Asset'&quot;)]" />
                              </Sequence>
                            </ui:IfElseIfBlock.Then>
                          </ui:IfElseIfBlock>
                        </sc:BindingList>
                      </ui:IfElseIf.ConditionBlocks>
                      <sap:WorkflowViewStateService.ViewState>
                        <scg:Dictionary x:TypeArguments="x:String, x:Object">
                          <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                          <x:Boolean x:Key="IsPinned">False</x:Boolean>
                        </scg:Dictionary>
                      </sap:WorkflowViewStateService.ViewState>
                    </ui:IfElseIf>
                    <ui:IfElseIf DisplayName="Else If - Should Stop" sap:VirtualizedContainerService.HintSize="524,456" sap2010:WorkflowViewState.IdRef="IfElseIf_3">
                      <ui:IfElseIf.ConditionBlocks>
                        <sc:BindingList x:TypeArguments="ui:IfElseIfBlock" AllowEdit="True" AllowNew="True" AllowRemove="True" RaiseListChangedEvents="True">
                          <ui:IfElseIfBlock BlockType="If" Condition="[bool_ShouldStop]" sap2010:WorkflowViewState.IdRef="IfElseIfBlock_6">
                            <ui:IfElseIfBlock.Then>
                              <Sequence DisplayName="Sequence - Should Stop" sap:VirtualizedContainerService.HintSize="450,226" sap2010:WorkflowViewState.IdRef="Sequence_513">
                                <sap:WorkflowViewStateService.ViewState>
                                  <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                    <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                    <x:Boolean x:Key="IsPinned">False</x:Boolean>
                                  </scg:Dictionary>
                                </sap:WorkflowViewStateService.ViewState>
                                <ui:LogMessage DisplayName="Log Message - Transition - No Data" sap:VirtualizedContainerService.HintSize="416,166" sap2010:WorkflowViewState.IdRef="LogMessage_70" Level="Info" Message="[&quot;Se ha detectado una detención manual del paso en Orchestrator&quot;]" />
                              </Sequence>
                            </ui:IfElseIfBlock.Then>
                          </ui:IfElseIfBlock>
                        </sc:BindingList>
                      </ui:IfElseIf.ConditionBlocks>
                      <sap:WorkflowViewStateService.ViewState>
                        <scg:Dictionary x:TypeArguments="x:String, x:Object">
                          <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                          <x:Boolean x:Key="IsPinned">False</x:Boolean>
                        </scg:Dictionary>
                      </sap:WorkflowViewStateService.ViewState>
                    </ui:IfElseIf>
                    <ui:IfElseIf DisplayName="Else If - Time Exceeded" sap:VirtualizedContainerService.HintSize="524,456" sap2010:WorkflowViewState.IdRef="IfElseIf_4">
                      <ui:IfElseIf.ConditionBlocks>
                        <sc:BindingList x:TypeArguments="ui:IfElseIfBlock" AllowEdit="True" AllowNew="True" AllowRemove="True" RaiseListChangedEvents="True">
                          <ui:IfElseIfBlock BlockType="If" Condition="[bool_timeExceeded]" sap2010:WorkflowViewState.IdRef="IfElseIfBlock_7">
                            <ui:IfElseIfBlock.Then>
                              <Sequence DisplayName="Sequence - Time Exceeded" sap:VirtualizedContainerService.HintSize="450,226" sap2010:WorkflowViewState.IdRef="Sequence_514">
                                <sap:WorkflowViewStateService.ViewState>
                                  <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                    <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                    <x:Boolean x:Key="IsPinned">False</x:Boolean>
                                  </scg:Dictionary>
                                </sap:WorkflowViewStateService.ViewState>
                                <ui:LogMessage DisplayName="Log Message - Transition - No Data" sap:VirtualizedContainerService.HintSize="416,166" sap2010:WorkflowViewState.IdRef="LogMessage_71" Level="Info" Message="[&quot;Se ha alcanzado el tiempo de ejecución&quot;]" />
                              </Sequence>
                            </ui:IfElseIfBlock.Then>
                          </ui:IfElseIfBlock>
                        </sc:BindingList>
                      </ui:IfElseIf.ConditionBlocks>
                      <sap:WorkflowViewStateService.ViewState>
                        <scg:Dictionary x:TypeArguments="x:String, x:Object">
                          <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                          <x:Boolean x:Key="IsPinned">False</x:Boolean>
                        </scg:Dictionary>
                      </sap:WorkflowViewStateService.ViewState>
                    </ui:IfElseIf>
                    <ui:IfElseIf DisplayName="Else If - State Apps" sap:VirtualizedContainerService.HintSize="524,456" sap2010:WorkflowViewState.IdRef="IfElseIf_5">
                      <ui:IfElseIf.ConditionBlocks>
                        <sc:BindingList x:TypeArguments="ui:IfElseIfBlock" AllowEdit="True" AllowNew="True" AllowRemove="True" RaiseListChangedEvents="True">
                          <ui:IfElseIfBlock BlockType="If" Condition="[bool_stateApps = False]" sap2010:WorkflowViewState.IdRef="IfElseIfBlock_8">
                            <ui:IfElseIfBlock.Then>
                              <Sequence DisplayName="Sequence - State Apps" sap:VirtualizedContainerService.HintSize="450,226" sap2010:WorkflowViewState.IdRef="Sequence_515">
                                <sap:WorkflowViewStateService.ViewState>
                                  <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                    <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                  </scg:Dictionary>
                                </sap:WorkflowViewStateService.ViewState>
                                <ui:LogMessage DisplayName="Log Message - Transition - No Data" sap:VirtualizedContainerService.HintSize="416,166" sap2010:WorkflowViewState.IdRef="LogMessage_72" Level="Error" Message="[&quot;Proceso detenido porque el Asset que permite el uso de la aplicación tiene valor 'Falso'&quot;]" />
                              </Sequence>
                            </ui:IfElseIfBlock.Then>
                          </ui:IfElseIfBlock>
                        </sc:BindingList>
                      </ui:IfElseIf.ConditionBlocks>
                      <sap:WorkflowViewStateService.ViewState>
                        <scg:Dictionary x:TypeArguments="x:String, x:Object">
                          <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                          <x:Boolean x:Key="IsPinned">False</x:Boolean>
                        </scg:Dictionary>
                      </sap:WorkflowViewStateService.ViewState>
                    </ui:IfElseIf>
                    <ui:IfElseIf DisplayName="Else If - Work Done" sap:VirtualizedContainerService.HintSize="524,447" sap2010:WorkflowViewState.IdRef="IfElseIf_6">
                      <ui:IfElseIf.ConditionBlocks>
                        <sc:BindingList x:TypeArguments="ui:IfElseIfBlock" AllowEdit="True" AllowNew="True" AllowRemove="True" RaiseListChangedEvents="True">
                          <ui:IfElseIfBlock BlockType="If" Condition="[bool_workDone]" sap2010:WorkflowViewState.IdRef="IfElseIfBlock_9">
                            <ui:IfElseIfBlock.Then>
                              <Sequence DisplayName="Sequence - Work Done" sap:VirtualizedContainerService.HintSize="450,226" sap2010:WorkflowViewState.IdRef="Sequence_516">
                                <sap:WorkflowViewStateService.ViewState>
                                  <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                    <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                    <x:Boolean x:Key="IsPinned">False</x:Boolean>
                                  </scg:Dictionary>
                                </sap:WorkflowViewStateService.ViewState>
                                <ui:LogMessage DisplayName="Log Message - Transition - No Data" sap:VirtualizedContainerService.HintSize="416,166" sap2010:WorkflowViewState.IdRef="LogMessage_73" Level="Info" Message="[If(CInt(in_config(in_stepCode)(&quot;maximumTransactionItemsToProcess&quot;).ToString)=int_transactionsItemsProcessed, &quot;Se ha alcanzado el número máximo de TransactionItems definidos en el archivo de configuración para procesar&quot;,&#xA;If(int_businessExceptionsNumber=CInt(in_config(in_stepCode)(&quot;maximumBusinessExceptions&quot;).ToString),&quot;Se ha alcanzado el número máximo de TransactionItems con estado BusinessException&quot;,&#xA;If(int_systemExceptionsNumber=CInt(in_config(in_stepCode)(&quot;maximumSystemExceptions&quot;).ToString), &quot;Se ha alcanzado el número máximo de TransactionItems con estado SystemException&quot;,&#xA;&quot;Todos los artículos de transacción han sido procesados&quot;)))]" />
                              </Sequence>
                            </ui:IfElseIfBlock.Then>
                          </ui:IfElseIfBlock>
                        </sc:BindingList>
                      </ui:IfElseIf.ConditionBlocks>
                      <sap:WorkflowViewStateService.ViewState>
                        <scg:Dictionary x:TypeArguments="x:String, x:Object">
                          <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                          <x:Boolean x:Key="IsPinned">False</x:Boolean>
                        </scg:Dictionary>
                      </sap:WorkflowViewStateService.ViewState>
                    </ui:IfElseIf>
                  </Sequence>
                </If.Else>
              </If>
            </Sequence>
          </Transition.Action>
          <Transition.Condition>[ex_Exception IsNot Nothing OrElse ex_businessException IsNot Nothing]</Transition.Condition>
        </Transition>
        <Transition DisplayName="New TransactionItem" sap:VirtualizedContainerService.HintSize="553,610" sap2010:WorkflowViewState.IdRef="Transition_24">
          <sap:WorkflowViewStateService.ViewState>
            <scg:Dictionary x:TypeArguments="x:String, x:Object">
              <x:Boolean x:Key="IsExpanded">True</x:Boolean>
              <av:PointCollection x:Key="ConnectorLocation">639.2,510.4 873.2,510.4 873.2,522</av:PointCollection>
              <x:Int32 x:Key="SrcConnectionPointIndex">11</x:Int32>
              <x:Int32 x:Key="DestConnectionPointIndex">74</x:Int32>
            </scg:Dictionary>
          </sap:WorkflowViewStateService.ViewState>
          <Transition.To>
            <State x:Name="__ReferenceID2" sap2010:Annotation.AnnotationText="Procesar TransactionItem&#xA;- Success&#xA;- BusinessRuleException&#xA;- SystemException" DisplayName="State - Process TransactionItem" sap:VirtualizedContainerService.HintSize="540.8,3389.6" sap2010:WorkflowViewState.IdRef="State_3">
              <State.Entry>
                <TryCatch DisplayName="Try Cath - Process TransactionItem" sap:VirtualizedContainerService.HintSize="496,2896" sap2010:WorkflowViewState.IdRef="TryCatch_9">
                  <sap:WorkflowViewStateService.ViewState>
                    <scg:Dictionary x:TypeArguments="x:String, x:Object">
                      <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                      <x:Boolean x:Key="IsPinned">False</x:Boolean>
                    </scg:Dictionary>
                  </sap:WorkflowViewStateService.ViewState>
                  <TryCatch.Try>
                    <Sequence DisplayName="Sequence - Process TransactionItem" sap:VirtualizedContainerService.HintSize="494.4,554.4" sap2010:WorkflowViewState.IdRef="Sequence_517">
                      <sap:WorkflowViewStateService.ViewState>
                        <scg:Dictionary x:TypeArguments="x:String, x:Object">
                          <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                          <x:Boolean x:Key="IsPinned">False</x:Boolean>
                        </scg:Dictionary>
                      </sap:WorkflowViewStateService.ViewState>
                      <ui:AddLogFields sap2010:Annotation.AnnotationText="TransactionItem Reference is added to Logs" DisplayName="Add Log Fields - Reference" sap:VirtualizedContainerService.HintSize="460.8,152.8" sap2010:WorkflowViewState.IdRef="AddLogFields_31">
                        <ui:AddLogFields.Fields>
                          <InArgument x:TypeArguments="x:String" x:Key="Reference">[queueItem_TransactionItem.Reference]</InArgument>
                        </ui:AddLogFields.Fields>
                        <sap:WorkflowViewStateService.ViewState>
                          <scg:Dictionary x:TypeArguments="x:String, x:Object">
                            <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                            <x:Boolean x:Key="IsPinned">False</x:Boolean>
                          </scg:Dictionary>
                        </sap:WorkflowViewStateService.ViewState>
                      </ui:AddLogFields>
                      <ui:LogMessage DisplayName="Log Message - Init State - Process TransactionItem" sap:VirtualizedContainerService.HintSize="460.8,174.4" sap2010:WorkflowViewState.IdRef="LogMessage_75" Level="Info" Message="[&quot;Iniciamos Estado 'Process TransactionItem'&quot;]">
                        <sap:WorkflowViewStateService.ViewState>
                          <scg:Dictionary x:TypeArguments="x:String, x:Object">
                            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                            <x:Boolean x:Key="IsPinned">False</x:Boolean>
                          </scg:Dictionary>
                        </sap:WorkflowViewStateService.ViewState>
                      </ui:LogMessage>
                      <ui:InvokeWorkflowFile ArgumentsVariable="{x:Null}" ContinueOnError="{x:Null}" DisplayName="ProcessTransactionItem.xaml - Invoke Workflow File" sap:VirtualizedContainerService.HintSize="460.8,167.2" sap2010:WorkflowViewState.IdRef="InvokeWorkflowFile_26" LogEntry="No" LogExit="No" UnSafe="False" WorkflowFileName="Framework\ProcessTransactionItem.xaml">
                        <ui:InvokeWorkflowFile.Arguments>
                          <InArgument x:TypeArguments="scg:Dictionary(x:String, scg:Dictionary(x:String, x:String))" x:Key="in_config">[in_config]</InArgument>
                          <InOutArgument x:TypeArguments="scg:Dictionary(x:String, x:Object)" x:Key="io_queueParameters">[dic_queueParameters]</InOutArgument>
                          <InArgument x:TypeArguments="x:String" x:Key="in_stepCode">[in_stepCode]</InArgument>
                        </ui:InvokeWorkflowFile.Arguments>
                      </ui:InvokeWorkflowFile>
                    </Sequence>
                  </TryCatch.Try>
                  <TryCatch.Catches>
                    <Catch x:TypeArguments="ui:BusinessRuleException" sap:VirtualizedContainerService.HintSize="454,21" sap2010:WorkflowViewState.IdRef="Catch`1_9">
                      <sap:WorkflowViewStateService.ViewState>
                        <scg:Dictionary x:TypeArguments="x:String, x:Object">
                          <x:Boolean x:Key="IsExpanded">False</x:Boolean>
                          <x:Boolean x:Key="IsPinned">False</x:Boolean>
                        </scg:Dictionary>
                      </sap:WorkflowViewStateService.ViewState>
                      <ActivityAction x:TypeArguments="ui:BusinessRuleException">
                        <ActivityAction.Argument>
                          <DelegateInArgument x:TypeArguments="ui:BusinessRuleException" Name="Exception" />
                        </ActivityAction.Argument>
                        <Sequence DisplayName="Sequence - End State - Process TransactionItem - Exception" sap:VirtualizedContainerService.HintSize="494.4,339.2" sap2010:WorkflowViewState.IdRef="Sequence_49">
                          <sap:WorkflowViewStateService.ViewState>
                            <scg:Dictionary x:TypeArguments="x:String, x:Object">
                              <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                              <x:Boolean x:Key="IsPinned">False</x:Boolean>
                            </scg:Dictionary>
                          </sap:WorkflowViewStateService.ViewState>
                          <ui:LogMessage DisplayName="Log Message - Process TransactionItem - BusinessException" sap:VirtualizedContainerService.HintSize="460.8,174.4" sap2010:WorkflowViewState.IdRef="LogMessage_76" Level="Warn" Message="[&quot;Se ha producido un error (State - Process TransactionItem - BusinessRuleException) en: &quot; + exception.Source + &quot;. Error debido a: &quot; + exception.Message + &quot;. Tipo de error: &quot; + exception.GetType.ToString]">
                            <sap:WorkflowViewStateService.ViewState>
                              <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                <x:Boolean x:Key="IsPinned">False</x:Boolean>
                              </scg:Dictionary>
                            </sap:WorkflowViewStateService.ViewState>
                          </ui:LogMessage>
                          <Assign DisplayName="Assign - Exception - BusinessException" sap:VirtualizedContainerService.HintSize="460.8,104.8" sap2010:WorkflowViewState.IdRef="Assign_132">
                            <Assign.To>
                              <OutArgument x:TypeArguments="ui:BusinessRuleException">[ex_businessException]</OutArgument>
                            </Assign.To>
                            <Assign.Value>
                              <InArgument x:TypeArguments="ui:BusinessRuleException">[Exception]</InArgument>
                            </Assign.Value>
                          </Assign>
                        </Sequence>
                      </ActivityAction>
                    </Catch>
                    <Catch x:TypeArguments="s:ArgumentException" sap:VirtualizedContainerService.HintSize="454,21" sap2010:WorkflowViewState.IdRef="Catch`1_30">
                      <sap:WorkflowViewStateService.ViewState>
                        <scg:Dictionary x:TypeArguments="x:String, x:Object">
                          <x:Boolean x:Key="IsExpanded">False</x:Boolean>
                          <x:Boolean x:Key="IsPinned">False</x:Boolean>
                        </scg:Dictionary>
                      </sap:WorkflowViewStateService.ViewState>
                      <ActivityAction x:TypeArguments="s:ArgumentException">
                        <ActivityAction.Argument>
                          <DelegateInArgument x:TypeArguments="s:ArgumentException" Name="exception" />
                        </ActivityAction.Argument>
                        <Sequence DisplayName="Sequence - End State - Process TransactionItem - ArgumentException" sap:VirtualizedContainerService.HintSize="494.4,339.2" sap2010:WorkflowViewState.IdRef="Sequence_524">
                          <sap:WorkflowViewStateService.ViewState>
                            <scg:Dictionary x:TypeArguments="x:String, x:Object">
                              <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                              <x:Boolean x:Key="IsPinned">False</x:Boolean>
                            </scg:Dictionary>
                          </sap:WorkflowViewStateService.ViewState>
                          <ui:LogMessage DisplayName="Log Message - Process TransactionItem - ArgumentException" sap:VirtualizedContainerService.HintSize="460.8,174.4" sap2010:WorkflowViewState.IdRef="LogMessage_78" Level="Warn" Message="[&quot;Se ha producido un error (State - Process TransactionItem - ArgumentException) en: &quot; + exception.Source + &quot;. Error debido a: &quot; + exception.Message + &quot;. Tipo de error: &quot; + exception.GetType.ToString]" />
                          <Assign DisplayName="Assign - Exception - ArgumentException" sap:VirtualizedContainerService.HintSize="460.8,104.8" sap2010:WorkflowViewState.IdRef="Assign_134">
                            <Assign.To>
                              <OutArgument x:TypeArguments="s:ArgumentException">[ex_ArgumentException]</OutArgument>
                            </Assign.To>
                            <Assign.Value>
                              <InArgument x:TypeArguments="s:ArgumentException">[exception]</InArgument>
                            </Assign.Value>
                          </Assign>
                        </Sequence>
                      </ActivityAction>
                    </Catch>
                    <Catch x:TypeArguments="s:SystemException" sap:VirtualizedContainerService.HintSize="454,21" sap2010:WorkflowViewState.IdRef="Catch`1_31">
                      <sap:WorkflowViewStateService.ViewState>
                        <scg:Dictionary x:TypeArguments="x:String, x:Object">
                          <x:Boolean x:Key="IsExpanded">False</x:Boolean>
                          <x:Boolean x:Key="IsPinned">False</x:Boolean>
                        </scg:Dictionary>
                      </sap:WorkflowViewStateService.ViewState>
                      <ActivityAction x:TypeArguments="s:SystemException">
                        <ActivityAction.Argument>
                          <DelegateInArgument x:TypeArguments="s:SystemException" Name="exception" />
                        </ActivityAction.Argument>
                        <Sequence DisplayName="Sequence - End State - Process TransactionItem - SystemException" sap:VirtualizedContainerService.HintSize="494.4,339.2" sap2010:WorkflowViewState.IdRef="Sequence_525">
                          <sap:WorkflowViewStateService.ViewState>
                            <scg:Dictionary x:TypeArguments="x:String, x:Object">
                              <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                              <x:Boolean x:Key="IsPinned">False</x:Boolean>
                            </scg:Dictionary>
                          </sap:WorkflowViewStateService.ViewState>
                          <ui:LogMessage DisplayName="Log Message - Process TransactionItem - SystemException" sap:VirtualizedContainerService.HintSize="460.8,174.4" sap2010:WorkflowViewState.IdRef="LogMessage_79" Level="Error" Message="[&quot;Se ha producido un error (State - Process TransactionItem - SystemException) en: &quot; + exception.Source + &quot;. Error debido a: &quot; + exception.Message + &quot;. Tipo de error: &quot; + exception.GetType.ToString]" />
                          <Assign DisplayName="Assign - Exception - SystemException" sap:VirtualizedContainerService.HintSize="460.8,104.8" sap2010:WorkflowViewState.IdRef="Assign_135">
                            <Assign.To>
                              <OutArgument x:TypeArguments="s:SystemException">[ex_SystemException]</OutArgument>
                            </Assign.To>
                            <Assign.Value>
                              <InArgument x:TypeArguments="s:SystemException">[exception]</InArgument>
                            </Assign.Value>
                          </Assign>
                        </Sequence>
                      </ActivityAction>
                    </Catch>
                    <Catch x:TypeArguments="ui:SelectorNotFoundException" sap:VirtualizedContainerService.HintSize="454,21" sap2010:WorkflowViewState.IdRef="Catch`1_32">
                      <sap:WorkflowViewStateService.ViewState>
                        <scg:Dictionary x:TypeArguments="x:String, x:Object">
                          <x:Boolean x:Key="IsExpanded">False</x:Boolean>
                          <x:Boolean x:Key="IsPinned">False</x:Boolean>
                        </scg:Dictionary>
                      </sap:WorkflowViewStateService.ViewState>
                      <ActivityAction x:TypeArguments="ui:SelectorNotFoundException">
                        <ActivityAction.Argument>
                          <DelegateInArgument x:TypeArguments="ui:SelectorNotFoundException" Name="exception" />
                        </ActivityAction.Argument>
                        <Sequence DisplayName="Sequence - End State - Process TransactionItem - SelectorNotFoundExcepcion" sap:VirtualizedContainerService.HintSize="494.4,339.2" sap2010:WorkflowViewState.IdRef="Sequence_526">
                          <sap:WorkflowViewStateService.ViewState>
                            <scg:Dictionary x:TypeArguments="x:String, x:Object">
                              <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                              <x:Boolean x:Key="IsPinned">False</x:Boolean>
                            </scg:Dictionary>
                          </sap:WorkflowViewStateService.ViewState>
                          <ui:LogMessage DisplayName="Log Message - Process TransactionItem - SelectorNotFoundExcepcion" sap:VirtualizedContainerService.HintSize="460.8,174.4" sap2010:WorkflowViewState.IdRef="LogMessage_80" Level="Error" Message="[&quot;Se ha producido un error (State - Process TransactionItem - SelectorNotFoundExcepcion) en: &quot; + exception.Source + &quot;. Error debido a: &quot; + exception.Message + &quot;. Tipo de error: &quot; + exception.GetType.ToString]" />
                          <Assign DisplayName="Assign - Exception - SelectorNotFoundExcepcion" sap:VirtualizedContainerService.HintSize="460.8,104.8" sap2010:WorkflowViewState.IdRef="Assign_136">
                            <Assign.To>
                              <OutArgument x:TypeArguments="ui:SelectorNotFoundException">[ex_SelectorNotFoundException]</OutArgument>
                            </Assign.To>
                            <Assign.Value>
                              <InArgument x:TypeArguments="ui:SelectorNotFoundException">[exception]</InArgument>
                            </Assign.Value>
                          </Assign>
                        </Sequence>
                      </ActivityAction>
                    </Catch>
                    <Catch x:TypeArguments="s:Exception" sap:VirtualizedContainerService.HintSize="454,21" sap2010:WorkflowViewState.IdRef="Catch`1_48">
                      <sap:WorkflowViewStateService.ViewState>
                        <scg:Dictionary x:TypeArguments="x:String, x:Object">
                          <x:Boolean x:Key="IsExpanded">False</x:Boolean>
                          <x:Boolean x:Key="IsPinned">False</x:Boolean>
                        </scg:Dictionary>
                      </sap:WorkflowViewStateService.ViewState>
                      <ActivityAction x:TypeArguments="s:Exception">
                        <ActivityAction.Argument>
                          <DelegateInArgument x:TypeArguments="s:Exception" Name="exception" />
                        </ActivityAction.Argument>
                        <Sequence DisplayName="Sequence - End State - Process TransactionItem - Exception" sap:VirtualizedContainerService.HintSize="494.4,339.2" sap2010:WorkflowViewState.IdRef="Sequence_617">
                          <sap:WorkflowViewStateService.ViewState>
                            <scg:Dictionary x:TypeArguments="x:String, x:Object">
                              <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                              <x:Boolean x:Key="IsPinned">False</x:Boolean>
                            </scg:Dictionary>
                          </sap:WorkflowViewStateService.ViewState>
                          <ui:LogMessage DisplayName="Log Message - Process TransactionItem - Exception" sap:VirtualizedContainerService.HintSize="460.8,174.4" sap2010:WorkflowViewState.IdRef="LogMessage_107" Level="Error" Message="[&quot;Se ha producido un error (State - Process TransactionItem - Exception) en: &quot; + exception.Source + &quot;. Error debido a: &quot; + exception.Message + &quot;. Tipo de error: &quot; + exception.GetType.ToString]" />
                          <Assign DisplayName="Assign - Exception - Exception" sap:VirtualizedContainerService.HintSize="460.8,104.8" sap2010:WorkflowViewState.IdRef="Assign_156">
                            <Assign.To>
                              <OutArgument x:TypeArguments="s:Exception">[ex_Exception]</OutArgument>
                            </Assign.To>
                            <Assign.Value>
                              <InArgument x:TypeArguments="s:Exception">[Exception]</InArgument>
                            </Assign.Value>
                          </Assign>
                        </Sequence>
                      </ActivityAction>
                    </Catch>
                  </TryCatch.Catches>
                  <TryCatch.Finally>
                    <Sequence DisplayName="Finally - Sequence - End State - Process TransactionItem" sap:VirtualizedContainerService.HintSize="494.4,347.2" sap2010:WorkflowViewState.IdRef="Sequence_527">
                      <sap:WorkflowViewStateService.ViewState>
                        <scg:Dictionary x:TypeArguments="x:String, x:Object">
                          <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                          <x:Boolean x:Key="IsPinned">False</x:Boolean>
                        </scg:Dictionary>
                      </sap:WorkflowViewStateService.ViewState>
                      <ui:LogMessage DisplayName="Log Message - End State - Process TransactionItem" sap:VirtualizedContainerService.HintSize="460.8,174.4" sap2010:WorkflowViewState.IdRef="LogMessage_81" Level="[UiPath.Core.Activities.LogLevel.Info]" Message="[&quot;Finalizamos Estado 'Process TransactionItem'&quot;]" />
                      <ui:RemoveLogFields DisplayName="RemoveLogFields - Reference" sap:VirtualizedContainerService.HintSize="460.8,112.8" sap2010:WorkflowViewState.IdRef="RemoveLogFields_2">
                        <ui:RemoveLogFields.Fields>
                          <scg:List x:TypeArguments="InArgument(x:String)" Capacity="4">
                            <InArgument x:TypeArguments="x:String">Reference</InArgument>
                          </scg:List>
                        </ui:RemoveLogFields.Fields>
                      </ui:RemoveLogFields>
                    </Sequence>
                  </TryCatch.Finally>
                </TryCatch>
              </State.Entry>
              <sap:WorkflowViewStateService.ViewState>
                <scg:Dictionary x:TypeArguments="x:String, x:Object">
                  <av:Point x:Key="ShapeLocation">592,522</av:Point>
                  <av:Size x:Key="ShapeSize">296,137.6</av:Size>
                  <x:Boolean x:Key="IsPinned">False</x:Boolean>
                  <x:Double x:Key="StateContainerWidth">284</x:Double>
                  <x:Double x:Key="StateContainerHeight">29</x:Double>
                  <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                </scg:Dictionary>
              </sap:WorkflowViewStateService.ViewState>
              <State.Transitions>
                <Transition DisplayName="Success" sap:VirtualizedContainerService.HintSize="1298,4647" sap2010:WorkflowViewState.IdRef="Transition_9">
                  <sap:WorkflowViewStateService.ViewState>
                    <scg:Dictionary x:TypeArguments="x:String, x:Object">
                      <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                      <av:PointCollection x:Key="ConnectorLocation">873.2,659.6 873.2,689.6 903.2,689.6 903.2,278 653.6,278 653.6,308</av:PointCollection>
                      <x:Int32 x:Key="SrcConnectionPointIndex">75</x:Int32>
                      <x:Int32 x:Key="DestConnectionPointIndex">14</x:Int32>
                    </scg:Dictionary>
                  </sap:WorkflowViewStateService.ViewState>
                  <Transition.To>
                    <x:Reference>__ReferenceID0</x:Reference>
                  </Transition.To>
                  <Transition.Action>
                    <TryCatch sap2010:Annotation.AnnotationText="Comprueba si el paso actual es el último que procesa elemento.&#xA;- Con base en lo anterior, se cierra el registro de &quot;End Process&quot;; de lo contrario, se cierra el registro de &quot;End Step&quot;.&#xA;Si existe el siguiente paso donde se procesará el elemento de transacción:&#xA;- Eliminar la clave RetryNumber del diccionario &quot;parametersQueue&quot;.&#xA;- Añadir el elemento de transacción a la cola.&#xA;Establecer el estado de la transacción." DisplayName="Try Catch - Transition - Success" sap:VirtualizedContainerService.HintSize="1195,4263" sap2010:WorkflowViewState.IdRef="TryCatch_30">
                      <sap:WorkflowViewStateService.ViewState>
                        <scg:Dictionary x:TypeArguments="x:String, x:Object">
                          <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                          <x:Boolean x:Key="IsPinned">False</x:Boolean>
                          <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                        </scg:Dictionary>
                      </sap:WorkflowViewStateService.ViewState>
                      <TryCatch.Try>
                        <Sequence sap2010:Annotation.AnnotationText="Comprueba si el paso actual es el último que procesa elemento.&#xA;- Con base en lo anterior, se cierra el registro de &quot;End Process&quot;; de lo contrario, se cierra el registro de &quot;End Step&quot;.&#xA;Si existe el siguiente paso donde se procesará el elemento de transacción:&#xA;- Eliminar la clave RetryNumber del diccionario &quot;parametersQueue&quot;.&#xA;- Añadir el elemento de transacción a la cola.&#xA;Establecer el estado de la transacción." DisplayName="Sequence - Transition - Success" sap:VirtualizedContainerService.HintSize="694,3695" sap2010:WorkflowViewState.IdRef="Sequence_389">
                          <sap:WorkflowViewStateService.ViewState>
                            <scg:Dictionary x:TypeArguments="x:String, x:Object">
                              <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                              <x:Boolean x:Key="IsPinned">False</x:Boolean>
                              <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                            </scg:Dictionary>
                          </sap:WorkflowViewStateService.ViewState>
                          <ui:LogMessage DisplayName="Log Message - Transition - Success" sap:VirtualizedContainerService.HintSize="660,175" sap2010:WorkflowViewState.IdRef="LogMessage_91" Level="Info" Message="[&quot;Transicion. de 'State - Process TransactionItem' a 'State - Get Transaction Data' mediante 'Success'&quot;]">
                            <sap:WorkflowViewStateService.ViewState>
                              <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                <x:Boolean x:Key="IsPinned">False</x:Boolean>
                              </scg:Dictionary>
                            </sap:WorkflowViewStateService.ViewState>
                          </ui:LogMessage>
                          <Assign DisplayName="Assign - TransactionItems Processed" sap:VirtualizedContainerService.HintSize="660,115" sap2010:WorkflowViewState.IdRef="Assign_101">
                            <Assign.To>
                              <OutArgument x:TypeArguments="x:Int32">[int_transactionsItemsProcessed]</OutArgument>
                            </Assign.To>
                            <Assign.Value>
                              <InArgument x:TypeArguments="x:Int32">[int_transactionsItemsProcessed+1]</InArgument>
                            </Assign.Value>
                          </Assign>
                          <If sap2010:Annotation.AnnotationText="Si este Step es el último, se procesará mediante la rama &quot;Then&quot;; de lo contrario, mediante la rama &quot;Else&quot;.&#xA;&#xA;Con base en lo anterior, se cierra el registro de &quot;End Process&quot;; de lo contrario, se cierra el registro de &quot;End Step&quot;." Condition="[CBool(in_config(in_stepCode)(&quot;lastStep&quot;))]" DisplayName="If - Last Step" sap:VirtualizedContainerService.HintSize="660,1278" sap2010:WorkflowViewState.IdRef="If_130">
                            <sap:WorkflowViewStateService.ViewState>
                              <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                                <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                <x:Boolean x:Key="IsPinned">False</x:Boolean>
                              </scg:Dictionary>
                            </sap:WorkflowViewStateService.ViewState>
                            <If.Then>
                              <Sequence DisplayName="Then - If - isEndProcess" sap:VirtualizedContainerService.HintSize="504,666" sap2010:WorkflowViewState.IdRef="Sequence_549">
                                <sap:WorkflowViewStateService.ViewState>
                                  <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                    <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                  </scg:Dictionary>
                                </sap:WorkflowViewStateService.ViewState>
                                <ui:ForEach x:TypeArguments="x:String" CurrentIndex="{x:Null}" sap2010:Annotation.AnnotationText="Add parameters to DataLog dictionary" DisplayName="For Each - QueueParameters Key" sap:VirtualizedContainerService.HintSize="470,328" sap2010:WorkflowViewState.IdRef="ForEach`1_6" Values="[dic_queueParameters.Keys]">
                                  <ui:ForEach.Body>
                                    <ActivityAction x:TypeArguments="x:String">
                                      <ActivityAction.Argument>
                                        <DelegateInArgument x:TypeArguments="x:String" Name="currentItem" />
                                      </ActivityAction.Argument>
                                      <Sequence DisplayName="Sequence - Show parameters queue" sap:VirtualizedContainerService.HintSize="468,166" sap2010:WorkflowViewState.IdRef="Sequence_611">
                                        <sap:WorkflowViewStateService.ViewState>
                                          <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                          </scg:Dictionary>
                                        </sap:WorkflowViewStateService.ViewState>
                                        <Assign DisplayName="Assign - Add DataLog Parameter" sap:VirtualizedContainerService.HintSize="434,106" sap2010:WorkflowViewState.IdRef="Assign_150">
                                          <Assign.To>
                                            <OutArgument x:TypeArguments="x:Object">[dic_dataLog(currentitem.tostring)]</OutArgument>
                                          </Assign.To>
                                          <Assign.Value>
                                            <InArgument x:TypeArguments="x:String">[dic_queueParameters(currentitem.tostring).tostring]</InArgument>
                                          </Assign.Value>
                                        </Assign>
                                      </Sequence>
                                    </ActivityAction>
                                  </ui:ForEach.Body>
                                  <sap:WorkflowViewStateService.ViewState>
                                    <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                      <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                                      <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                      <x:Boolean x:Key="IsPinned">False</x:Boolean>
                                    </scg:Dictionary>
                                  </sap:WorkflowViewStateService.ViewState>
                                </ui:ForEach>
                                <ui:InvokeWorkflowFile ArgumentsVariable="{x:Null}" ContinueOnError="{x:Null}" sap2010:Annotation.AnnotationText="** IMPORTANT **&#xA;&#xA;If Config parameter 'monitorTransactionItems' is False, TransactionItems will not be updated in SQL&#xA;&#xA;Updates a record in SQL" DisplayName="Modules\UpdateRecord.xaml - Invoke Workflow File" sap:VirtualizedContainerService.HintSize="470,278" sap2010:WorkflowViewState.IdRef="InvokeWorkflowFile_30" UnSafe="False" WorkflowFileName="Modules\UpdateRecord.xaml">
                                  <ui:InvokeWorkflowFile.Arguments>
                                    <InArgument x:TypeArguments="scg:Dictionary(x:String, scg:Dictionary(x:String, x:String))" x:Key="in_config">[in_config]</InArgument>
                                    <InArgument x:TypeArguments="x:String" x:Key="in_transactionItemReference">[queueitem_transactionItem.Reference]</InArgument>
                                    <InArgument x:TypeArguments="scg:Dictionary(x:String, x:Object)" x:Key="in_queueParameters">[dic_queueParameters]</InArgument>
                                    <InArgument x:TypeArguments="x:String" x:Key="in_processingTransactionItemStatus">Success</InArgument>
                                    <InArgument x:TypeArguments="x:String" x:Key="in_processingTransactionItemRemarks">TransactionItem se procesó correctamente</InArgument>
                                    <InArgument x:TypeArguments="x:Boolean" x:Key="in_bool_ExisteBD">[BaseBatosEnable]</InArgument>
                                  </ui:InvokeWorkflowFile.Arguments>
                                  <sap:WorkflowViewStateService.ViewState>
                                    <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                      <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                                    </scg:Dictionary>
                                  </sap:WorkflowViewStateService.ViewState>
                                </ui:InvokeWorkflowFile>
                              </Sequence>
                            </If.Then>
                            <If.Else>
                              <Sequence DisplayName="Else - If - isEndProcess" sap:VirtualizedContainerService.HintSize="504,379" sap2010:WorkflowViewState.IdRef="Sequence_471">
                                <sap:WorkflowViewStateService.ViewState>
                                  <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                    <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                  </scg:Dictionary>
                                </sap:WorkflowViewStateService.ViewState>
                                <ui:ForEach x:TypeArguments="x:String" CurrentIndex="{x:Null}" sap2010:Annotation.AnnotationText="Add parameters to DataLog dictionary" DisplayName="For Each - QueueParameters Key" sap:VirtualizedContainerService.HintSize="470,319" sap2010:WorkflowViewState.IdRef="ForEach`1_7" Values="[dic_queueParameters.Keys]">
                                  <ui:ForEach.Body>
                                    <ActivityAction x:TypeArguments="x:String">
                                      <ActivityAction.Argument>
                                        <DelegateInArgument x:TypeArguments="x:String" Name="currentItem" />
                                      </ActivityAction.Argument>
                                      <Sequence DisplayName="Sequence - Show parameters queue" sap:VirtualizedContainerService.HintSize="468,166" sap2010:WorkflowViewState.IdRef="Sequence_612">
                                        <sap:WorkflowViewStateService.ViewState>
                                          <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                          </scg:Dictionary>
                                        </sap:WorkflowViewStateService.ViewState>
                                        <Assign DisplayName="Assign - Add DataLog Parameter" sap:VirtualizedContainerService.HintSize="434,106" sap2010:WorkflowViewState.IdRef="Assign_151">
                                          <Assign.To>
                                            <OutArgument x:TypeArguments="x:Object">[dic_dataLog(currentitem.tostring)]</OutArgument>
                                          </Assign.To>
                                          <Assign.Value>
                                            <InArgument x:TypeArguments="x:String">[dic_queueParameters(currentitem.tostring).tostring]</InArgument>
                                          </Assign.Value>
                                        </Assign>
                                      </Sequence>
                                    </ActivityAction>
                                  </ui:ForEach.Body>
                                  <sap:WorkflowViewStateService.ViewState>
                                    <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                      <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                                      <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                      <x:Boolean x:Key="IsPinned">False</x:Boolean>
                                    </scg:Dictionary>
                                  </sap:WorkflowViewStateService.ViewState>
                                </ui:ForEach>
                              </Sequence>
                            </If.Else>
                          </If>
                          <ui:IfElseIf sap2010:Annotation.AnnotationText="Si el TransactionItem se procesará en el siguiente paso, pasará por la rama 'Then'" DisplayName="Else If - Next Step" sap:VirtualizedContainerService.HintSize="660,1547" sap2010:WorkflowViewState.IdRef="IfElseIf_11">
                            <ui:IfElseIf.ConditionBlocks>
                              <sc:BindingList x:TypeArguments="ui:IfElseIfBlock" AllowEdit="True" AllowNew="True" AllowRemove="True" RaiseListChangedEvents="True">
                                <ui:IfElseIfBlock BlockType="If" Condition="[Not CBool(in_config(in_stepCode)(&quot;lastStep&quot;))]" sap2010:WorkflowViewState.IdRef="IfElseIfBlock_11">
                                  <ui:IfElseIfBlock.Then>
                                    <Sequence sap2010:Annotation.AnnotationText="Eliminar la clave RetryNumber del diccionario 'parametersQueue'&#xA;Añadir TransactionItem a la cola" DisplayName="Sequence - Next Step" sap:VirtualizedContainerService.HintSize="609,1286" sap2010:WorkflowViewState.IdRef="Sequence_553">
                                      <sap:WorkflowViewStateService.ViewState>
                                        <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                          <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                          <x:Boolean x:Key="IsPinned">False</x:Boolean>
                                          <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                                        </scg:Dictionary>
                                      </sap:WorkflowViewStateService.ViewState>
                                      <ui:IfElseIf sap2010:Annotation.AnnotationText="Remove RetryNumber key from the dictionary 'parametersQueue'" DisplayName="Else If - Remove RetryNumber" sap:VirtualizedContainerService.HintSize="575,602" sap2010:WorkflowViewState.IdRef="IfElseIf_12">
                                        <ui:IfElseIf.ConditionBlocks>
                                          <sc:BindingList x:TypeArguments="ui:IfElseIfBlock" AllowEdit="True" AllowNew="True" AllowRemove="True" RaiseListChangedEvents="True">
                                            <ui:IfElseIfBlock BlockType="If" Condition="[dic_queueParameters.ContainsKey(&quot;retryNumber&quot;)]" sap2010:WorkflowViewState.IdRef="IfElseIfBlock_10">
                                              <ui:IfElseIfBlock.Then>
                                                <Sequence DisplayName="Sequence - Remove Retry Number" sap:VirtualizedContainerService.HintSize="496,341" sap2010:WorkflowViewState.IdRef="Sequence_555">
                                                  <Sequence.Variables>
                                                    <Variable x:TypeArguments="x:Boolean" Name="bool_keyRemoved" />
                                                  </Sequence.Variables>
                                                  <sap:WorkflowViewStateService.ViewState>
                                                    <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                      <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                                      <x:Boolean x:Key="IsPinned">False</x:Boolean>
                                                    </scg:Dictionary>
                                                  </sap:WorkflowViewStateService.ViewState>
                                                  <ui:LogMessage DisplayName="Log Message - Remove Retry Number" sap:VirtualizedContainerService.HintSize="462,175" sap2010:WorkflowViewState.IdRef="LogMessage_94" Level="[UiPath.Core.Activities.LogLevel.Trace]" Message="[&quot;Eliminar parametro 'RetryNumber' de 'parametersQueue' diccionario. Valor actual de 'RetryNumber': &quot; + dic_queueParameters.Remove(&quot;retryNumber&quot;).ToString]">
                                                    <sap:WorkflowViewStateService.ViewState>
                                                      <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                        <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                                        <x:Boolean x:Key="IsPinned">False</x:Boolean>
                                                      </scg:Dictionary>
                                                    </sap:WorkflowViewStateService.ViewState>
                                                  </ui:LogMessage>
                                                  <Assign DisplayName="Assign - Remove Retry Number" sap:VirtualizedContainerService.HintSize="462,106" sap2010:WorkflowViewState.IdRef="Assign_145">
                                                    <Assign.To>
                                                      <OutArgument x:TypeArguments="x:Boolean">[bool_keyRemoved]</OutArgument>
                                                    </Assign.To>
                                                    <Assign.Value>
                                                      <InArgument x:TypeArguments="x:Boolean">[dic_queueParameters.Remove("retryNumber")]</InArgument>
                                                    </Assign.Value>
                                                  </Assign>
                                                </Sequence>
                                              </ui:IfElseIfBlock.Then>
                                            </ui:IfElseIfBlock>
                                          </sc:BindingList>
                                        </ui:IfElseIf.ConditionBlocks>
                                        <sap:WorkflowViewStateService.ViewState>
                                          <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                            <x:Boolean x:Key="IsPinned">False</x:Boolean>
                                            <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                                          </scg:Dictionary>
                                        </sap:WorkflowViewStateService.ViewState>
                                      </ui:IfElseIf>
                                      <Assign DisplayName="Assign - Add LogData to ParametersQueue" sap:VirtualizedContainerService.HintSize="575,115" sap2010:WorkflowViewState.IdRef="Assign_112">
                                        <Assign.To>
                                          <OutArgument x:TypeArguments="x:Object">[dic_queueParameters("logData")]</OutArgument>
                                        </Assign.To>
                                        <Assign.Value>
                                          <InArgument x:TypeArguments="x:Object">[JsonConvert.SerializeObject(dic_logData)]</InArgument>
                                        </Assign.Value>
                                      </Assign>
                                      <ui:RetryScope LogRetriedExceptions="{x:Null}" RetriedExceptionsLogLevel="{x:Null}" DisplayName="Retry Scope - Add Queue Item" sap:VirtualizedContainerService.HintSize="575,464" sap2010:WorkflowViewState.IdRef="RetryScope_39" NumberOfRetries="3" RetryInterval="00:00:20">
                                        <ui:RetryScope.ActivityBody>
                                          <ActivityAction>
                                            <ui:AddQueueItem ServiceBaseAddress="{x:Null}" DisplayName="Add Queue Item" sap:VirtualizedContainerService.HintSize="334,196" sap2010:WorkflowViewState.IdRef="AddQueueItem_9" ItemInformationCollection="[dic_queueParameters]" Priority="Normal" QueueType="[in_config(in_stepCode)(&quot;queueNameNextStep&quot;).ToString]" Reference="[queueItem_TransactionItem.Reference]" TimeoutMS="60000">
                                              <ui:AddQueueItem.ItemInformation>
                                                <scg:Dictionary x:TypeArguments="x:String, InArgument" />
                                              </ui:AddQueueItem.ItemInformation>
                                            </ui:AddQueueItem>
                                          </ActivityAction>
                                        </ui:RetryScope.ActivityBody>
                                        <ui:RetryScope.Condition>
                                          <ActivityFunc x:TypeArguments="x:Boolean" />
                                        </ui:RetryScope.Condition>
                                        <sap:WorkflowViewStateService.ViewState>
                                          <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                            <x:Boolean x:Key="IsPinned">False</x:Boolean>
                                          </scg:Dictionary>
                                        </sap:WorkflowViewStateService.ViewState>
                                      </ui:RetryScope>
                                    </Sequence>
                                  </ui:IfElseIfBlock.Then>
                                </ui:IfElseIfBlock>
                              </sc:BindingList>
                            </ui:IfElseIf.ConditionBlocks>
                            <sap:WorkflowViewStateService.ViewState>
                              <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                <x:Boolean x:Key="IsPinned">False</x:Boolean>
                                <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                              </scg:Dictionary>
                            </sap:WorkflowViewStateService.ViewState>
                          </ui:IfElseIf>
                          <ui:RetryScope LogRetriedExceptions="{x:Null}" RetriedExceptionsLogLevel="{x:Null}" DisplayName="Retry Scope - Set Transaction Status" sap:VirtualizedContainerService.HintSize="660,410" sap2010:WorkflowViewState.IdRef="RetryScope_40" NumberOfRetries="3" RetryInterval="00:00:20">
                            <ui:RetryScope.ActivityBody>
                              <ActivityAction>
                                <ui:SetTransactionStatus ContinueOnError="{x:Null}" FolderPath="{x:Null}" Reason="{x:Null}" ServiceBaseAddress="{x:Null}" DisplayName="Set Transaction Status - Successful" ErrorType="Business" sap:VirtualizedContainerService.HintSize="334,142" sap2010:WorkflowViewState.IdRef="SetTransactionStatus_18" Status="Successful" TimeoutMS="60000" TransactionItem="[queueItem_TransactionItem]">
                                  <ui:SetTransactionStatus.Analytics>
                                    <scg:Dictionary x:TypeArguments="x:String, InArgument" />
                                  </ui:SetTransactionStatus.Analytics>
                                  <ui:SetTransactionStatus.Output>
                                    <InArgument x:TypeArguments="x:String" x:Key="QueueParameters">[JsonConvert.SerializeObject(dic_queueParameters).ToString]</InArgument>
                                  </ui:SetTransactionStatus.Output>
                                </ui:SetTransactionStatus>
                              </ActivityAction>
                            </ui:RetryScope.ActivityBody>
                            <ui:RetryScope.Condition>
                              <ActivityFunc x:TypeArguments="x:Boolean" />
                            </ui:RetryScope.Condition>
                            <sap:WorkflowViewStateService.ViewState>
                              <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                <x:Boolean x:Key="IsPinned">False</x:Boolean>
                              </scg:Dictionary>
                            </sap:WorkflowViewStateService.ViewState>
                          </ui:RetryScope>
                        </Sequence>
                      </TryCatch.Try>
                      <TryCatch.Catches>
                        <Catch x:TypeArguments="s:Exception" sap:VirtualizedContainerService.HintSize="726,22" sap2010:WorkflowViewState.IdRef="Catch`1_25">
                          <sap:WorkflowViewStateService.ViewState>
                            <scg:Dictionary x:TypeArguments="x:String, x:Object">
                              <x:Boolean x:Key="IsExpanded">False</x:Boolean>
                              <x:Boolean x:Key="IsPinned">False</x:Boolean>
                            </scg:Dictionary>
                          </sap:WorkflowViewStateService.ViewState>
                          <ActivityAction x:TypeArguments="s:Exception">
                            <ActivityAction.Argument>
                              <DelegateInArgument x:TypeArguments="s:Exception" Name="exception" />
                            </ActivityAction.Argument>
                            <Sequence DisplayName="Sequence - Exception - Transition - Success" sap:VirtualizedContainerService.HintSize="694,226" sap2010:WorkflowViewState.IdRef="Sequence_544">
                              <sap:WorkflowViewStateService.ViewState>
                                <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                  <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                  <x:Boolean x:Key="IsPinned">False</x:Boolean>
                                </scg:Dictionary>
                              </sap:WorkflowViewStateService.ViewState>
                              <ui:LogMessage DisplayName="Log Message - Exception - Transition - Success" sap:VirtualizedContainerService.HintSize="660,166" sap2010:WorkflowViewState.IdRef="LogMessage_90" Level="Error" Message="[&quot;Ha ocurrido un error (Transition - Success) en: &quot; + exception.Source + &quot;. Falló debido a: &quot; + exception.Message + &quot;. Tipo Error: &quot; + exception.GetType.ToString]">
                                <sap:WorkflowViewStateService.ViewState>
                                  <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                    <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                    <x:Boolean x:Key="IsPinned">False</x:Boolean>
                                  </scg:Dictionary>
                                </sap:WorkflowViewStateService.ViewState>
                              </ui:LogMessage>
                            </Sequence>
                          </ActivityAction>
                        </Catch>
                      </TryCatch.Catches>
                      <TryCatch.Finally>
                        <Sequence DisplayName="Finally" sap:VirtualizedContainerService.HintSize="694,90" sap2010:WorkflowViewState.IdRef="Sequence_625">
                          <sap:WorkflowViewStateService.ViewState>
                            <scg:Dictionary x:TypeArguments="x:String, x:Object">
                              <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                            </scg:Dictionary>
                          </sap:WorkflowViewStateService.ViewState>
                        </Sequence>
                      </TryCatch.Finally>
                    </TryCatch>
                  </Transition.Action>
                  <Transition.Condition>[ex_Exception Is Nothing AndAlso ex_SystemException Is Nothing AndAlso ex_businessException Is Nothing AndAlso ex_ArgumentException Is Nothing AndAlso ex_SelectorNotFoundException Is Nothing]</Transition.Condition>
                </Transition>
                <Transition sap2010:Annotation.AnnotationText="" DisplayName="System Exception" sap:VirtualizedContainerService.HintSize="1115,5224" sap2010:WorkflowViewState.IdRef="Transition_4">
                  <sap:WorkflowViewStateService.ViewState>
                    <scg:Dictionary x:TypeArguments="x:String, x:Object">
                      <av:PointCollection x:Key="ConnectorLocation">843.6,659.6 843.6,689.6 903.6,689.6 903.6,90 727.04,90 727.04,120</av:PointCollection>
                      <x:Int32 x:Key="SrcConnectionPointIndex">67</x:Int32>
                      <x:Int32 x:Key="DestConnectionPointIndex">74</x:Int32>
                      <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                      <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                    </scg:Dictionary>
                  </sap:WorkflowViewStateService.ViewState>
                  <Transition.To>
                    <State x:Name="__ReferenceID3" sap2010:Annotation.AnnotationText="Inicializar variables&#xA;Establecer variables&#xA;Cerrar aplicaciones del Step" DisplayName="State - Initialize Settings" sap:VirtualizedContainerService.HintSize="283.2,120.8" sap2010:WorkflowViewState.IdRef="State_2">
                      <State.Entry>
                        <TryCatch sap2010:Annotation.AnnotationText="Inicializar variables&#xA;Establecer variables&#xA;Cerrar aplicaciones del Step" DisplayName="Try Catch - State - Initialize Settings" sap:VirtualizedContainerService.HintSize="628,4132" sap2010:WorkflowViewState.IdRef="TryCatch_2">
                          <sap:WorkflowViewStateService.ViewState>
                            <scg:Dictionary x:TypeArguments="x:String, x:Object">
                              <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                              <x:Boolean x:Key="IsPinned">False</x:Boolean>
                              <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                            </scg:Dictionary>
                          </sap:WorkflowViewStateService.ViewState>
                          <TryCatch.Try>
                            <Sequence sap2010:Annotation.AnnotationText="Inicializar variables&#xA;Establecer variables&#xA;Cerrar aplicaciones del Step" DisplayName="Sequence - Init State - Initialize Settings" sap:VirtualizedContainerService.HintSize="626,3498" sap2010:WorkflowViewState.IdRef="Sequence_4">
                              <sap:WorkflowViewStateService.ViewState>
                                <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                  <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                  <x:Boolean x:Key="IsPinned">False</x:Boolean>
                                  <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                                </scg:Dictionary>
                              </sap:WorkflowViewStateService.ViewState>
                              <ui:LogMessage DisplayName="Log Message - Init State - Initialize Settings" sap:VirtualizedContainerService.HintSize="592,175" sap2010:WorkflowViewState.IdRef="LogMessage_98" Level="Info" Message="[&quot;Estado Inicial 'Inicializar Configuración'. Inicializando Step: &quot; + in_stepCode]">
                                <sap:WorkflowViewStateService.ViewState>
                                  <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                    <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                    <x:Boolean x:Key="IsPinned">False</x:Boolean>
                                  </scg:Dictionary>
                                </sap:WorkflowViewStateService.ViewState>
                              </ui:LogMessage>
                              <Assign DisplayName="Assign - Initialize Exception" sap:VirtualizedContainerService.HintSize="592,115" sap2010:WorkflowViewState.IdRef="Assign_121">
                                <Assign.To>
                                  <OutArgument x:TypeArguments="s:Exception">[ex_Exception]</OutArgument>
                                </Assign.To>
                                <Assign.Value>
                                  <InArgument x:TypeArguments="s:Exception">[Nothing]</InArgument>
                                </Assign.Value>
                              </Assign>
                              <ui:IfElseIf sap2010:Annotation.AnnotationText="Si es la primera ejecución, establecerá el tiempo máximo de ejecución y la variable 'bool_init' en Falso" DisplayName="Else If - First Execution" sap:VirtualizedContainerService.HintSize="592,743" sap2010:WorkflowViewState.IdRef="IfElseIf_1">
                                <ui:IfElseIf.ConditionBlocks>
                                  <sc:BindingList x:TypeArguments="ui:IfElseIfBlock" AllowEdit="True" AllowNew="True" AllowRemove="True" RaiseListChangedEvents="True">
                                    <ui:IfElseIfBlock BlockType="If" Condition="[bool_firstExecution = True]" sap2010:WorkflowViewState.IdRef="IfElseIfBlock_1">
                                      <ui:IfElseIfBlock.Then>
                                        <Sequence sap2010:Annotation.AnnotationText="Inicializar Variables" DisplayName="Sequence - Init State - Initialize Variables" sap:VirtualizedContainerService.HintSize="541,468" sap2010:WorkflowViewState.IdRef="Sequence_566">
                                          <sap:WorkflowViewStateService.ViewState>
                                            <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                              <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                              <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                                              <x:Boolean x:Key="IsPinned">False</x:Boolean>
                                            </scg:Dictionary>
                                          </sap:WorkflowViewStateService.ViewState>
                                          <ui:LogMessage DisplayName="Log Message - Init State - Init Step" sap:VirtualizedContainerService.HintSize="507,175" sap2010:WorkflowViewState.IdRef="LogMessage_99" Level="Info" Message="[&quot;Iniciar Step: &quot; + in_stepCode]">
                                            <sap:WorkflowViewStateService.ViewState>
                                              <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                                <x:Boolean x:Key="IsPinned">False</x:Boolean>
                                              </scg:Dictionary>
                                            </sap:WorkflowViewStateService.ViewState>
                                          </ui:LogMessage>
                                          <ui:MultipleAssign DisplayName="Multiple Assign - Initialize Variables" sap:VirtualizedContainerService.HintSize="507,202" sap2010:WorkflowViewState.IdRef="MultipleAssign_69">
                                            <ui:MultipleAssign.AssignOperations>
                                              <scg:List x:TypeArguments="ui:AssignOperation" Capacity="4">
                                                <ui:AssignOperation sap2010:WorkflowViewState.IdRef="AssignOperation_169">
                                                  <ui:AssignOperation.To>
                                                    <OutArgument x:TypeArguments="s:DateTime">[datetime_maximumExecutionTimeProcessingTransactionItems]</OutArgument>
                                                  </ui:AssignOperation.To>
                                                  <ui:AssignOperation.Value>
                                                    <InArgument x:TypeArguments="s:DateTime">[Date.Now.AddMinutes(CInt(in_config(in_stepCode)("maximumExecutionTimeProcessingTransactionItems")))]</InArgument>
                                                  </ui:AssignOperation.Value>
                                                </ui:AssignOperation>
                                                <ui:AssignOperation sap2010:WorkflowViewState.IdRef="AssignOperation_170">
                                                  <ui:AssignOperation.To>
                                                    <OutArgument x:TypeArguments="x:Boolean">[bool_firstExecution]</OutArgument>
                                                  </ui:AssignOperation.To>
                                                  <ui:AssignOperation.Value>
                                                    <InArgument x:TypeArguments="x:Boolean">False</InArgument>
                                                  </ui:AssignOperation.Value>
                                                </ui:AssignOperation>
                                                <ui:AssignOperation sap2010:WorkflowViewState.IdRef="AssignOperation_176">
                                                  <ui:AssignOperation.To>
                                                    <OutArgument x:TypeArguments="x:Int32">[int_maximumRetryNumber]</OutArgument>
                                                  </ui:AssignOperation.To>
                                                  <ui:AssignOperation.Value>
                                                    <InArgument x:TypeArguments="x:Int32">[CInt(in_config(in_stepCode)("maximumRetryNumber").ToString)]</InArgument>
                                                  </ui:AssignOperation.Value>
                                                </ui:AssignOperation>
                                              </scg:List>
                                            </ui:MultipleAssign.AssignOperations>
                                            <sap:WorkflowViewStateService.ViewState>
                                              <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                                <x:Boolean x:Key="IsPinned">False</x:Boolean>
                                              </scg:Dictionary>
                                            </sap:WorkflowViewStateService.ViewState>
                                          </ui:MultipleAssign>
                                        </Sequence>
                                      </ui:IfElseIfBlock.Then>
                                    </ui:IfElseIfBlock>
                                  </sc:BindingList>
                                </ui:IfElseIf.ConditionBlocks>
                                <sap:WorkflowViewStateService.ViewState>
                                  <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                    <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                    <x:Boolean x:Key="IsPinned">False</x:Boolean>
                                    <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                                  </scg:Dictionary>
                                </sap:WorkflowViewStateService.ViewState>
                              </ui:IfElseIf>
                              <ui:ForEach x:TypeArguments="x:String" CurrentIndex="{x:Null}" sap2010:Annotation.AnnotationText="Cerramos aplicaciones definidas en el Config" DisplayName="For Each Close Applications" sap:VirtualizedContainerService.HintSize="592,555" sap2010:WorkflowViewState.IdRef="ForEach`1_11" Values="[(in_config(&quot;Settings&quot;)(&quot;AppCerrar&quot;).ToString).Split(&quot;,&quot;c)]">
                                <ui:ForEach.Body>
                                  <ActivityAction x:TypeArguments="x:String">
                                    <ActivityAction.Argument>
                                      <DelegateInArgument x:TypeArguments="x:String" Name="currentText" />
                                    </ActivityAction.Argument>
                                    <Sequence DisplayName="Body" sap:VirtualizedContainerService.HintSize="450,393" sap2010:WorkflowViewState.IdRef="Sequence_630">
                                      <sap:WorkflowViewStateService.ViewState>
                                        <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                          <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                        </scg:Dictionary>
                                      </sap:WorkflowViewStateService.ViewState>
                                      <ui:KillProcess AppliesTo="{x:Null}" ContinueOnError="{x:Null}" Process="{x:Null}" DisplayName="Kill Process" sap:VirtualizedContainerService.HintSize="416,167" sap2010:WorkflowViewState.IdRef="KillProcess_1" ProcessName="[currentText.ToString]" />
                                      <ui:LogMessage DisplayName="Log Message" sap:VirtualizedContainerService.HintSize="416,166" sap2010:WorkflowViewState.IdRef="LogMessage_108" Level="Info" Message="[&quot;Cerramos Aplicacion: &quot; + currentText.ToString]" />
                                    </Sequence>
                                  </ActivityAction>
                                </ui:ForEach.Body>
                                <sap:WorkflowViewStateService.ViewState>
                                  <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                    <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                                  </scg:Dictionary>
                                </sap:WorkflowViewStateService.ViewState>
                              </ui:ForEach>
                              <Sequence sap2010:Annotation.AnnotationText="Comprobamos que existe la Base de Datos" sap:VirtualizedContainerService.HintSize="592,1448" sap2010:WorkflowViewState.IdRef="Sequence_641">
                                <sap:WorkflowViewStateService.ViewState>
                                  <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                    <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                    <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                                  </scg:Dictionary>
                                </sap:WorkflowViewStateService.ViewState>
                                <ui:ForEachFileX DisplayName="For Each File in Folder" Folder="[in_config(&quot;Settings&quot;)(&quot;RutaProceso&quot;).ToString]" sap:VirtualizedContainerService.HintSize="538,743" sap2010:WorkflowViewState.IdRef="ForEachFileX_1" IncludeSubDirectories="False" OrderBy="NameAscFirst" SkipFolderWithoutPermission="False">
                                  <ui:ForEachFileX.Body>
                                    <ActivityAction x:TypeArguments="si:FileInfo, x:Int32">
                                      <ActivityAction.Argument1>
                                        <DelegateInArgument x:TypeArguments="si:FileInfo" Name="CurrentFile" />
                                      </ActivityAction.Argument1>
                                      <ActivityAction.Argument2>
                                        <DelegateInArgument x:TypeArguments="x:Int32" Name="CurrentIndex" />
                                      </ActivityAction.Argument2>
                                      <Sequence DisplayName="Do" sap:VirtualizedContainerService.HintSize="504,446" sap2010:WorkflowViewState.IdRef="Sequence_644">
                                        <sap:WorkflowViewStateService.ViewState>
                                          <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                          </scg:Dictionary>
                                        </sap:WorkflowViewStateService.ViewState>
                                        <If Condition="[CurrentFile.ToString.Contains(in_config(&quot;Settings&quot;)(&quot;RutaProceso&quot;).ToString + in_config(&quot;Settings&quot;)(&quot;basedatosNombre&quot;).ToString + &quot;.accdb&quot; )]" sap:VirtualizedContainerService.HintSize="470,386" sap2010:WorkflowViewState.IdRef="If_214">
                                          <If.Then>
                                            <Sequence DisplayName="Then" sap:VirtualizedContainerService.HintSize="468,166" sap2010:WorkflowViewState.IdRef="Sequence_642">
                                              <sap:WorkflowViewStateService.ViewState>
                                                <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                  <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                                </scg:Dictionary>
                                              </sap:WorkflowViewStateService.ViewState>
                                              <Assign sap:VirtualizedContainerService.HintSize="434,106" sap2010:WorkflowViewState.IdRef="Assign_158">
                                                <Assign.To>
                                                  <OutArgument x:TypeArguments="x:Boolean">[BaseBatosEnable]</OutArgument>
                                                </Assign.To>
                                                <Assign.Value>
                                                  <InArgument x:TypeArguments="x:Boolean">True</InArgument>
                                                </Assign.Value>
                                              </Assign>
                                            </Sequence>
                                          </If.Then>
                                          <If.Else>
                                            <Sequence DisplayName="Else" sap:VirtualizedContainerService.HintSize="468,90" sap2010:WorkflowViewState.IdRef="Sequence_643">
                                              <sap:WorkflowViewStateService.ViewState>
                                                <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                  <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                                </scg:Dictionary>
                                              </sap:WorkflowViewStateService.ViewState>
                                            </Sequence>
                                          </If.Else>
                                        </If>
                                      </Sequence>
                                    </ActivityAction>
                                  </ui:ForEachFileX.Body>
                                </ui:ForEachFileX>
                                <If Condition="[BaseBatosEnable = True]" sap:VirtualizedContainerService.HintSize="538,582" sap2010:WorkflowViewState.IdRef="If_215">
                                  <If.Then>
                                    <Sequence DisplayName="Then" sap:VirtualizedContainerService.HintSize="450,226" sap2010:WorkflowViewState.IdRef="Sequence_645">
                                      <sap:WorkflowViewStateService.ViewState>
                                        <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                          <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                        </scg:Dictionary>
                                      </sap:WorkflowViewStateService.ViewState>
                                      <ui:LogMessage DisplayName="Log Message" sap:VirtualizedContainerService.HintSize="416,166" sap2010:WorkflowViewState.IdRef="LogMessage_118" Level="Info" Message="[&quot;Existe Base de Datos: &quot; + BaseBatosEnable.ToString]" />
                                    </Sequence>
                                  </If.Then>
                                  <If.Else>
                                    <Sequence DisplayName="Else" sap:VirtualizedContainerService.HintSize="450,226" sap2010:WorkflowViewState.IdRef="Sequence_646">
                                      <sap:WorkflowViewStateService.ViewState>
                                        <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                          <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                        </scg:Dictionary>
                                      </sap:WorkflowViewStateService.ViewState>
                                      <ui:LogMessage DisplayName="Log Message" sap:VirtualizedContainerService.HintSize="416,166" sap2010:WorkflowViewState.IdRef="LogMessage_117" Level="Error" Message="[&quot;Existe Base de Datos: &quot; + BaseBatosEnable.ToString]" />
                                    </Sequence>
                                  </If.Else>
                                </If>
                              </Sequence>
                              <ui:LogMessage DisplayName="Log Message - Additional Information" sap:VirtualizedContainerService.HintSize="592,175" sap2010:WorkflowViewState.IdRef="LogMessage_49" Level="Info" Message="[&quot;Máximo de elementos de transacción a procesar: &quot; + in_config(in_stepCode)(&quot;maximumTransactionItemsToProcess&quot;).ToString + chr(10) + &#xA;&quot;Tiempo máximo de ejecución al procesar elementos de transacción&quot; + in_config(in_stepCode)(&quot;maximumExecutionTimeProcessingTransactionItems&quot;).ToString +&quot; minutos&quot; + chr(10)]" />
                              <ui:LogMessage DisplayName="Log Message - End State - Initialize Settings" sap:VirtualizedContainerService.HintSize="592,166" sap2010:WorkflowViewState.IdRef="LogMessage_51" Level="Info" Message="[&quot;Estado Final 'Inicializar Configuracion'&quot;]" />
                            </Sequence>
                          </TryCatch.Try>
                          <TryCatch.Catches>
                            <Catch x:TypeArguments="s:Exception" sap:VirtualizedContainerService.HintSize="658,22" sap2010:WorkflowViewState.IdRef="Catch`1_3">
                              <sap:WorkflowViewStateService.ViewState>
                                <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                  <x:Boolean x:Key="IsExpanded">False</x:Boolean>
                                  <x:Boolean x:Key="IsPinned">False</x:Boolean>
                                </scg:Dictionary>
                              </sap:WorkflowViewStateService.ViewState>
                              <ActivityAction x:TypeArguments="s:Exception">
                                <ActivityAction.Argument>
                                  <DelegateInArgument x:TypeArguments="s:Exception" Name="Exception" />
                                </ActivityAction.Argument>
                                <Sequence DisplayName="Sequence - End State - Initialize Settings - Exception" sap:VirtualizedContainerService.HintSize="626,341" sap2010:WorkflowViewState.IdRef="Sequence_38">
                                  <sap:WorkflowViewStateService.ViewState>
                                    <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                      <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                    </scg:Dictionary>
                                  </sap:WorkflowViewStateService.ViewState>
                                  <ui:LogMessage DisplayName="Log Message - End State - Initialize Settings - Exception" sap:VirtualizedContainerService.HintSize="592,175" sap2010:WorkflowViewState.IdRef="LogMessage_52" Level="Error" Message="[&quot;Se ha producido un error (Initialize Settings - SystemException) in: &quot; + exception.Source + &quot;. Falló debido a: &quot; + exception.Message + &quot;. Tipo Error: &quot; + exception.GetType.ToString]" />
                                  <Assign DisplayName="Assign - End State - Initialize Settings - Exception" sap:VirtualizedContainerService.HintSize="592,106" sap2010:WorkflowViewState.IdRef="Assign_122">
                                    <Assign.To>
                                      <OutArgument x:TypeArguments="s:Exception">[ex_Exception]</OutArgument>
                                    </Assign.To>
                                    <Assign.Value>
                                      <InArgument x:TypeArguments="s:Exception">[Exception]</InArgument>
                                    </Assign.Value>
                                  </Assign>
                                </Sequence>
                              </ActivityAction>
                            </Catch>
                          </TryCatch.Catches>
                          <TryCatch.Finally>
                            <Sequence DisplayName="Finally" sap:VirtualizedContainerService.HintSize="626,90" sap2010:WorkflowViewState.IdRef="Sequence_618">
                              <sap:WorkflowViewStateService.ViewState>
                                <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                  <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                </scg:Dictionary>
                              </sap:WorkflowViewStateService.ViewState>
                            </Sequence>
                          </TryCatch.Finally>
                        </TryCatch>
                      </State.Entry>
                      <sap:WorkflowViewStateService.ViewState>
                        <scg:Dictionary x:TypeArguments="x:String, x:Object">
                          <av:Point x:Key="ShapeLocation">458,120</av:Point>
                          <av:Size x:Key="ShapeSize">283.2,120.8</av:Size>
                          <x:Boolean x:Key="IsPinned">False</x:Boolean>
                          <x:Double x:Key="StateContainerWidth">271</x:Double>
                          <x:Double x:Key="StateContainerHeight">29</x:Double>
                          <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                        </scg:Dictionary>
                      </sap:WorkflowViewStateService.ViewState>
                      <State.Transitions>
                        <Transition DisplayName="Exception" sap:VirtualizedContainerService.HintSize="625,2132" sap2010:WorkflowViewState.IdRef="Transition_16">
                          <sap:WorkflowViewStateService.ViewState>
                            <scg:Dictionary x:TypeArguments="x:String, x:Object">
                              <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                              <av:PointCollection x:Key="ConnectorLocation">486.32,240.8 486.32,270.8 269.6,270.8 269.6,302</av:PointCollection>
                              <x:Int32 x:Key="SrcConnectionPointIndex">7</x:Int32>
                              <x:Int32 x:Key="DestConnectionPointIndex">6</x:Int32>
                            </scg:Dictionary>
                          </sap:WorkflowViewStateService.ViewState>
                          <Transition.To>
                            <x:Reference>__ReferenceID1</x:Reference>
                          </Transition.To>
                          <Transition.Action>
                            <Sequence DisplayName="Sequence - Transition - Exception" sap:VirtualizedContainerService.HintSize="522,1748" sap2010:WorkflowViewState.IdRef="Sequence_67">
                              <Sequence.Variables>
                                <Variable x:TypeArguments="x:String" Name="str_screenshotUrl" />
                              </Sequence.Variables>
                              <sap:WorkflowViewStateService.ViewState>
                                <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                  <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                  <x:Boolean x:Key="IsPinned">False</x:Boolean>
                                </scg:Dictionary>
                              </sap:WorkflowViewStateService.ViewState>
                              <ui:LogMessage DisplayName="Log Message - Transition - From Initialize Settings to End Process" sap:VirtualizedContainerService.HintSize="488,175" sap2010:WorkflowViewState.IdRef="LogMessage_54" Level="[UiPath.Core.Activities.LogLevel.Info]" Message="[&quot;Transicion. de 'Estado - Initialize Settings' a 'Estado - End Process' mediante 'Exception'&quot;]">
                                <sap:WorkflowViewStateService.ViewState>
                                  <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                    <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                    <x:Boolean x:Key="IsPinned">False</x:Boolean>
                                  </scg:Dictionary>
                                </sap:WorkflowViewStateService.ViewState>
                              </ui:LogMessage>
                              <Sequence DisplayName="Take Screenshot - Main - SystemException" sap:VirtualizedContainerService.HintSize="488,369" sap2010:WorkflowViewState.IdRef="Sequence_632">
                                <sap:WorkflowViewStateService.ViewState>
                                  <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                    <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                  </scg:Dictionary>
                                </sap:WorkflowViewStateService.ViewState>
                                <ui:TakeScreenshot WaitBefore="{x:Null}" DisplayName="Take Screenshot" sap:VirtualizedContainerService.HintSize="416,119" sap2010:WorkflowViewState.IdRef="TakeScreenshot_1" Screenshot="[ScreenShot]">
                                  <ui:TakeScreenshot.Target>
                                    <ui:Target ClippingRegion="{x:Null}" Element="{x:Null}" Selector="{x:Null}" Id="c88aa17c-2830-4d32-b1c0-b0757e415bb0">
                                      <ui:Target.TimeoutMS>
                                        <InArgument x:TypeArguments="x:Int32" />
                                      </ui:Target.TimeoutMS>
                                      <ui:Target.WaitForReady>
                                        <InArgument x:TypeArguments="ui:WaitForReady" />
                                      </ui:Target.WaitForReady>
                                    </ui:Target>
                                  </ui:TakeScreenshot.Target>
                                  <sap:WorkflowViewStateService.ViewState>
                                    <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                      <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                      <x:Boolean x:Key="IsPinned">False</x:Boolean>
                                    </scg:Dictionary>
                                  </sap:WorkflowViewStateService.ViewState>
                                </ui:TakeScreenshot>
                                <ui:SaveImage DisplayName="Save Image" FileName="[in_config(&quot;Settings&quot;)(&quot;RutaScreenShot&quot;).ToString + &quot;ScreenShot_&quot; + Now.ToString(&quot;yyyyMMdd_HHmmss&quot;) + &quot;.png&quot;]" sap:VirtualizedContainerService.HintSize="416,158" sap2010:WorkflowViewState.IdRef="SaveImage_1" Image="[ScreenShot]" />
                              </Sequence>
                              <If sap2010:Annotation.AnnotationText="Checks if notification are enable" Condition="[CBool(in_config(in_stepCode)(&quot;NotificarSystemException&quot;).ToString)]" DisplayName="If - Notify SystemException" sap:VirtualizedContainerService.HintSize="488,1144" sap2010:WorkflowViewState.IdRef="If_200">
                                <sap:WorkflowViewStateService.ViewState>
                                  <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                    <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                    <x:Boolean x:Key="IsPinned">False</x:Boolean>
                                    <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                                  </scg:Dictionary>
                                </sap:WorkflowViewStateService.ViewState>
                                <If.Then>
                                  <Sequence DisplayName="Then" sap:VirtualizedContainerService.HintSize="486,893" sap2010:WorkflowViewState.IdRef="Sequence_579">
                                    <sap:WorkflowViewStateService.ViewState>
                                      <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                        <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                      </scg:Dictionary>
                                    </sap:WorkflowViewStateService.ViewState>
                                    <TryCatch sap2010:Annotation.AnnotationText="Notify SystemException via Email" DisplayName="Try Catch - Send Mail" sap:VirtualizedContainerService.HintSize="452,833" sap2010:WorkflowViewState.IdRef="TryCatch_36">
                                      <sap:WorkflowViewStateService.ViewState>
                                        <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                          <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                                        </scg:Dictionary>
                                      </sap:WorkflowViewStateService.ViewState>
                                      <TryCatch.Try>
                                        <ui:RetryScope LogRetriedExceptions="{x:Null}" RetriedExceptionsLogLevel="{x:Null}" sap2010:Annotation.AnnotationText="Notify SystemException via Email" DisplayName="Retry Scope - Send Mail" sap:VirtualizedContainerService.HintSize="450,352" sap2010:WorkflowViewState.IdRef="RetryScope_56" NumberOfRetries="3" RetryInterval="00:00:05">
                                          <ui:RetryScope.ActivityBody>
                                            <ActivityAction>
                                              <ui:Comment sap:VirtualizedContainerService.HintSize="334,76" sap2010:WorkflowViewState.IdRef="Comment_1" Text="// generar la actividad de envio de mail para reporte" />
                                            </ActivityAction>
                                          </ui:RetryScope.ActivityBody>
                                          <ui:RetryScope.Condition>
                                            <ActivityFunc x:TypeArguments="x:Boolean" />
                                          </ui:RetryScope.Condition>
                                          <sap:WorkflowViewStateService.ViewState>
                                            <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                              <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                                            </scg:Dictionary>
                                          </sap:WorkflowViewStateService.ViewState>
                                        </ui:RetryScope>
                                      </TryCatch.Try>
                                      <TryCatch.Catches>
                                        <Catch x:TypeArguments="s:Exception" sap:VirtualizedContainerService.HintSize="404,21" sap2010:WorkflowViewState.IdRef="Catch`1_39">
                                          <sap:WorkflowViewStateService.ViewState>
                                            <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                              <x:Boolean x:Key="IsExpanded">False</x:Boolean>
                                              <x:Boolean x:Key="IsPinned">False</x:Boolean>
                                            </scg:Dictionary>
                                          </sap:WorkflowViewStateService.ViewState>
                                          <ActivityAction x:TypeArguments="s:Exception">
                                            <ActivityAction.Argument>
                                              <DelegateInArgument x:TypeArguments="s:Exception" Name="exception" />
                                            </ActivityAction.Argument>
                                            <ui:LogMessage DisplayName="Log Message - Notify Exception" sap:VirtualizedContainerService.HintSize="450,143" sap2010:WorkflowViewState.IdRef="LogMessage_104" Level="[UiPath.Core.Activities.LogLevel.Error]" Message="[&quot;Ha Ocurrido un error (Transition - Exception - Notify Exception) en: &quot; + Exception.Source + &quot;. Falló debido a: &quot; + Exception.Message]">
                                              <sap:WorkflowViewStateService.ViewState>
                                                <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                                  <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                                  <x:Boolean x:Key="IsPinned">False</x:Boolean>
                                                </scg:Dictionary>
                                              </sap:WorkflowViewStateService.ViewState>
                                            </ui:LogMessage>
                                          </ActivityAction>
                                        </Catch>
                                      </TryCatch.Catches>
                                      <TryCatch.Finally>
                                        <Sequence DisplayName="Finally" sap:VirtualizedContainerService.HintSize="450,90" sap2010:WorkflowViewState.IdRef="Sequence_619">
                                          <sap:WorkflowViewStateService.ViewState>
                                            <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                              <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                            </scg:Dictionary>
                                          </sap:WorkflowViewStateService.ViewState>
                                        </Sequence>
                                      </TryCatch.Finally>
                                    </TryCatch>
                                  </Sequence>
                                </If.Then>
                                <If.Else>
                                  <Sequence DisplayName="Else" sap:VirtualizedContainerService.HintSize="486,90" sap2010:WorkflowViewState.IdRef="Sequence_580">
                                    <sap:WorkflowViewStateService.ViewState>
                                      <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                        <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                      </scg:Dictionary>
                                    </sap:WorkflowViewStateService.ViewState>
                                  </Sequence>
                                </If.Else>
                              </If>
                            </Sequence>
                          </Transition.Action>
                          <Transition.Condition>[ex_Exception IsNot Nothing]</Transition.Condition>
                        </Transition>
                        <Transition DisplayName="Get TransactionItem" sap:VirtualizedContainerService.HintSize="553,610" sap2010:WorkflowViewState.IdRef="Transition_2">
                          <sap:WorkflowViewStateService.ViewState>
                            <scg:Dictionary x:TypeArguments="x:String, x:Object">
                              <x:Int32 x:Key="SrcConnectionPointIndex">11</x:Int32>
                              <x:Int32 x:Key="DestConnectionPointIndex">6</x:Int32>
                              <av:PointCollection x:Key="ConnectorLocation">500.48,240.8 500.48,270.8 624.8,270.8 624.8,308</av:PointCollection>
                              <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                            </scg:Dictionary>
                          </sap:WorkflowViewStateService.ViewState>
                          <Transition.To>
                            <x:Reference>__ReferenceID0</x:Reference>
                          </Transition.To>
                          <Transition.Action>
                            <Sequence DisplayName="Sequence - Transition - Get Item" sap:VirtualizedContainerService.HintSize="450,226" sap2010:WorkflowViewState.IdRef="Sequence_42">
                              <sap:WorkflowViewStateService.ViewState>
                                <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                  <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                  <x:Boolean x:Key="IsPinned">False</x:Boolean>
                                </scg:Dictionary>
                              </sap:WorkflowViewStateService.ViewState>
                              <ui:LogMessage DisplayName="Log Message - Transition - Get Item" sap:VirtualizedContainerService.HintSize="416,166" sap2010:WorkflowViewState.IdRef="LogMessage_53" Level="Info" Message="[&quot;Transicion. de 'Estado - Initialize Settings' a 'Estado - Get Transaction Data' mediante 'Get Item'&quot;]" />
                            </Sequence>
                          </Transition.Action>
                          <Transition.Condition>[ex_Exception Is Nothing]</Transition.Condition>
                        </Transition>
                      </State.Transitions>
                    </State>
                  </Transition.To>
                  <Transition.Action>
                    <TryCatch sap2010:Annotation.AnnotationText="Asigna variables de contador&#xA;Toma una captura de pantalla del error&#xA;Comprueba si se alcanzó el número máximo de reintentos&#xA;Si no se alcanza el número de reintentos, el elemento de TransactionItem se cargará de nuevo en la cola&#xA;Establece el registro de &quot;End Process&quot;&#xA;Establece el estado de Set Transaction Status" DisplayName="Try Catch - Transition - SystemException" sap:VirtualizedContainerService.HintSize="1012,4809" sap2010:WorkflowViewState.IdRef="TryCatch_29">
                      <sap:WorkflowViewStateService.ViewState>
                        <scg:Dictionary x:TypeArguments="x:String, x:Object">
                          <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                          <x:Boolean x:Key="IsPinned">False</x:Boolean>
                          <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                        </scg:Dictionary>
                      </sap:WorkflowViewStateService.ViewState>
                      <TryCatch.Try>
                        <Sequence sap2010:Annotation.AnnotationText="Asigna variables de contador&#xA;Toma una captura de pantalla del error&#xA;Comprueba si se alcanzó el número máximo de reintentos&#xA;Si no se alcanza el número de reintentos, el elemento de TransactionItem se cargará de nuevo en la cola&#xA;Establece el registro de &quot;End Process&quot;&#xA;Establece el estado de Set Transaction Status" DisplayName="Sequence - Transition - SystemException" sap:VirtualizedContainerService.HintSize="522,4225" sap2010:WorkflowViewState.IdRef="Sequence_372">
                          <Sequence.Variables>
                            <Variable x:TypeArguments="x:String" Name="str_screenshotUrl" />
                            <Variable x:TypeArguments="mg:DriveItem" Name="driveItem_screenshot" />
                          </Sequence.Variables>
                          <sap:WorkflowViewStateService.ViewState>
                            <scg:Dictionary x:TypeArguments="x:String, x:Object">
                              <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                              <x:Boolean x:Key="IsPinned">False</x:Boolean>
                              <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                            </scg:Dictionary>
                          </sap:WorkflowViewStateService.ViewState>
                          <ui:LogMessage DisplayName="Log Message - Transition - SystemException" sap:VirtualizedContainerService.HintSize="488,175" sap2010:WorkflowViewState.IdRef="LogMessage_87" Level="Info" Message="[&quot;Transicion. de 'State - Process TransactionItem' a 'State - Get Transaction Data' mediante 'SystemException'&quot;]" />
                          <ui:MultipleAssign DisplayName="Multiple Assign - Processed Elements" sap:VirtualizedContainerService.HintSize="488,211" sap2010:WorkflowViewState.IdRef="MultipleAssign_65">
                            <ui:MultipleAssign.AssignOperations>
                              <scg:List x:TypeArguments="ui:AssignOperation" Capacity="8">
                                <ui:AssignOperation sap2010:WorkflowViewState.IdRef="AssignOperation_153">
                                  <ui:AssignOperation.To>
                                    <OutArgument x:TypeArguments="x:Int32">[int_transactionsItemsProcessed]</OutArgument>
                                  </ui:AssignOperation.To>
                                  <ui:AssignOperation.Value>
                                    <InArgument x:TypeArguments="x:Int32">[int_transactionsItemsProcessed+1]</InArgument>
                                  </ui:AssignOperation.Value>
                                </ui:AssignOperation>
                                <ui:AssignOperation sap2010:WorkflowViewState.IdRef="AssignOperation_154">
                                  <ui:AssignOperation.To>
                                    <OutArgument x:TypeArguments="x:Int32">[int_systemExceptionsNumber]</OutArgument>
                                  </ui:AssignOperation.To>
                                  <ui:AssignOperation.Value>
                                    <InArgument x:TypeArguments="x:Int32">[int_systemExceptionsNumber+1]</InArgument>
                                  </ui:AssignOperation.Value>
                                </ui:AssignOperation>
                                <ui:AssignOperation sap:VirtualizedContainerService.HintSize="334,25" sap2010:WorkflowViewState.IdRef="AssignOperation_155">
                                  <ui:AssignOperation.To>
                                    <OutArgument x:TypeArguments="x:Object">[dic_queueParameters("retryNumber")]</OutArgument>
                                  </ui:AssignOperation.To>
                                  <ui:AssignOperation.Value>
                                    <InArgument x:TypeArguments="x:Object">[int_retryNumber+1]</InArgument>
                                  </ui:AssignOperation.Value>
                                </ui:AssignOperation>
                              </scg:List>
                            </ui:MultipleAssign.AssignOperations>
                            <sap:WorkflowViewStateService.ViewState>
                              <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                <x:Boolean x:Key="IsPinned">False</x:Boolean>
                              </scg:Dictionary>
                            </sap:WorkflowViewStateService.ViewState>
                          </ui:MultipleAssign>
                          <Sequence DisplayName="Take Screenshot - Main - SystemException" sap:VirtualizedContainerService.HintSize="488,369" sap2010:WorkflowViewState.IdRef="Sequence_634">
                            <sap:WorkflowViewStateService.ViewState>
                              <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                              </scg:Dictionary>
                            </sap:WorkflowViewStateService.ViewState>
                            <ui:TakeScreenshot WaitBefore="{x:Null}" DisplayName="Take Screenshot" sap:VirtualizedContainerService.HintSize="416,119" sap2010:WorkflowViewState.IdRef="TakeScreenshot_3" Screenshot="[GlobalVariablesNamespace.GlobalVariables.ScreenShot]">
                              <ui:TakeScreenshot.Target>
                                <ui:Target ClippingRegion="{x:Null}" Element="{x:Null}" Selector="{x:Null}" Id="c88aa17c-2830-4d32-b1c0-b0757e415bb0">
                                  <ui:Target.TimeoutMS>
                                    <InArgument x:TypeArguments="x:Int32" />
                                  </ui:Target.TimeoutMS>
                                  <ui:Target.WaitForReady>
                                    <InArgument x:TypeArguments="ui:WaitForReady" />
                                  </ui:Target.WaitForReady>
                                </ui:Target>
                              </ui:TakeScreenshot.Target>
                              <sap:WorkflowViewStateService.ViewState>
                                <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                  <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                  <x:Boolean x:Key="IsPinned">False</x:Boolean>
                                </scg:Dictionary>
                              </sap:WorkflowViewStateService.ViewState>
                            </ui:TakeScreenshot>
                            <ui:SaveImage DisplayName="Save Image" FileName="[in_config(&quot;Settings&quot;)(&quot;RutaScreenShot&quot;).ToString + &quot;ScreenShot_&quot; + Now.ToString(&quot;yyyyMMdd_HHmmss&quot;) + &quot;.png&quot;]" sap:VirtualizedContainerService.HintSize="416,158" sap2010:WorkflowViewState.IdRef="SaveImage_3" Image="[GlobalVariablesNamespace.GlobalVariables.ScreenShot]" />
                          </Sequence>
                          <If sap2010:Annotation.AnnotationText="Checks if notifications are enable" Condition="[If(String.IsNullOrEmpty(in_config(&quot;Settings&quot;)(&quot;NotificarSystemException&quot;).ToString),False,CBool(in_config(&quot;Settings&quot;)(&quot;NotificarSystemException&quot;).ToString))]" DisplayName="If - Notify SystemException" sap:VirtualizedContainerService.HintSize="488,1121" sap2010:WorkflowViewState.IdRef="If_208">
                            <sap:WorkflowViewStateService.ViewState>
                              <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                                <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                <x:Boolean x:Key="IsPinned">False</x:Boolean>
                              </scg:Dictionary>
                            </sap:WorkflowViewStateService.ViewState>
                            <If.Then>
                              <Sequence DisplayName="Then" sap:VirtualizedContainerService.HintSize="486,861" sap2010:WorkflowViewState.IdRef="Sequence_593">
                                <sap:WorkflowViewStateService.ViewState>
                                  <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                    <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                  </scg:Dictionary>
                                </sap:WorkflowViewStateService.ViewState>
                                <TryCatch sap2010:Annotation.AnnotationText="Notify SystemException via email" DisplayName="Try Catch - Send Mail - SystemException Notification" sap:VirtualizedContainerService.HintSize="452,801" sap2010:WorkflowViewState.IdRef="TryCatch_43">
                                  <sap:WorkflowViewStateService.ViewState>
                                    <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                      <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                                      <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                      <x:Boolean x:Key="IsPinned">False</x:Boolean>
                                    </scg:Dictionary>
                                  </sap:WorkflowViewStateService.ViewState>
                                  <TryCatch.Try>
                                    <Sequence DisplayName="Sequence - Send Mail - SystemException Notification" sap:VirtualizedContainerService.HintSize="450,435" sap2010:WorkflowViewState.IdRef="Sequence_607">
                                      <sap:WorkflowViewStateService.ViewState>
                                        <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                          <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                        </scg:Dictionary>
                                      </sap:WorkflowViewStateService.ViewState>
                                      <ui:RetryScope LogRetriedExceptions="{x:Null}" RetriedExceptionsLogLevel="{x:Null}" sap2010:Annotation.AnnotationText="Notify SystemException via email" DisplayName="Retry Scope - Send Mail - SystemException Notification" sap:VirtualizedContainerService.HintSize="416,375" sap2010:WorkflowViewState.IdRef="RetryScope_57" NumberOfRetries="3" RetryInterval="00:00:05">
                                        <ui:RetryScope.ActivityBody>
                                          <ActivityAction>
                                            <ui:Comment sap:VirtualizedContainerService.HintSize="334,76" sap2010:WorkflowViewState.IdRef="Comment_4" Text="// agregar codigo para envio de mail por SystemException" />
                                          </ActivityAction>
                                        </ui:RetryScope.ActivityBody>
                                        <ui:RetryScope.Condition>
                                          <ActivityFunc x:TypeArguments="x:Boolean" />
                                        </ui:RetryScope.Condition>
                                        <sap:WorkflowViewStateService.ViewState>
                                          <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                            <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                                            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                            <x:Boolean x:Key="IsPinned">False</x:Boolean>
                                          </scg:Dictionary>
                                        </sap:WorkflowViewStateService.ViewState>
                                      </ui:RetryScope>
                                    </Sequence>
                                  </TryCatch.Try>
                                  <TryCatch.Catches>
                                    <Catch x:TypeArguments="s:Exception" sap:VirtualizedContainerService.HintSize="454,22" sap2010:WorkflowViewState.IdRef="Catch`1_46">
                                      <sap:WorkflowViewStateService.ViewState>
                                        <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                          <x:Boolean x:Key="IsExpanded">False</x:Boolean>
                                          <x:Boolean x:Key="IsPinned">False</x:Boolean>
                                        </scg:Dictionary>
                                      </sap:WorkflowViewStateService.ViewState>
                                      <ActivityAction x:TypeArguments="s:Exception">
                                        <ActivityAction.Argument>
                                          <DelegateInArgument x:TypeArguments="s:Exception" Name="exception" />
                                        </ActivityAction.Argument>
                                      </ActivityAction>
                                    </Catch>
                                  </TryCatch.Catches>
                                  <TryCatch.Finally>
                                    <Sequence DisplayName="Finally" sap:VirtualizedContainerService.HintSize="450,90" sap2010:WorkflowViewState.IdRef="Sequence_626">
                                      <sap:WorkflowViewStateService.ViewState>
                                        <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                          <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                        </scg:Dictionary>
                                      </sap:WorkflowViewStateService.ViewState>
                                    </Sequence>
                                  </TryCatch.Finally>
                                </TryCatch>
                              </Sequence>
                            </If.Then>
                            <If.Else>
                              <Sequence DisplayName="Else" sap:VirtualizedContainerService.HintSize="486,90" sap2010:WorkflowViewState.IdRef="Sequence_594">
                                <sap:WorkflowViewStateService.ViewState>
                                  <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                    <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                  </scg:Dictionary>
                                </sap:WorkflowViewStateService.ViewState>
                              </Sequence>
                            </If.Else>
                          </If>
                          <If sap2010:Annotation.AnnotationText="Check if the RetryNumber is reached or not&#xA;If RetryNumber is not reached, the TransactionItem will be upload to Queue again" Condition="[int_retryNumber&lt;int_maximumRetryNumber]" DisplayName="If - Maximum Retry Number Reached" sap:VirtualizedContainerService.HintSize="488,1177" sap2010:WorkflowViewState.IdRef="If_192">
                            <sap:WorkflowViewStateService.ViewState>
                              <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                              </scg:Dictionary>
                            </sap:WorkflowViewStateService.ViewState>
                            <If.Then>
                              <Sequence DisplayName="Then - retryNumber - Add Queue Item" sap:VirtualizedContainerService.HintSize="468,639" sap2010:WorkflowViewState.IdRef="Sequence_533">
                                <Sequence.Variables>
                                  <Variable x:TypeArguments="s:DateTime" Name="datetime_transactionItemTimePostpone" />
                                </Sequence.Variables>
                                <sap:WorkflowViewStateService.ViewState>
                                  <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                    <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                  </scg:Dictionary>
                                </sap:WorkflowViewStateService.ViewState>
                                <Assign DisplayName="Assign - PostPone TransactionItem" sap:VirtualizedContainerService.HintSize="434,115" sap2010:WorkflowViewState.IdRef="Assign_139">
                                  <Assign.To>
                                    <OutArgument x:TypeArguments="s:DateTime">[datetime_transactionItemTimePostpone]</OutArgument>
                                  </Assign.To>
                                  <Assign.Value>
                                    <InArgument x:TypeArguments="s:DateTime">[Now.AddMinutes(cint(in_config(in_stepCode)("transactionItemTimePostpone").ToString))]</InArgument>
                                  </Assign.Value>
                                </Assign>
                                <ui:RetryScope LogRetriedExceptions="{x:Null}" RetriedExceptionsLogLevel="{x:Null}" DisplayName="Retry Scope - Add Queue Item" sap:VirtualizedContainerService.HintSize="434,464" sap2010:WorkflowViewState.IdRef="RetryScope_49" NumberOfRetries="3" RetryInterval="00:00:20">
                                  <ui:RetryScope.ActivityBody>
                                    <ActivityAction>
                                      <ui:AddQueueItem ServiceBaseAddress="{x:Null}" DeferDate="[datetime_transactionItemTimePostpone]" DisplayName="Add Queue Item" FolderPath="[in_config(&quot;Settings&quot;)(&quot;RutaCarpetaOrquestador&quot;).ToString]" sap:VirtualizedContainerService.HintSize="334,196" sap2010:WorkflowViewState.IdRef="AddQueueItem_8" ItemInformationCollection="[dic_queueParameters]" Priority="High" QueueType="[in_config(in_stepCode)(&quot;queueName&quot;).ToString]" Reference="[queueItem_TransactionItem.Reference]" TimeoutMS="60000">
                                        <ui:AddQueueItem.ItemInformation>
                                          <scg:Dictionary x:TypeArguments="x:String, InArgument" />
                                        </ui:AddQueueItem.ItemInformation>
                                      </ui:AddQueueItem>
                                    </ActivityAction>
                                  </ui:RetryScope.ActivityBody>
                                  <ui:RetryScope.Condition>
                                    <ActivityFunc x:TypeArguments="x:Boolean" />
                                  </ui:RetryScope.Condition>
                                  <sap:WorkflowViewStateService.ViewState>
                                    <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                      <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                      <x:Boolean x:Key="IsPinned">False</x:Boolean>
                                    </scg:Dictionary>
                                  </sap:WorkflowViewStateService.ViewState>
                                </ui:RetryScope>
                              </Sequence>
                            </If.Then>
                            <If.Else>
                              <Sequence DisplayName="Else - retryNumber - Add Queue Item" sap:VirtualizedContainerService.HintSize="468,338" sap2010:WorkflowViewState.IdRef="Sequence_534">
                                <sap:WorkflowViewStateService.ViewState>
                                  <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                    <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                  </scg:Dictionary>
                                </sap:WorkflowViewStateService.ViewState>
                                <ui:InvokeWorkflowFile ArgumentsVariable="{x:Null}" ContinueOnError="{x:Null}" sap2010:Annotation.AnnotationText="** IMPORTANT **&#xA;&#xA;If Config parameter 'monitorTransactionItems' is False, TransactionItems will not be updated in SQL&#xA;&#xA;Updates a record in SQL" DisplayName="Modules\UpdateRecord.xaml - Invoke Workflow File" sap:VirtualizedContainerService.HintSize="434,278" sap2010:WorkflowViewState.IdRef="InvokeWorkflowFile_31" UnSafe="False" WorkflowFileName="Modules\UpdateRecord.xaml">
                                  <ui:InvokeWorkflowFile.Arguments>
                                    <InArgument x:TypeArguments="scg:Dictionary(x:String, scg:Dictionary(x:String, x:String))" x:Key="in_config">[in_config]</InArgument>
                                    <InArgument x:TypeArguments="x:String" x:Key="in_transactionItemReference">[queueitem_transactionItem.Reference]</InArgument>
                                    <InArgument x:TypeArguments="scg:Dictionary(x:String, x:Object)" x:Key="in_queueParameters">[dic_queueParameters]</InArgument>
                                    <InArgument x:TypeArguments="x:String" x:Key="in_processingTransactionItemStatus">SystemException</InArgument>
                                    <InArgument x:TypeArguments="x:String" x:Key="in_processingTransactionItemRemarks">[If(ex_SelectorNotFoundException IsNot Nothing, ex_SelectorNotFoundException.Message.Replace("'","").Replace("'""","").Replace(vbNewLine," "), If(ex_SystemException IsNot Nothing, ex_SystemException.Message.Replace("'","").Replace("'""","").Replace(vbNewLine," "), If(ex_argumentException IsNot Nothing, ex_argumentException.Message.Replace("'","").Replace("'""","").Replace(vbNewLine," "), ex_Exception.Message.Replace("'","").Replace("'""","").Replace(vbNewLine," "))))]</InArgument>
                                    <InArgument x:TypeArguments="x:Boolean" x:Key="in_bool_ExisteBD">[BaseBatosEnable]</InArgument>
                                  </ui:InvokeWorkflowFile.Arguments>
                                  <sap:WorkflowViewStateService.ViewState>
                                    <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                      <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                                    </scg:Dictionary>
                                  </sap:WorkflowViewStateService.ViewState>
                                </ui:InvokeWorkflowFile>
                              </Sequence>
                            </If.Else>
                          </If>
                          <ui:ForEach x:TypeArguments="x:String" CurrentIndex="{x:Null}" DisplayName="For Each Close Applications" sap:VirtualizedContainerService.HintSize="488,524" sap2010:WorkflowViewState.IdRef="ForEach`1_13" Values="[(in_config(&quot;Settings&quot;)(&quot;AppCerrar&quot;).ToString).Split(&quot;,&quot;c)]">
                            <ui:ForEach.Body>
                              <ActivityAction x:TypeArguments="x:String">
                                <ActivityAction.Argument>
                                  <DelegateInArgument x:TypeArguments="x:String" Name="currentText" />
                                </ActivityAction.Argument>
                                <Sequence DisplayName="Body" sap:VirtualizedContainerService.HintSize="450,393" sap2010:WorkflowViewState.IdRef="Sequence_635">
                                  <sap:WorkflowViewStateService.ViewState>
                                    <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                      <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                    </scg:Dictionary>
                                  </sap:WorkflowViewStateService.ViewState>
                                  <ui:KillProcess AppliesTo="{x:Null}" ContinueOnError="{x:Null}" Process="{x:Null}" DisplayName="Kill Process" sap:VirtualizedContainerService.HintSize="416,167" sap2010:WorkflowViewState.IdRef="KillProcess_3" ProcessName="[currentText.ToString]" />
                                  <ui:LogMessage DisplayName="Log Message" sap:VirtualizedContainerService.HintSize="416,166" sap2010:WorkflowViewState.IdRef="LogMessage_110" Level="Info" Message="[&quot;Cerramos Aplicacion: &quot; + currentText.ToString]" />
                                </Sequence>
                              </ActivityAction>
                            </ui:ForEach.Body>
                          </ui:ForEach>
                          <ui:RetryScope LogRetriedExceptions="{x:Null}" RetriedExceptionsLogLevel="{x:Null}" DisplayName="Retry Scope - Set Transaction Status - SystemException" sap:VirtualizedContainerService.HintSize="488,462" sap2010:WorkflowViewState.IdRef="RetryScope_37" NumberOfRetries="3" RetryInterval="00:00:20">
                            <ui:RetryScope.ActivityBody>
                              <ActivityAction>
                                <ui:SetTransactionStatus ContinueOnError="{x:Null}" FolderPath="{x:Null}" ServiceBaseAddress="{x:Null}" Details="[If(ex_SelectorNotFoundException IsNot Nothing, ex_SelectorNotFoundException.Message, If(ex_SystemException IsNot Nothing, ex_SystemException.Message, If(ex_argumentException IsNot Nothing, ex_argumentException.Message, ex_Exception.Message)))]" DisplayName="Set Transaction Status - SystemException" ErrorType="Application" sap:VirtualizedContainerService.HintSize="336,194" sap2010:WorkflowViewState.IdRef="SetTransactionStatus_16" Reason="SystemException - Process TransactionItem" Status="Failed" TimeoutMS="60000" TransactionItem="[queueItem_TransactionItem]">
                                  <ui:SetTransactionStatus.Analytics>
                                    <InArgument x:TypeArguments="x:String" x:Key="Exception ScreenShot URL">[str_screenshotUrl]</InArgument>
                                  </ui:SetTransactionStatus.Analytics>
                                  <ui:SetTransactionStatus.Output>
                                    <InArgument x:TypeArguments="x:String" x:Key="QueueParameters">[JsonConvert.SerializeObject(dic_queueParameters).ToString]</InArgument>
                                  </ui:SetTransactionStatus.Output>
                                </ui:SetTransactionStatus>
                              </ActivityAction>
                            </ui:RetryScope.ActivityBody>
                            <ui:RetryScope.Condition>
                              <ActivityFunc x:TypeArguments="x:Boolean" />
                            </ui:RetryScope.Condition>
                            <sap:WorkflowViewStateService.ViewState>
                              <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                <x:Boolean x:Key="IsPinned">False</x:Boolean>
                              </scg:Dictionary>
                            </sap:WorkflowViewStateService.ViewState>
                          </ui:RetryScope>
                        </Sequence>
                      </TryCatch.Try>
                      <TryCatch.Catches>
                        <Catch x:TypeArguments="s:Exception" sap:VirtualizedContainerService.HintSize="652,22" sap2010:WorkflowViewState.IdRef="Catch`1_23">
                          <sap:WorkflowViewStateService.ViewState>
                            <scg:Dictionary x:TypeArguments="x:String, x:Object">
                              <x:Boolean x:Key="IsExpanded">False</x:Boolean>
                              <x:Boolean x:Key="IsPinned">False</x:Boolean>
                            </scg:Dictionary>
                          </sap:WorkflowViewStateService.ViewState>
                          <ActivityAction x:TypeArguments="s:Exception">
                            <ActivityAction.Argument>
                              <DelegateInArgument x:TypeArguments="s:Exception" Name="exception" />
                            </ActivityAction.Argument>
                            <Sequence DisplayName="Sequence - Exception - Transaction - SystemException" sap:VirtualizedContainerService.HintSize="522,226" sap2010:WorkflowViewState.IdRef="Sequence_532">
                              <sap:WorkflowViewStateService.ViewState>
                                <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                  <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                </scg:Dictionary>
                              </sap:WorkflowViewStateService.ViewState>
                              <ui:LogMessage DisplayName="Log Message - Transaction - SystemException" sap:VirtualizedContainerService.HintSize="488,166" sap2010:WorkflowViewState.IdRef="LogMessage_86" Level="Error" Message="[&quot;Se ha producido un error (Transition - Process TransactionItem - SystemException) en: &quot; + exception.Source + &quot;. Error debido a: &quot; + exception.Message + &quot;. Tipo de error: &quot; + exception.GetType.ToString]" />
                            </Sequence>
                          </ActivityAction>
                        </Catch>
                      </TryCatch.Catches>
                      <TryCatch.Finally>
                        <Sequence DisplayName="Finally" sap:VirtualizedContainerService.HintSize="522,90" sap2010:WorkflowViewState.IdRef="Sequence_627">
                          <sap:WorkflowViewStateService.ViewState>
                            <scg:Dictionary x:TypeArguments="x:String, x:Object">
                              <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                            </scg:Dictionary>
                          </sap:WorkflowViewStateService.ViewState>
                        </Sequence>
                      </TryCatch.Finally>
                    </TryCatch>
                  </Transition.Action>
                  <Transition.Condition>[ex_Exception IsNot Nothing OrElse ex_SystemException IsNot Nothing OrElse ex_SelectorNotFoundException IsNot Nothing OrElse ex_ArgumentException IsNot Nothing]</Transition.Condition>
                </Transition>
                <Transition DisplayName="Business Exception" sap:VirtualizedContainerService.HintSize="627,3649" sap2010:WorkflowViewState.IdRef="Transition_8">
                  <sap:WorkflowViewStateService.ViewState>
                    <scg:Dictionary x:TypeArguments="x:String, x:Object">
                      <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                      <av:PointCollection x:Key="ConnectorLocation">858.4000000000001,659.6 858.4000000000001,689.6 918,689.6 918,278 639.2,278 639.2,308</av:PointCollection>
                      <x:Int32 x:Key="SrcConnectionPointIndex">71</x:Int32>
                      <x:Int32 x:Key="DestConnectionPointIndex">10</x:Int32>
                    </scg:Dictionary>
                  </sap:WorkflowViewStateService.ViewState>
                  <Transition.To>
                    <x:Reference>__ReferenceID0</x:Reference>
                  </Transition.To>
                  <Transition.Action>
                    <TryCatch sap2010:Annotation.AnnotationText="Asigna variables de contador&#xA;Toma una captura de pantalla del error&#xA;Establece el registro de &quot;End Process&quot;&#xA;Establece el estado de Set Transaction Status" DisplayName="Try Catch - Transition - BusinessException" sap:VirtualizedContainerService.HintSize="524,3265" sap2010:WorkflowViewState.IdRef="TryCatch_28">
                      <sap:WorkflowViewStateService.ViewState>
                        <scg:Dictionary x:TypeArguments="x:String, x:Object">
                          <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                          <x:Boolean x:Key="IsPinned">False</x:Boolean>
                          <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                        </scg:Dictionary>
                      </sap:WorkflowViewStateService.ViewState>
                      <TryCatch.Try>
                        <Sequence sap2010:Annotation.AnnotationText="Asigna variables de contador&#xA;Toma una captura de pantalla del error&#xA;Establece el registro de &quot;End Process&quot;&#xA;Establece el estado de Set Transaction Status" DisplayName="Sequence - Transition - BusinessException" sap:VirtualizedContainerService.HintSize="522,2730" sap2010:WorkflowViewState.IdRef="Sequence_381">
                          <Sequence.Variables>
                            <Variable x:TypeArguments="x:String" Name="str_screenshotUrl" />
                            <Variable x:TypeArguments="mg:DriveItem" Name="driveItem_screenshot" />
                          </Sequence.Variables>
                          <sap:WorkflowViewStateService.ViewState>
                            <scg:Dictionary x:TypeArguments="x:String, x:Object">
                              <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                              <x:Boolean x:Key="IsPinned">False</x:Boolean>
                              <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                            </scg:Dictionary>
                          </sap:WorkflowViewStateService.ViewState>
                          <ui:LogMessage DisplayName="Log Message - Transition - BusinessException" sap:VirtualizedContainerService.HintSize="488,175" sap2010:WorkflowViewState.IdRef="LogMessage_82" Level="Info" Message="[&quot;Transicion. de 'State - Process TransactionItem' a 'State - Get Transaction Data' mediante 'BusinessException'&quot;]" />
                          <ui:MultipleAssign DisplayName="Multiple Assign - Processed Elements" sap:VirtualizedContainerService.HintSize="488,180" sap2010:WorkflowViewState.IdRef="MultipleAssign_59">
                            <ui:MultipleAssign.AssignOperations>
                              <scg:List x:TypeArguments="ui:AssignOperation" Capacity="4">
                                <ui:AssignOperation sap2010:WorkflowViewState.IdRef="AssignOperation_142">
                                  <ui:AssignOperation.To>
                                    <OutArgument x:TypeArguments="x:Int32">[int_transactionsItemsProcessed]</OutArgument>
                                  </ui:AssignOperation.To>
                                  <ui:AssignOperation.Value>
                                    <InArgument x:TypeArguments="x:Int32">[int_transactionsItemsProcessed+1]</InArgument>
                                  </ui:AssignOperation.Value>
                                </ui:AssignOperation>
                                <ui:AssignOperation sap2010:WorkflowViewState.IdRef="AssignOperation_143">
                                  <ui:AssignOperation.To>
                                    <OutArgument x:TypeArguments="x:Int32">[int_businessExceptionsNumber]</OutArgument>
                                  </ui:AssignOperation.To>
                                  <ui:AssignOperation.Value>
                                    <InArgument x:TypeArguments="x:Int32">[int_businessExceptionsNumber+1]</InArgument>
                                  </ui:AssignOperation.Value>
                                </ui:AssignOperation>
                              </scg:List>
                            </ui:MultipleAssign.AssignOperations>
                          </ui:MultipleAssign>
                          <ui:InvokeWorkflowFile ArgumentsVariable="{x:Null}" ContinueOnError="{x:Null}" sap2010:Annotation.AnnotationText="** IMPORTANT **&#xA;&#xA;If Config parameter 'monitorTransactionItems' is False, TransactionItems will not be updated in SQL&#xA;&#xA;Updates a record in SQL" DisplayName="Modules\UpdateRecord.xaml - Invoke Workflow File" sap:VirtualizedContainerService.HintSize="488,286" sap2010:WorkflowViewState.IdRef="InvokeWorkflowFile_32" UnSafe="False" WorkflowFileName="Modules\UpdateRecord.xaml">
                            <ui:InvokeWorkflowFile.Arguments>
                              <InArgument x:TypeArguments="scg:Dictionary(x:String, scg:Dictionary(x:String, x:String))" x:Key="in_config">[in_config]</InArgument>
                              <InArgument x:TypeArguments="x:String" x:Key="in_transactionItemReference">[queueitem_transactionItem.Reference]</InArgument>
                              <InArgument x:TypeArguments="scg:Dictionary(x:String, x:Object)" x:Key="in_queueParameters">[dic_queueParameters]</InArgument>
                              <InArgument x:TypeArguments="x:String" x:Key="in_processingTransactionItemStatus">BusinessException</InArgument>
                              <InArgument x:TypeArguments="x:String" x:Key="in_processingTransactionItemRemarks">[ex_businessException.Message.Replace("'","").Replace("'""","").Replace(vbNewLine," ")]</InArgument>
                              <InArgument x:TypeArguments="x:Boolean" x:Key="in_bool_ExisteBD">[BaseBatosEnable]</InArgument>
                            </ui:InvokeWorkflowFile.Arguments>
                            <sap:WorkflowViewStateService.ViewState>
                              <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                              </scg:Dictionary>
                            </sap:WorkflowViewStateService.ViewState>
                          </ui:InvokeWorkflowFile>
                          <Sequence DisplayName="Take Screenshot - Main - SystemException" sap:VirtualizedContainerService.HintSize="488,369" sap2010:WorkflowViewState.IdRef="Sequence_636">
                            <sap:WorkflowViewStateService.ViewState>
                              <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                              </scg:Dictionary>
                            </sap:WorkflowViewStateService.ViewState>
                            <ui:TakeScreenshot WaitBefore="{x:Null}" DisplayName="Take Screenshot" sap:VirtualizedContainerService.HintSize="416,119" sap2010:WorkflowViewState.IdRef="TakeScreenshot_4" Screenshot="[GlobalVariablesNamespace.GlobalVariables.ScreenShot]">
                              <ui:TakeScreenshot.Target>
                                <ui:Target ClippingRegion="{x:Null}" Element="{x:Null}" Selector="{x:Null}" Id="c88aa17c-2830-4d32-b1c0-b0757e415bb0">
                                  <ui:Target.TimeoutMS>
                                    <InArgument x:TypeArguments="x:Int32" />
                                  </ui:Target.TimeoutMS>
                                  <ui:Target.WaitForReady>
                                    <InArgument x:TypeArguments="ui:WaitForReady" />
                                  </ui:Target.WaitForReady>
                                </ui:Target>
                              </ui:TakeScreenshot.Target>
                              <sap:WorkflowViewStateService.ViewState>
                                <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                  <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                  <x:Boolean x:Key="IsPinned">False</x:Boolean>
                                </scg:Dictionary>
                              </sap:WorkflowViewStateService.ViewState>
                            </ui:TakeScreenshot>
                            <ui:SaveImage DisplayName="Save Image" FileName="[in_config(&quot;Settings&quot;)(&quot;RutaScreenShot&quot;).ToString + &quot;ScreenShot_&quot; + Now.ToString(&quot;yyyyMMdd_HHmmss&quot;) + &quot;.png&quot;]" sap:VirtualizedContainerService.HintSize="416,158" sap2010:WorkflowViewState.IdRef="SaveImage_4" Image="[GlobalVariablesNamespace.GlobalVariables.ScreenShot]" />
                          </Sequence>
                          <If sap2010:Annotation.AnnotationText="Checks if notifications are enable" Condition="[If(String.IsNullOrEmpty(in_config(&quot;Settings&quot;)(&quot;NotificarBusinessException&quot;).ToString),False,CBool(in_config(&quot;Settings&quot;)(&quot;NotificarBusinessException&quot;).ToString))]" DisplayName="If - Notify BusinessException" sap:VirtualizedContainerService.HintSize="488,1121" sap2010:WorkflowViewState.IdRef="If_197">
                            <sap:WorkflowViewStateService.ViewState>
                              <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                                <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                <x:Boolean x:Key="IsPinned">False</x:Boolean>
                              </scg:Dictionary>
                            </sap:WorkflowViewStateService.ViewState>
                            <If.Then>
                              <Sequence DisplayName="Then" sap:VirtualizedContainerService.HintSize="486,861" sap2010:WorkflowViewState.IdRef="Sequence_573">
                                <sap:WorkflowViewStateService.ViewState>
                                  <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                    <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                  </scg:Dictionary>
                                </sap:WorkflowViewStateService.ViewState>
                                <TryCatch sap2010:Annotation.AnnotationText="Notify BusinessException via email" DisplayName="Try Catch - Send Mail - BusinessException Notification" sap:VirtualizedContainerService.HintSize="452,801" sap2010:WorkflowViewState.IdRef="TryCatch_33">
                                  <sap:WorkflowViewStateService.ViewState>
                                    <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                      <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                                      <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                      <x:Boolean x:Key="IsPinned">False</x:Boolean>
                                    </scg:Dictionary>
                                  </sap:WorkflowViewStateService.ViewState>
                                  <TryCatch.Try>
                                    <Sequence DisplayName="Sequence - Send Mail - BusinessException Notification" sap:VirtualizedContainerService.HintSize="450,435" sap2010:WorkflowViewState.IdRef="Sequence_608">
                                      <sap:WorkflowViewStateService.ViewState>
                                        <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                          <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                        </scg:Dictionary>
                                      </sap:WorkflowViewStateService.ViewState>
                                      <ui:RetryScope LogRetriedExceptions="{x:Null}" RetriedExceptionsLogLevel="{x:Null}" sap2010:Annotation.AnnotationText="Notify BusinessException via email" DisplayName="Retry Scope - Send Mail - BusinessException Notification" sap:VirtualizedContainerService.HintSize="416,375" sap2010:WorkflowViewState.IdRef="RetryScope_55" NumberOfRetries="3" RetryInterval="00:00:05">
                                        <ui:RetryScope.ActivityBody>
                                          <ActivityAction>
                                            <ui:Comment sap:VirtualizedContainerService.HintSize="334,76" sap2010:WorkflowViewState.IdRef="Comment_5" Text="// Agregar codigo para envio de email de BussinessException" />
                                          </ActivityAction>
                                        </ui:RetryScope.ActivityBody>
                                        <ui:RetryScope.Condition>
                                          <ActivityFunc x:TypeArguments="x:Boolean" />
                                        </ui:RetryScope.Condition>
                                        <sap:WorkflowViewStateService.ViewState>
                                          <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                            <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
                                            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                            <x:Boolean x:Key="IsPinned">False</x:Boolean>
                                          </scg:Dictionary>
                                        </sap:WorkflowViewStateService.ViewState>
                                      </ui:RetryScope>
                                    </Sequence>
                                  </TryCatch.Try>
                                  <TryCatch.Catches>
                                    <Catch x:TypeArguments="s:Exception" sap:VirtualizedContainerService.HintSize="454,21" sap2010:WorkflowViewState.IdRef="Catch`1_36">
                                      <sap:WorkflowViewStateService.ViewState>
                                        <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                          <x:Boolean x:Key="IsExpanded">False</x:Boolean>
                                          <x:Boolean x:Key="IsPinned">False</x:Boolean>
                                        </scg:Dictionary>
                                      </sap:WorkflowViewStateService.ViewState>
                                      <ActivityAction x:TypeArguments="s:Exception">
                                        <ActivityAction.Argument>
                                          <DelegateInArgument x:TypeArguments="s:Exception" Name="exception" />
                                        </ActivityAction.Argument>
                                      </ActivityAction>
                                    </Catch>
                                  </TryCatch.Catches>
                                  <TryCatch.Finally>
                                    <Sequence DisplayName="Finally" sap:VirtualizedContainerService.HintSize="450,90" sap2010:WorkflowViewState.IdRef="Sequence_628">
                                      <sap:WorkflowViewStateService.ViewState>
                                        <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                          <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                        </scg:Dictionary>
                                      </sap:WorkflowViewStateService.ViewState>
                                    </Sequence>
                                  </TryCatch.Finally>
                                </TryCatch>
                              </Sequence>
                            </If.Then>
                            <If.Else>
                              <Sequence DisplayName="Else" sap:VirtualizedContainerService.HintSize="486,90" sap2010:WorkflowViewState.IdRef="Sequence_574">
                                <sap:WorkflowViewStateService.ViewState>
                                  <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                    <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                  </scg:Dictionary>
                                </sap:WorkflowViewStateService.ViewState>
                              </Sequence>
                            </If.Else>
                          </If>
                          <ui:RetryScope LogRetriedExceptions="{x:Null}" RetriedExceptionsLogLevel="{x:Null}" DisplayName="Retry Scope - Set Transaction Status - BusinessException" sap:VirtualizedContainerService.HintSize="488,462" sap2010:WorkflowViewState.IdRef="RetryScope_58" NumberOfRetries="3" RetryInterval="00:00:20">
                            <ui:RetryScope.ActivityBody>
                              <ActivityAction>
                                <ui:SetTransactionStatus ContinueOnError="{x:Null}" FolderPath="{x:Null}" ServiceBaseAddress="{x:Null}" Details="[ex_businessException.Message]" DisplayName="Set Transaction Status - BusinessException" ErrorType="Business" sap:VirtualizedContainerService.HintSize="334,194" sap2010:WorkflowViewState.IdRef="SetTransactionStatus_20" Reason="BusinessException - Process TransactionItem" Status="Failed" TimeoutMS="60000" TransactionItem="[queueItem_TransactionItem]">
                                  <ui:SetTransactionStatus.Analytics>
                                    <InArgument x:TypeArguments="x:String" x:Key="Exception ScreenShot URL">[str_screenshotUrl]</InArgument>
                                  </ui:SetTransactionStatus.Analytics>
                                  <ui:SetTransactionStatus.Output>
                                    <InArgument x:TypeArguments="x:String" x:Key="QueueParameters">[JsonConvert.SerializeObject(dic_queueParameters).ToString]</InArgument>
                                  </ui:SetTransactionStatus.Output>
                                </ui:SetTransactionStatus>
                              </ActivityAction>
                            </ui:RetryScope.ActivityBody>
                            <ui:RetryScope.Condition>
                              <ActivityFunc x:TypeArguments="x:Boolean" />
                            </ui:RetryScope.Condition>
                            <sap:WorkflowViewStateService.ViewState>
                              <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                <x:Boolean x:Key="IsPinned">False</x:Boolean>
                              </scg:Dictionary>
                            </sap:WorkflowViewStateService.ViewState>
                          </ui:RetryScope>
                        </Sequence>
                      </TryCatch.Try>
                      <TryCatch.Catches>
                        <Catch x:TypeArguments="s:Exception" sap:VirtualizedContainerService.HintSize="630,22" sap2010:WorkflowViewState.IdRef="Catch`1_24">
                          <sap:WorkflowViewStateService.ViewState>
                            <scg:Dictionary x:TypeArguments="x:String, x:Object">
                              <x:Boolean x:Key="IsExpanded">False</x:Boolean>
                              <x:Boolean x:Key="IsPinned">False</x:Boolean>
                            </scg:Dictionary>
                          </sap:WorkflowViewStateService.ViewState>
                          <ActivityAction x:TypeArguments="s:Exception">
                            <ActivityAction.Argument>
                              <DelegateInArgument x:TypeArguments="s:Exception" Name="exception" />
                            </ActivityAction.Argument>
                            <Sequence DisplayName="Sequence - Exception - Transition - BusinessException" sap:VirtualizedContainerService.HintSize="522,226" sap2010:WorkflowViewState.IdRef="Sequence_529">
                              <sap:WorkflowViewStateService.ViewState>
                                <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                  <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                </scg:Dictionary>
                              </sap:WorkflowViewStateService.ViewState>
                              <ui:LogMessage DisplayName="Log Message - Transition - BusinessException" sap:VirtualizedContainerService.HintSize="488,166" sap2010:WorkflowViewState.IdRef="LogMessage_85" Level="Error" Message="[&quot;Se ha producido un error (Transition - BusinessException) en: &quot; + exception.Source + &quot;. Error debido a: &quot; + exception.Message + &quot;. Tipo de error: &quot; + exception.GetType.ToString]">
                                <sap:WorkflowViewStateService.ViewState>
                                  <scg:Dictionary x:TypeArguments="x:String, x:Object">
                                    <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                                    <x:Boolean x:Key="IsPinned">False</x:Boolean>
                                  </scg:Dictionary>
                                </sap:WorkflowViewStateService.ViewState>
                              </ui:LogMessage>
                            </Sequence>
                          </ActivityAction>
                        </Catch>
                      </TryCatch.Catches>
                      <TryCatch.Finally>
                        <Sequence DisplayName="Finally" sap:VirtualizedContainerService.HintSize="522,90" sap2010:WorkflowViewState.IdRef="Sequence_629">
                          <sap:WorkflowViewStateService.ViewState>
                            <scg:Dictionary x:TypeArguments="x:String, x:Object">
                              <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                            </scg:Dictionary>
                          </sap:WorkflowViewStateService.ViewState>
                        </Sequence>
                      </TryCatch.Finally>
                    </TryCatch>
                  </Transition.Action>
                  <Transition.Condition>[ex_businessException IsNot Nothing]</Transition.Condition>
                </Transition>
              </State.Transitions>
            </State>
          </Transition.To>
          <Transition.Action>
            <Sequence DisplayName="Sequence - Transition - New TransactionItem" sap:VirtualizedContainerService.HintSize="450,226" sap2010:WorkflowViewState.IdRef="Sequence_501">
              <sap:WorkflowViewStateService.ViewState>
                <scg:Dictionary x:TypeArguments="x:String, x:Object">
                  <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                  <x:Boolean x:Key="IsPinned">False</x:Boolean>
                </scg:Dictionary>
              </sap:WorkflowViewStateService.ViewState>
              <ui:LogMessage DisplayName="Log Message - Transition - New TransactionItem" sap:VirtualizedContainerService.HintSize="416,166" sap2010:WorkflowViewState.IdRef="LogMessage_66" Level="Info" Message="[&quot;Transicion. de 'State - Get Transaction Data' a 'State - Process TransactionItem' mediante 'New TransactionItem'&quot;]" />
            </Sequence>
          </Transition.Action>
          <Transition.Condition>[ex_Exception Is Nothing AndAlso ex_businessException is Nothing]</Transition.Condition>
        </Transition>
      </State.Transitions>
      <State.Variables>
        <Variable x:TypeArguments="x:Boolean" Default="False" Name="bool_workDone" />
      </State.Variables>
    </State>
    <x:Reference>__ReferenceID2</x:Reference>
    <x:Reference>__ReferenceID1</x:Reference>
    <x:Reference>__ReferenceID3</x:Reference>
    <StateMachine.Variables>
      <Variable x:TypeArguments="x:Boolean" Name="BaseBatosEnable" />
      <Variable x:TypeArguments="ui:QueueItem" sap2010:Annotation.AnnotationText="Transaction item to be processed. The type of this variable can be changed to match the transaction type in the process. For example, when processing data from a spreadsheet that is read into a DataTable, this type can be changed to DataRow. " Name="queueitem_transactionItem" />
      <Variable x:TypeArguments="x:Int32" Default="0" Name="int_transactionsItemsProcessed" />
      <Variable x:TypeArguments="x:Boolean" Default="False" Name="bool_shouldStop" />
      <Variable x:TypeArguments="x:Boolean" Default="True" Name="bool_firstExecution" />
      <Variable x:TypeArguments="s:DateTime" Name="datetime_maximumExecutionTimeProcessingTransactionItems" />
      <Variable x:TypeArguments="scg:Dictionary(x:String, x:Object)" Default="[New Dictionary(Of String, Object)()]" Name="dic_queueParameters" />
      <Variable x:TypeArguments="x:Boolean" Default="False" Name="bool_timeExceeded" />
      <Variable x:TypeArguments="x:Boolean" Default="True" Name="bool_stateApps" />
      <Variable x:TypeArguments="x:Int32" Default="0" Name="int_retryNumber" />
      <Variable x:TypeArguments="x:Int32" Default="0" Name="int_maximumRetryNumber" />
      <Variable x:TypeArguments="x:Int32" Default="0" Name="int_businessExceptionsNumber" />
      <Variable x:TypeArguments="x:Int32" Default="0" Name="int_systemExceptionsNumber" />
      <Variable x:TypeArguments="scg:Dictionary(x:String, x:Object)" Default="[New Dictionary(Of String, Object)()]" Name="dic_logData" />
      <Variable x:TypeArguments="s:Exception" Name="ex_exception" />
      <Variable x:TypeArguments="ui:BusinessRuleException" Name="ex_businessException" />
      <Variable x:TypeArguments="s:SystemException" Name="ex_systemException" />
      <Variable x:TypeArguments="s:ArgumentException" Name="ex_argumentException" />
      <Variable x:TypeArguments="ui:SelectorNotFoundException" Name="ex_selectorNotFoundException" />
      <Variable x:TypeArguments="x:Boolean" Name="bool_allowProcessExecution" />
      <Variable x:TypeArguments="x:Boolean" Name="bool_allowAllProcessesExecution" />
      <Variable x:TypeArguments="scg:Dictionary(x:String, x:Object)" Default="[new Dictionary(Of String, Object)()]" Name="dic_dataLog" />
      <Variable x:TypeArguments="s:DateTime" Name="datetime_currentTime" />
    </StateMachine.Variables>
  </StateMachine>
</Activity>